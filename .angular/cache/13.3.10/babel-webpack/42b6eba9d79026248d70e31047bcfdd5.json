{"ast":null,"code":"/**\r\n * DevExtreme (esm/core/utils/dependency_injector.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"./extend\";\nimport { isFunction } from \"./type\";\nimport { each } from \"./iterator\";\nimport Class from \"../class\";\nexport default function (object) {\n  var BaseClass = Class.inherit(object);\n  var InjectedClass = BaseClass;\n  var instance = new InjectedClass(object);\n  var initialFields = {};\n\n  var injectFields = function injectFields(injectionObject, initial) {\n    each(injectionObject, function (key) {\n      if (isFunction(instance[key])) {\n        if (initial || !object[key]) {\n          object[key] = function () {\n            return instance[key].apply(object, arguments);\n          };\n        }\n      } else {\n        if (initial) {\n          initialFields[key] = object[key];\n        }\n\n        object[key] = instance[key];\n      }\n    });\n  };\n\n  injectFields(object, true);\n\n  object.inject = function (injectionObject) {\n    InjectedClass = InjectedClass.inherit(injectionObject);\n    instance = new InjectedClass();\n    injectFields(injectionObject);\n  };\n\n  object.resetInjection = function () {\n    extend(object, initialFields);\n    InjectedClass = BaseClass;\n    instance = new BaseClass();\n  };\n\n  return object;\n}","map":null,"metadata":{},"sourceType":"module"}