{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/funnel/tiling.pyramid.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nvar CENTER = .5;\nvar LEFTCORNER = 0;\nvar RIGHTCORNER = 1;\nexport default {\n  getFigures: function getFigures(data, neckWidth, neckHeight) {\n    var height = 0;\n    var y = 0;\n    var x = 0;\n    var offsetX = 0;\n    var halfNeckWidth = neckWidth / 2;\n    var offsetFromCorner = CENTER - halfNeckWidth;\n    var funnelHeight = 1 - neckHeight;\n    var neckLeftCorner = CENTER - halfNeckWidth;\n    var neckRightCorner = CENTER + halfNeckWidth;\n    return data.map(function (value) {\n      x = offsetX;\n      y = height;\n      height += value;\n      offsetX = offsetFromCorner * height / funnelHeight;\n\n      if (y <= funnelHeight && height <= funnelHeight) {\n        return [x, y, RIGHTCORNER - x, y, RIGHTCORNER - offsetX, height, LEFTCORNER + offsetX, height];\n      } else if (y <= funnelHeight && height > funnelHeight) {\n        return [x, y, RIGHTCORNER - x, y, neckRightCorner, funnelHeight, neckRightCorner, height, neckLeftCorner, height, neckLeftCorner, funnelHeight];\n      } else {\n        return [neckLeftCorner, y, neckRightCorner, y, neckRightCorner, height, neckLeftCorner, height];\n      }\n    });\n  },\n  normalizeValues: function normalizeValues(items) {\n    var sum = items.reduce(function (sum, item) {\n      return sum + item.value;\n    }, 0);\n    return items.map(function (item) {\n      return item.value / sum;\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"module"}