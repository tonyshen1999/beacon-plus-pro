{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/series/points/bubble_point.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"../../../core/utils/extend\";\nimport symbolPoint from \"./symbol_point\";\nvar _extend = extend;\nvar MIN_BUBBLE_HEIGHT = 20;\nexport default _extend({}, symbolPoint, {\n  correctCoordinates: function correctCoordinates(diameter) {\n    this.bubbleSize = diameter / 2;\n  },\n  _drawMarker: function _drawMarker(renderer, group, animationEnabled) {\n    var attr = _extend({\n      translateX: this.x,\n      translateY: this.y\n    }, this._getStyle());\n\n    this.graphic = renderer.circle(0, 0, animationEnabled ? 0 : this.bubbleSize).smartAttr(attr).data({\n      \"chart-data-point\": this\n    }).append(group);\n  },\n  getTooltipParams: function getTooltipParams(location) {\n    var graphic = this.graphic;\n\n    if (!graphic) {\n      return;\n    }\n\n    var height = graphic.getBBox().height;\n    return {\n      x: this.x,\n      y: this.y,\n      offset: height < MIN_BUBBLE_HEIGHT || \"edge\" === location ? height / 2 : 0\n    };\n  },\n  _getLabelFormatObject: function _getLabelFormatObject() {\n    var formatObject = symbolPoint._getLabelFormatObject.call(this);\n\n    formatObject.size = this.initialSize;\n    return formatObject;\n  },\n  _updateData: function _updateData(data) {\n    symbolPoint._updateData.call(this, data);\n\n    this.size = this.initialSize = data.size;\n  },\n  _getGraphicBBox: function _getGraphicBBox() {\n    return this._getSymbolBBox(this.x, this.y, this.bubbleSize);\n  },\n  _updateMarker: function _updateMarker(animationEnabled, style) {\n    if (!animationEnabled) {\n      style = _extend({\n        r: this.bubbleSize,\n        translateX: this.x,\n        translateY: this.y\n      }, style);\n    }\n\n    this.graphic.smartAttr(style);\n  },\n  _getFormatObject: function _getFormatObject(tooltip) {\n    var formatObject = symbolPoint._getFormatObject.call(this, tooltip);\n\n    formatObject.sizeText = tooltip.formatValue(this.initialSize);\n    return formatObject;\n  },\n  _storeTrackerR: function _storeTrackerR() {\n    return this.bubbleSize;\n  },\n  _getLabelCoords: function _getLabelCoords(label) {\n    var coords;\n\n    if (\"inside\" === label.getLayoutOptions().position) {\n      coords = this._getLabelCoordOfPosition(label, \"inside\");\n    } else {\n      coords = symbolPoint._getLabelCoords.call(this, label);\n    }\n\n    return coords;\n  }\n});","map":null,"metadata":{},"sourceType":"module"}