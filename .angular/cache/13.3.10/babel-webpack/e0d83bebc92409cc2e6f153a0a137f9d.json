{"ast":null,"code":"/**\r\n * DevExtreme (esm/data/array_store.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { rejectedPromise, trivialPromise } from \"./utils\";\nimport Query from \"./query\";\nimport { errors } from \"./errors\";\nimport Store from \"./abstract_store\";\nimport { indexByKey, insert, applyBatch, update, remove } from \"./array_utils\";\nvar ArrayStore = Store.inherit({\n  ctor: function ctor(options) {\n    if (Array.isArray(options)) {\n      options = {\n        data: options\n      };\n    } else {\n      options = options || {};\n    }\n\n    this.callBase(options);\n    var initialArray = options.data;\n\n    if (initialArray && !Array.isArray(initialArray)) {\n      throw errors.Error(\"E4006\");\n    }\n\n    this._array = initialArray || [];\n  },\n  createQuery: function createQuery() {\n    return Query(this._array, {\n      errorHandler: this._errorHandler\n    });\n  },\n  _byKeyImpl: function _byKeyImpl(key) {\n    var index = indexByKey(this, this._array, key);\n\n    if (-1 === index) {\n      return rejectedPromise(errors.Error(\"E4009\"));\n    }\n\n    return trivialPromise(this._array[index]);\n  },\n  _insertImpl: function _insertImpl(values) {\n    return insert(this, this._array, values);\n  },\n  _pushImpl: function _pushImpl(changes) {\n    applyBatch({\n      keyInfo: this,\n      data: this._array,\n      changes: changes\n    });\n  },\n  _updateImpl: function _updateImpl(key, values) {\n    return update(this, this._array, key, values);\n  },\n  _removeImpl: function _removeImpl(key) {\n    return remove(this, this._array, key);\n  },\n  clear: function clear() {\n    this._eventsStrategy.fireEvent(\"modifying\");\n\n    this._array = [];\n\n    this._eventsStrategy.fireEvent(\"modified\");\n  }\n}, \"array\");\nexport default ArrayStore;","map":null,"metadata":{},"sourceType":"module"}