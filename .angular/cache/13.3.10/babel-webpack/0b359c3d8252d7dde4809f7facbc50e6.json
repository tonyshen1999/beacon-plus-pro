{"ast":null,"code":"import _classCallCheck from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n\n/**\r\n * DevExtreme (esm/ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getHeight, getWidth, getOuterHeight } from \"../../../core/utils/size\";\nimport Overlay from \"../../overlay/ui.overlay\";\nimport { TooltipStrategyBase } from \"./tooltipStrategyBase\";\nimport { getWindow } from \"../../../core/utils/window\";\nvar SLIDE_PANEL_CLASS_NAME = \"dx-scheduler-overlay-panel\";\nvar MAX_TABLET_OVERLAY_HEIGHT_FACTOR = .9;\nvar MAX_HEIGHT = {\n  PHONE: 250,\n  TABLET: \"90%\",\n  DEFAULT: \"auto\"\n};\nvar MAX_WIDTH = {\n  PHONE: \"100%\",\n  TABLET: \"80%\"\n};\nvar animationConfig = {\n  show: {\n    type: \"slide\",\n    duration: 300,\n    from: {\n      position: {\n        my: \"top\",\n        at: \"bottom\",\n        of: getWindow()\n      }\n    },\n    to: {\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: getWindow()\n      }\n    }\n  },\n  hide: {\n    type: \"slide\",\n    duration: 300,\n    to: {\n      position: {\n        my: \"top\",\n        at: \"bottom\",\n        of: getWindow()\n      }\n    },\n    from: {\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: getWindow()\n      }\n    }\n  }\n};\n\nvar createPhoneDeviceConfig = function createPhoneDeviceConfig(listHeight) {\n  return {\n    shading: false,\n    width: MAX_WIDTH.PHONE,\n    height: listHeight > MAX_HEIGHT.PHONE ? MAX_HEIGHT.PHONE : MAX_HEIGHT.DEFAULT,\n    position: {\n      my: \"bottom\",\n      at: \"bottom\",\n      of: getWindow()\n    }\n  };\n};\n\nvar createTabletDeviceConfig = function createTabletDeviceConfig(listHeight) {\n  var currentMaxHeight = getHeight(getWindow()) * MAX_TABLET_OVERLAY_HEIGHT_FACTOR;\n  return {\n    shading: true,\n    width: MAX_WIDTH.TABLET,\n    height: listHeight > currentMaxHeight ? MAX_HEIGHT.TABLET : MAX_HEIGHT.DEFAULT,\n    position: {\n      my: \"center\",\n      at: \"center\",\n      of: getWindow()\n    }\n  };\n};\n\nexport var MobileTooltipStrategy = /*#__PURE__*/function (_TooltipStrategyBase) {\n  _inherits(MobileTooltipStrategy, _TooltipStrategyBase);\n\n  var _super = _createSuper(MobileTooltipStrategy);\n\n  function MobileTooltipStrategy() {\n    _classCallCheck(this, MobileTooltipStrategy);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MobileTooltipStrategy, [{\n    key: \"_shouldUseTarget\",\n    value: function _shouldUseTarget() {\n      return false;\n    }\n  }, {\n    key: \"_onShowing\",\n    value: function _onShowing() {\n      var isTabletWidth = getWidth(getWindow()) > 700;\n\n      this._tooltip.option(\"height\", MAX_HEIGHT.DEFAULT);\n\n      var listHeight = getOuterHeight(this._list.$element());\n\n      this._tooltip.option(isTabletWidth ? createTabletDeviceConfig(listHeight) : createPhoneDeviceConfig(listHeight));\n    }\n  }, {\n    key: \"_createTooltip\",\n    value: function _createTooltip(target, dataList) {\n      var _this = this;\n\n      var element = this._createTooltipElement(SLIDE_PANEL_CLASS_NAME);\n\n      return this._options.createComponent(element, Overlay, {\n        target: getWindow(),\n        closeOnOutsideClick: true,\n        animation: animationConfig,\n        onShowing: function onShowing() {\n          return _this._onShowing();\n        },\n        onShown: this._onShown.bind(this),\n        contentTemplate: this._getContentTemplate(dataList),\n        copyRootClassesToWrapper: true,\n        _ignoreCopyRootClassesToWrapperDeprecation: true\n      });\n    }\n  }]);\n\n  return MobileTooltipStrategy;\n}(TooltipStrategyBase);","map":null,"metadata":{},"sourceType":"module"}