{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/range_selector/range_view.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nfunction drawSeriesView(root, seriesDataSource, canvas, isAnimationEnabled) {\n  var seriesList = seriesDataSource.getSeries();\n\n  if (!seriesList.length) {\n    return;\n  }\n\n  var valueAxis = seriesList[0].getValueAxis();\n  valueAxis.updateCanvas({\n    top: canvas.top,\n    bottom: 0,\n    height: canvas.height + canvas.top\n  });\n  seriesDataSource.adjustSeriesDimensions();\n  var valueRange = seriesDataSource.getBoundRange().val;\n  valueRange.sortCategories(valueAxis.getCategoriesSorter());\n  valueAxis.setBusinessRange(valueRange);\n  seriesList.forEach(function (series) {\n    series._extGroups.seriesGroup = series._extGroups.labelsGroup = root;\n    series.draw(isAnimationEnabled);\n  });\n}\n\nfunction merge(a, b) {\n  return void 0 !== a ? a : b;\n}\n\nexport function RangeView(params) {\n  this._params = params;\n  this._clipRect = params.renderer.clipRect();\n  params.root.attr({\n    \"clip-path\": this._clipRect.id\n  });\n}\nRangeView.prototype = {\n  constructor: RangeView,\n  update: function update(backgroundOption, backgroundTheme, canvas, isCompactMode, isAnimationEnabled, seriesDataSource) {\n    var renderer = this._params.renderer;\n    var root = this._params.root;\n    var canvasWidth = canvas.width - canvas.left;\n    var seriesGroup;\n    backgroundOption = backgroundOption || {};\n    root.clear();\n\n    this._clipRect.attr({\n      x: canvas.left,\n      y: canvas.top,\n      width: canvasWidth,\n      height: canvas.height\n    });\n\n    if (!isCompactMode) {\n      if (merge(backgroundOption.visible, backgroundTheme.visible)) {\n        if (backgroundOption.color) {\n          renderer.rect(canvas.left, canvas.top, canvasWidth + 1, canvas.height).attr({\n            fill: merge(backgroundOption.color, backgroundTheme.color),\n            class: \"dx-range-selector-background\"\n          }).append(root);\n        }\n\n        if (backgroundOption.image && backgroundOption.image.url) {\n          renderer.image(canvas.left, canvas.top, canvasWidth + 1, canvas.height, backgroundOption.image.url, merge(backgroundOption.image.location, backgroundTheme.image.location)).append(root);\n        }\n      }\n\n      if (seriesDataSource && seriesDataSource.isShowChart()) {\n        seriesGroup = renderer.g().attr({\n          class: \"dxrs-series-group\"\n        }).append(root);\n        drawSeriesView(seriesGroup, seriesDataSource, canvas, isAnimationEnabled);\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}