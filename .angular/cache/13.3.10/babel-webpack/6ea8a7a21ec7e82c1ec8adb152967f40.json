{"ast":null,"code":"/*!\n * DevExpress Diagram (dx-diagram.min)\n * Version: 2.1.47\n * Build date: Wed Jan 19 2022\n * \n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs\n */\n!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.diagram = e() : (t.DevExpress = t.DevExpress || {}, t.DevExpress.diagram = e());\n}(this, function () {\n  return function (t) {\n    var e = {};\n\n    function n(o) {\n      if (e[o]) return e[o].exports;\n      var i = e[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return t[o].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = t, n.c = e, n.d = function (t, e, o) {\n      n.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: o\n      });\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (t, e) {\n      if (1 & e && (t = n(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var o = Object.create(null);\n      if (n.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var i in t) n.d(o, i, function (e) {\n        return t[e];\n      }.bind(null, i));\n      return o;\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return n.d(e, \"a\", e), e;\n    }, n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.p = \"\", n(n.s = 81);\n  }([function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeType = e.ShapeTypes = e.ShapeCategories = void 0;\n\n    var o = function () {\n      function t() {}\n\n      return t.General = \"general\", t.Flowchart = \"flowchart\", t.OrgChart = \"orgChart\", t.Containers = \"containers\", t.Custom = \"custom\", t;\n    }();\n\n    e.ShapeCategories = o;\n\n    var i = function () {\n      function t() {}\n\n      return t.Text = \"text\", t.Rectangle = \"rectangle\", t.Ellipse = \"ellipse\", t.Cross = \"cross\", t.Triangle = \"triangle\", t.Diamond = \"diamond\", t.Heart = \"heart\", t.Pentagon = \"pentagon\", t.Hexagon = \"hexagon\", t.Octagon = \"octagon\", t.Star = \"star\", t.ArrowLeft = \"arrowLeft\", t.ArrowUp = \"arrowTop\", t.ArrowRight = \"arrowRight\", t.ArrowDown = \"arrowBottom\", t.ArrowUpDown = \"arrowNorthSouth\", t.ArrowLeftRight = \"arrowEastWest\", t.Process = \"process\", t.Decision = \"decision\", t.Terminator = \"terminator\", t.PredefinedProcess = \"predefinedProcess\", t.Document = \"document\", t.MultipleDocuments = \"multipleDocuments\", t.ManualInput = \"manualInput\", t.Preparation = \"preparation\", t.Data = \"data\", t.Database = \"database\", t.HardDisk = \"hardDisk\", t.InternalStorage = \"internalStorage\", t.PaperTape = \"paperTape\", t.ManualOperation = \"manualOperation\", t.Delay = \"delay\", t.StoredData = \"storedData\", t.Display = \"display\", t.Merge = \"merge\", t.Connector = \"connector\", t.Or = \"or\", t.SummingJunction = \"summingJunction\", t.Container = \"container\", t.VerticalContainer = \"verticalContainer\", t.HorizontalContainer = \"horizontalContainer\", t.Card = \"card\", t.CardWithImageOnLeft = \"cardWithImageOnLeft\", t.CardWithImageOnTop = \"cardWithImageOnTop\", t.CardWithImageOnRight = \"cardWithImageOnRight\", t;\n    }();\n\n    e.ShapeTypes = i, function (t) {\n      t[t.text = 0] = \"text\", t[t.rectangle = 1] = \"rectangle\", t[t.ellipse = 2] = \"ellipse\", t[t.cross = 3] = \"cross\", t[t.triangle = 4] = \"triangle\", t[t.diamond = 5] = \"diamond\", t[t.heart = 6] = \"heart\", t[t.pentagon = 7] = \"pentagon\", t[t.hexagon = 8] = \"hexagon\", t[t.octagon = 9] = \"octagon\", t[t.star = 10] = \"star\", t[t.arrowLeft = 11] = \"arrowLeft\", t[t.arrowTop = 12] = \"arrowTop\", t[t.arrowRight = 13] = \"arrowRight\", t[t.arrowBottom = 14] = \"arrowBottom\", t[t.arrowNorthSouth = 15] = \"arrowNorthSouth\", t[t.arrowEastWest = 16] = \"arrowEastWest\", t[t.process = 17] = \"process\", t[t.decision = 18] = \"decision\", t[t.terminator = 19] = \"terminator\", t[t.predefinedProcess = 20] = \"predefinedProcess\", t[t.document = 21] = \"document\", t[t.multipleDocuments = 22] = \"multipleDocuments\", t[t.manualInput = 23] = \"manualInput\", t[t.preparation = 24] = \"preparation\", t[t.data = 25] = \"data\", t[t.database = 26] = \"database\", t[t.hardDisk = 27] = \"hardDisk\", t[t.internalStorage = 28] = \"internalStorage\", t[t.paperTape = 29] = \"paperTape\", t[t.manualOperation = 30] = \"manualOperation\", t[t.delay = 31] = \"delay\", t[t.storedData = 32] = \"storedData\", t[t.display = 33] = \"display\", t[t.merge = 34] = \"merge\", t[t.connector = 35] = \"connector\", t[t.or = 36] = \"or\", t[t.summingJunction = 37] = \"summingJunction\", t[t.verticalContainer = 38] = \"verticalContainer\", t[t.horizontalContainer = 39] = \"horizontalContainer\", t[t.cardWithImageOnLeft = 40] = \"cardWithImageOnLeft\", t[t.cardWithImageOnTop = 41] = \"cardWithImageOnTop\", t[t.cardWithImageOnRight = 42] = \"cardWithImageOnRight\";\n    }(e.ShapeType || (e.ShapeType = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t(t, e) {\n        this.x = t, this.y = e;\n      }\n\n      return t.zero = function () {\n        return new t(0, 0);\n      }, t.fromNumber = function (e) {\n        return new t(e, e);\n      }, t.prototype.isZero = function () {\n        return 0 === this.x && 0 === this.y;\n      }, t.prototype.toString = function () {\n        return JSON.stringify(this);\n      }, t.prototype.copyFrom = function (t) {\n        this.x = t.x, this.y = t.y;\n      }, t.prototype.clone = function () {\n        return new t(this.x, this.y);\n      }, t.prototype.equals = function (t) {\n        return this.x === t.x && this.y === t.y;\n      }, t.prototype.offset = function (t, e) {\n        return this.x += t, this.y += e, this;\n      }, t.prototype.offsetByPoint = function (t) {\n        return this.x += t.x, this.y += t.y, this;\n      }, t.prototype.multiply = function (t, e) {\n        return this.x *= t, this.y *= e, this;\n      }, t.prototype.negative = function () {\n        return this.x *= -1, this.y *= -1, this;\n      }, t.prototype.applyConverter = function (t) {\n        return this.x = t(this.x), this.y = t(this.y), this;\n      }, t.plus = function (e, n) {\n        return new t(e.x + n.x, e.y + n.y);\n      }, t.minus = function (e, n) {\n        return new t(e.x - n.x, e.y - n.y);\n      }, t.xComparer = function (t, e) {\n        return t.x - e.x;\n      }, t.yComparer = function (t, e) {\n        return t.y - e.y;\n      }, t.equals = function (t, e) {\n        return t.x === e.x && t.y === e.y;\n      }, t;\n    }();\n\n    e.Point = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t(t, e) {\n        this.width = t, this.height = e;\n      }\n\n      return t.empty = function () {\n        return new t(0, 0);\n      }, t.fromNumber = function (e) {\n        return new t(e, e);\n      }, t.initByCommonAction = function (e) {\n        var n = function n(t) {\n          return t.width;\n        },\n            o = function o(t) {\n          return t.height;\n        };\n\n        return new t(e(n, o), e(o, n));\n      }, t.prototype.isEmpty = function () {\n        return 0 === this.width && 0 === this.height;\n      }, t.prototype.toString = function () {\n        return JSON.stringify(this);\n      }, t.prototype.nonNegativeSize = function () {\n        return this.width < 0 && (this.width = 0), this.height < 0 && (this.height = 0), this;\n      }, t.prototype.offset = function (t, e) {\n        return this.width = this.width + t, this.height = this.height + e, this;\n      }, t.prototype.multiply = function (t, e) {\n        return this.width *= t, this.height *= e, this;\n      }, t.prototype.equals = function (t) {\n        return this.width === t.width && this.height === t.height;\n      }, t.prototype.clone = function () {\n        return new t(this.width, this.height);\n      }, t.prototype.copyFrom = function (t) {\n        this.width = t.width, this.height = t.height;\n      }, t.prototype.applyConverter = function (t) {\n        return this.width = t(this.width), this.height = t(this.height), this;\n      }, t.equals = function (t, e) {\n        return t.width === e.width && t.height === e.height;\n      }, t;\n    }();\n\n    e.Size = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.HtmlFocusUtils = e.ObjectUtils = e.GeometryUtils = e.Utils = e.EventDispatcher = e.Range = e.LineEquation = void 0, n(175);\n\n    var o = n(2),\n        i = n(1),\n        r = n(11),\n        s = n(42),\n        a = n(36),\n        c = n(33),\n        u = n(58),\n        h = n(34),\n        p = n(28),\n        l = n(19),\n        d = function () {\n      function t(t, e, n) {\n        this.aParam = t, this.bParam = e, this.cParam = n;\n      }\n\n      return t.fromPoints = function (e, n, o) {\n        return void 0 === o && (o = 1e-5), m.areDuplicatedPoints(e, n, o) ? void 0 : new t(n.y - e.y, e.x - n.x, n.x * e.y - e.x * n.y);\n      }, t.prototype.getPointIntersection = function (t, e) {\n        void 0 === e && (e = 1e-5);\n        var n = this.aParam,\n            o = this.bParam,\n            i = this.cParam,\n            r = t.aParam,\n            s = t.bParam,\n            a = t.cParam,\n            u = r * o - n * s;\n        if (c.MathUtils.numberCloseTo(u, 0, e)) return null;\n\n        if (0 === n) {\n          var h = (s * i - a * o) / (o * r);\n          return this.createPoint(h, -i / o);\n        }\n\n        var p = (a * n - i * r) / u;\n        return this.createPoint((-o * p - i) / n, p);\n      }, t.prototype.containsPoint = function (t, e) {\n        return void 0 === e && (e = 1e-5), c.MathUtils.numberCloseTo(this.aParam * t.x + this.bParam * t.y + this.cParam, 0, e);\n      }, t.prototype.createPoint = function (t, e, n) {\n        return void 0 === n && (n = 1e-5), new i.Point(c.MathUtils.numberCloseTo(t, 0, n) ? 0 : t, c.MathUtils.numberCloseTo(e, 0, n) ? 0 : e);\n      }, t;\n    }();\n\n    e.LineEquation = d;\n\n    var f = function () {\n      function t(t, e) {\n        this.from = t, this.to = void 0 !== e ? e : t;\n      }\n\n      return Object.defineProperty(t.prototype, \"length\", {\n        get: function get() {\n          return Math.abs(this.to - this.from);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.extend = function (t) {\n        this.from = Math.min(t.from, this.from), this.to = Math.max(t.to, this.to);\n      }, t.prototype.includes = function (t) {\n        return t >= this.from && t <= this.to;\n      }, t.fromLength = function (e, n) {\n        return new t(e, e + n);\n      }, t;\n    }();\n\n    e.Range = f;\n\n    var y = function () {\n      function t() {\n        this.listeners = [];\n      }\n\n      return t.prototype.add = function (t) {\n        if (!t) throw new Error(\"Not Implemented\");\n        this.hasEventListener(t) || this.listeners.push(t);\n      }, t.prototype.remove = function (t) {\n        for (var e = 0, n = void 0; n = this.listeners[e]; e++) if (n === t) {\n          this.listeners.splice(e, 1);\n          break;\n        }\n      }, t.prototype.raise = function (t) {\n        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];\n\n        for (var o = 0, i = void 0; i = this.listeners[o]; o++) {\n          var r = i[t];\n          r && r.apply(i, e);\n        }\n      }, t.prototype.raise1 = function (t) {\n        for (var e = 0, n = void 0; n = this.listeners[e]; e++) t(n);\n      }, t.prototype.hasEventListener = function (t) {\n        for (var e = 0, n = this.listeners.length; e < n; e++) if (this.listeners[e] === t) return !0;\n\n        return !1;\n      }, t;\n    }();\n\n    e.EventDispatcher = y;\n\n    var g = function () {\n      function t() {}\n\n      return t.flatten = function (t) {\n        return [].concat.apply([], t);\n      }, t;\n    }();\n\n    e.Utils = g;\n\n    var m = function () {\n      function t() {}\n\n      return t.getCommonRectangle = function (t) {\n        if (!t.length) return new r.Rectangle(0, 0, 0, 0);\n        var e = Number.MAX_VALUE,\n            n = -Number.MAX_VALUE,\n            o = Number.MAX_VALUE,\n            i = -Number.MAX_VALUE;\n        return t.forEach(function (t) {\n          e = Math.min(e, t.x), n = Math.max(n, t.right), o = Math.min(o, t.y), i = Math.max(i, t.bottom);\n        }), new r.Rectangle(e, o, n - e, i - o);\n      }, t.findFreeSpace = function (t, e, n, o) {\n        var r = [o ? o.x : 0],\n            a = [o ? o.y : 0];\n        t.forEach(function (t) {\n          r.push(t.x), r.push(t.right), a.push(t.y), a.push(t.bottom);\n        }), r = r.sort(function (t, e) {\n          return t - e;\n        }).reduce(function (t, e, n) {\n          return r[n - 1] !== e && t.push(e) && t || t;\n        }, []);\n\n        for (var c = (a = a.sort(function (t, e) {\n          return t - e;\n        }).reduce(function (t, e, n) {\n          return a[n - 1] !== e && t.push(e) && t || t;\n        }, [])).map(function (t) {\n          return r.map(function (t, e) {\n            return r[e + 1] - t;\n          });\n        }), u = function u(t, e) {\n          for (var n = s.SearchUtils.binaryIndexOf(r, function (t) {\n            return t - e.x;\n          }), o = s.SearchUtils.binaryIndexOf(r, function (t) {\n            return t - e.right;\n          }), i = s.SearchUtils.binaryIndexOf(a, function (t) {\n            return t - e.y;\n          }), u = s.SearchUtils.binaryIndexOf(a, function (t) {\n            return t - e.bottom;\n          }), h = i; h < u; h++) for (var p = n; p < o; p++) c[h][p] *= -1;\n        }, h = 0, p = void 0; p = t[h]; h++) u(0, p);\n\n        for (var l = 0; l < a.length; l++) for (var d = 0; d < r.length - 1; d++) {\n          var f = this.checkRect(c, a, r, l, d, e, n);\n          if (f > 0) d = f;else if (0 === f) return new i.Point(r[d], a[l]);\n        }\n\n        return null;\n      }, t.checkRect = function (t, e, n, o, i, r, s) {\n        for (var a = 0, c = 0, u = n.length - 2, h = o; h < e.length; h++) {\n          a = e[h + 1] - e[o];\n\n          for (var p = i; p <= u; p++) {\n            if (t[h][p] < 0) return 0 === p ? -1 : p;\n\n            if (c = n[p + 1] - n[i], r.width <= c || !s && p === n.length - 2 && r.width / 2 <= c) {\n              if (r.height <= a || !s && h === e.length - 2 && r.height / 2 <= a) return 0;\n              u = p;\n            }\n          }\n        }\n      }, t.getArrowPoints = function (t, e, n, o) {\n        if (t.x === e.x && t.y === e.y) return {\n          point1: t.clone(),\n          point2: t.clone(),\n          point3: t.clone()\n        };\n        var r = e.x - t.x,\n            s = e.y - t.y,\n            a = Math.sqrt(Math.pow(r, 2) + Math.pow(s, 2)),\n            c = r / a,\n            u = s / a,\n            h = t.x + n * c + o * u,\n            p = t.y + n * u - o * c,\n            l = t.x + n * c - o * u,\n            d = t.y + n * u + o * c,\n            f = t.x + n * c,\n            y = t.y + n * u;\n        return {\n          point1: new i.Point(h, p),\n          point2: new i.Point(l, d),\n          point3: new i.Point(f, y)\n        };\n      }, t.createSegments = function (t) {\n        for (var e = [], n = 1; n < t.length; n++) e.push(new h.Segment(t[n - 1], t[n]));\n\n        return e;\n      }, t.createRectagle = function (t) {\n        var e = t.map(function (t) {\n          return t.x;\n        }),\n            n = t.map(function (t) {\n          return t.y;\n        }),\n            o = e.reduce(function (t, e) {\n          return Math.min(t, e);\n        }, Number.MAX_VALUE),\n            i = e.reduce(function (t, e) {\n          return Math.max(t, e);\n        }, -Number.MAX_VALUE),\n            s = n.reduce(function (t, e) {\n          return Math.min(t, e);\n        }, Number.MAX_VALUE),\n            a = n.reduce(function (t, e) {\n          return Math.max(t, e);\n        }, -Number.MAX_VALUE);\n        return new r.Rectangle(o, s, i - o, a - s);\n      }, t.createSegmentsFromRectangle = function (t) {\n        var e = [],\n            n = new i.Point(t.x, t.y),\n            o = new i.Point(t.right, t.y),\n            r = new i.Point(t.right, t.bottom),\n            s = new i.Point(t.x, t.bottom);\n        return e.push(new h.Segment(n, o)), e.push(new h.Segment(o, r)), e.push(new h.Segment(r, s)), e.push(new h.Segment(s, n)), e;\n      }, t.areSegmentsCutRectangle = function (e, n) {\n        if (!n) return !1;\n\n        for (var o = t.createSegmentsFromRectangle(n), i = !1, r = !1, s = function s(t) {\n          if (i && r) return {\n            value: !0\n          };\n          var s = e[t];\n\n          if (s.isIntersectedByRect(n)) {\n            var a = s.startPoint,\n                c = s.endPoint,\n                u = n.containsPoint(a),\n                h = n.containsPoint(c);\n            if (!u && !h) return {\n              value: !0\n            };\n\n            if (u && !h) {\n              var p = o.filter(function (t) {\n                return t.containsPoint(a);\n              });\n              if (p.length > 0) o.filter(function (t) {\n                return 1 === p.length ? !t.containsPoint(p[0].startPoint) && !t.containsPoint(p[0].endPoint) : t !== p[0] && t !== p[1];\n              }).some(function (t) {\n                return s.isIntersected(t);\n              }) && !i && (i = !0);\n              return r || (r = !0), \"continue\";\n            }\n\n            if (!u && h) {\n              i || (i = !0, r && (r = !1));\n              var l = o.filter(function (t) {\n                return t.containsPoint(c);\n              });\n              if (l.length > 0) o.filter(function (t) {\n                return 1 === l.length ? !t.containsPoint(l[0].startPoint) && !t.containsPoint(l[0].endPoint) : t !== l[0] && t !== l[1];\n              }).some(function (t) {\n                return s.isIntersected(t);\n              }) && !r && (r = !0);\n              return \"continue\";\n            }\n\n            var d = o.filter(function (t) {\n              return t.containsPoint(a);\n            }),\n                f = o.filter(function (t) {\n              return t.containsPoint(c);\n            });\n            if (2 === d.length && 2 === f.length) return {\n              value: !0\n            };\n            if (1 === d.length && 1 === f.length && d[0] !== f[0]) return {\n              value: !0\n            };\n            r || 1 !== f.length || d.length || (r = !0), i || 1 !== d.length || f.length || (i = !0, r && (r = !1));\n          }\n        }, a = 0; a < e.length; a++) {\n          var c = s(a);\n          if (\"object\" == typeof c) return c.value;\n        }\n\n        return i && r;\n      }, t.areIntersectedSegments = function (t, e) {\n        if (!e) return !1;\n\n        for (var n, o = 0; n = t[o];) {\n          for (var i = 0, r = void 0; r = e[i];) {\n            if (r.isIntersected(n)) return !0;\n            i++;\n          }\n\n          o++;\n        }\n\n        return !1;\n      }, t.isLineIntersected = function (e, n, o, i, r) {\n        var s = d.fromPoints(e, n),\n            a = o.startPoint,\n            c = o.endPoint;\n        if (s.containsPoint(a) && s.containsPoint(c)) return !i && !r;\n        var u = d.fromPoints(a, c).getPointIntersection(s);\n        return !(!u || !o.containsPoint(u)) && (i ? !t.areDuplicatedPoints(a, u) : !r || !t.areDuplicatedPoints(c, u));\n      }, t.removeUnnecessaryPoints = function (t, e, n, o) {\n        void 0 === n && (n = function n(t) {\n          return void 0 !== t;\n        }), void 0 === o && (o = 1e-5), this.removeUnnecessaryPointsCore(t, e, n, o), this.removeBackwardPoints(t, e, n, o), this.removeUnnecessaryPointsCore(t, e, n, o);\n      }, t.removeUnnecessaryRightAnglePoints = function (t, e, n, o) {\n        void 0 === n && (n = function n(t) {\n          return void 0 !== t;\n        }), void 0 === o && (o = 1e-5), this.removeUnnecessaryPointsCore(t, e, n, o), this.removeBackwardPoints(t, e, n, o), this.removeNotRightAnglePoints(t, e, n, o), this.removeUnnecessaryPointsCore(t, e, n, o);\n      }, t.removeUnnecessaryPointsCore = function (t, e, n, o) {\n        void 0 === n && (n = function n(t) {\n          return void 0 !== t;\n        }), void 0 === o && (o = 1e-5), this.removeDuplicatedPoints(t, e, n, o), this.removeNotCornersPoints(t, e, n, o);\n      }, t.removeNotRightAnglePoints = function (e, n, o, i) {\n        void 0 === o && (o = function o(t) {\n          return void 0 !== t;\n        }), void 0 === i && (i = 1e-5);\n\n        for (var r, s = 0; (r = e[s]) && e.length > 2;) {\n          var a = this.getNextPoint(e, s, 1, o),\n              c = this.getNextPoint(e, s, -1, o);\n          c && a && !t.isRightAngleCorner(c, r, a, i) && n(r, s) || s++;\n        }\n      }, t.removeDuplicatedPoints = function (e, n, o, i) {\n        void 0 === o && (o = function o(t) {\n          return void 0 !== t;\n        }), void 0 === i && (i = 1e-5);\n\n        for (var r, s = 0; (r = e[s]) && e.length > 2;) {\n          var a = this.getNextPoint(e, s, 1, o);\n\n          if (a && t.areDuplicatedPoints(r, a, i)) {\n            var c = s === e.length - 2 ? s : s + 1;\n            if (n(e[c], c)) continue;\n          }\n\n          s++;\n        }\n      }, t.removeNotCornersPoints = function (e, n, o, i) {\n        void 0 === o && (o = function o(t) {\n          return void 0 !== t;\n        }), void 0 === i && (i = 1e-5);\n\n        for (var r, s = 0; (r = e[s]) && e.length > 2;) {\n          var a = this.getNextPoint(e, s, 1, o),\n              c = this.getNextPoint(e, s, -1, o);\n          c && a && !t.isCorner(c, r, a, i) && n(r, s) || s++;\n        }\n      }, t.removeBackwardPoints = function (e, n, o, i) {\n        void 0 === o && (o = function o(t) {\n          return void 0 !== t;\n        }), void 0 === i && (i = 1e-5);\n\n        for (var r, s = 0; (r = e[s]) && e.length > 2;) {\n          var a = this.getNextPoint(e, s, 1, o),\n              c = this.getNextPoint(e, s, -1, o);\n          c && a && t.isBackwardPoint(c, r, a, i) && n(r, s) || s++;\n        }\n      }, t.isRightAngleCorner = function (e, n, o, i) {\n        return void 0 === i && (i = 1e-5), c.MathUtils.numberCloseTo(t.createAngle(e, n, o), Math.PI / 2, i) || c.MathUtils.numberCloseTo(t.createAngle(e, n, o), Math.PI, i) || c.MathUtils.numberCloseTo(t.createAngle(e, n, o), 3 * Math.PI / 2, i);\n      }, t.isCorner = function (e, n, o, i) {\n        return void 0 === i && (i = 1e-5), !c.MathUtils.numberCloseTo(t.createAngle(e, n, o), 0, i);\n      }, t.areDuplicatedPoints = function (t, e, n) {\n        return void 0 === n && (n = 1e-5), c.MathUtils.numberCloseTo(t.x, e.x, n) && c.MathUtils.numberCloseTo(t.y, e.y, n);\n      }, t.isBackwardPoint = function (e, n, o, i) {\n        return void 0 === i && (i = 1e-5), c.MathUtils.numberCloseTo(t.createAngle(e, n, o), Math.PI, i);\n      }, t.createAngle = function (t, e, n) {\n        var o = u.Vector.fromPoints(e, n),\n            i = u.Vector.fromPoints(t, e),\n            r = o.x,\n            s = o.y,\n            a = i.x,\n            c = i.y,\n            h = Math.atan2(r * c - a * s, r * a + s * c);\n        return h < 0 ? 2 * Math.PI + h : h;\n      }, t.getNextPoint = function (t, e, n, o) {\n        for (var i, r = e + n; i = t[r];) {\n          if (o(i)) return i;\n          r += n;\n        }\n      }, t.addSelectedLinesTo = function (t, e, n, o, i, r, s, a, u, h, p, l, d, f) {\n        void 0 === f && (f = 1e-5);\n        var y = e.y - t.y,\n            g = n.y - e.y,\n            m = t.x - e.x,\n            v = e.x - n.x,\n            P = y * v - g * m;\n\n        if (!c.MathUtils.numberCloseTo(P, 0, f)) {\n          var C = y * (t.x + o) + m * (t.y + i),\n              S = g * (e.x + a) + v * (e.y + u);\n          l((v * C - m * S) / P, (y * S - g * C) / P);\n          var b = y * (t.x + r) + m * (t.y + s),\n              x = g * (e.x + h) + v * (e.y + p);\n          d((v * b - m * x) / P, (y * x - g * b) / P);\n        }\n      }, t.getSelectionOffsetPoint = function (t, e, n) {\n        return new i.Point((t.y - e.y) / n, (e.x - t.x) / n);\n      }, t.getSelectionTextStartEndPoints = function (t, e, n, o, r, s) {\n        var a = (e.x - t.x) / n,\n            c = (e.y - t.y) / n,\n            u = r.width * a + r.height * c;\n\n        switch (s) {\n          case p.TextAlignment.Left:\n            return [o, new i.Point(o.x + a * u, o.y + c * u)];\n\n          case p.TextAlignment.Right:\n            return [new i.Point(o.x - a * u, o.y - c * u), o];\n\n          default:\n            return [new i.Point(o.x - .5 * a * u, o.y - .5 * c * u), new i.Point(o.x + .5 * a * u, o.y + .5 * c * u)];\n        }\n      }, t.getPathLength = function (t) {\n        var e,\n            n = 0;\n        return t.forEach(function (t) {\n          void 0 !== e && (n += a.Metrics.euclideanDistance(t, e)), e = t;\n        }), n;\n      }, t.getPathPointByPosition = function (t, e) {\n        if (!t.length) throw new Error(\"Invalid points\");\n        if (0 > e || e > 1) throw new Error(\"Invalid relative position\");\n        var n = this.getPathLength(t);\n        if (t.length <= 2 && 0 === n || 0 === e) return [t[0], 0];\n\n        for (var o = n * e, r = 0, s = 1; s < t.length; s++) {\n          var c = a.Metrics.euclideanDistance(t[s], t[s - 1]);\n\n          if (r + c >= o) {\n            var u = o - r,\n                h = (t[s].x - t[s - 1].x) / c,\n                p = (t[s].y - t[s - 1].y) / c;\n            return [new i.Point(t[s - 1].x + h * u, t[s - 1].y + p * u), s];\n          }\n\n          r += c;\n        }\n\n        return [t[t.length - 1], t.length - 1];\n      }, t.getLineAngle = function (t, e) {\n        return Math.atan2(e.y - t.y, e.x - t.x);\n      }, t.getTriangleBeginAngle = function (t, e, n) {\n        var o = this.getLineAngle(t, e),\n            i = this.getLineAngle(t, n);\n        return Math.abs(i - o);\n      }, t.getTriangleEndAngle = function (t, e, n) {\n        var o = this.getLineAngle(t, e),\n            i = this.getLineAngle(n, e);\n        return Math.abs(o - i);\n      }, t.getPathPointByPoint = function (t, e) {\n        if (!t.length) throw new Error(\"Invalid points\");\n        if (1 === t.length) return t[0];\n\n        for (var n, o = Number.MAX_VALUE, i = 1; i < t.length; i++) {\n          var r = t[i - 1],\n              s = t[i];\n\n          if (e.equals(r)) {\n            n = r.clone();\n            break;\n          }\n\n          if (e.equals(s)) {\n            n = s.clone();\n            break;\n          }\n\n          var c = this.getTriangleBeginAngle(r, s, e),\n              u = this.getTriangleEndAngle(r, s, e),\n              h = a.Metrics.euclideanDistance(e, r),\n              p = a.Metrics.euclideanDistance(e, s),\n              l = h * Math.sin(c),\n              d = void 0;\n          if ((d = Math.PI / 2 <= c && c <= 3 * Math.PI / 2 ? h : Math.PI / 2 <= u && u <= 3 * Math.PI / 2 ? p : Math.abs(l)) < o) if (o = d, Math.PI / 2 <= c && c <= 3 * Math.PI / 2) n = r.clone();else if (Math.PI / 2 <= u && u <= 3 * Math.PI / 2) n = s.clone();else {\n            var f = Math.fround || Math.round,\n                y = this.getLineAngle(r, s),\n                g = f(Math.abs(l * Math.sin(y))),\n                m = f(Math.abs(l * Math.cos(y))),\n                v = e.y - r.y < f((e.x - r.x) * Math.tan(y));\n            0 <= y && y <= Math.PI / 2 ? (g *= v ? -1 : 1, m *= v ? 1 : -1) : Math.PI / 2 <= y && y <= Math.PI ? (g *= v ? 1 : -1, m *= v ? 1 : -1) : 0 >= y && y >= -Math.PI / 2 ? (g *= v ? 1 : -1, m *= v ? 1 : -1) : -Math.PI / 2 >= y && y >= -Math.PI && (g *= v ? -1 : 1, m *= v ? 1 : -1), n = e.clone().offset(g, m);\n          }\n        }\n\n        return n;\n      }, t.getPathPositionByPoint = function (t, e, n) {\n        void 0 === n && (n = 100), e = this.getPathPointByPoint(t, e);\n\n        for (var o = this.getPathLength(t), i = 0, r = 1; r < t.length; r++) {\n          var s = t[r - 1],\n              c = t[r],\n              u = a.Metrics.euclideanDistance(c, s),\n              h = Math.atan((c.y - s.y) / (c.x - s.x)),\n              p = Math.fround || Math.round;\n          if (e.x === c.x && e.x === s.x || e.y === c.y && e.y === s.y || p(e.y - s.y) === p((e.x - s.x) * Math.tan(h))) return 0 !== Math.sin(h) ? i += Math.abs((e.y - s.y) / Math.sin(h)) : i += Math.abs(e.x - s.x), Math.round(i * n / o) / n;\n          i += u;\n        }\n\n        return 1;\n      }, t.arePointsEqual = function (t, e) {\n        var n = t.length;\n        if (n !== e.length) return !1;\n\n        for (var o = 0; o < n; o++) if (!t[o].equals(e[o])) return !1;\n\n        return !0;\n      }, t.getMaxRectangleEnscribedInEllipse = function (t) {\n        var e = t.width * Math.sqrt(2) / 2,\n            n = t.height * Math.sqrt(2) / 2;\n        return new o.Size(e, n);\n      }, t.getEllipseByEnscribedRectangle = function (t) {\n        return new o.Size(2 * t.width / Math.sqrt(2), 2 * t.height / Math.sqrt(2));\n      }, t;\n    }();\n\n    e.GeometryUtils = m;\n\n    var v = function () {\n      function t() {}\n\n      return t.cloneObject = function (t) {\n        return t && Object.assign({}, t);\n      }, t.compareObjects = function (t, e) {\n        return t === e || \"object\" == typeof t && \"object\" == typeof e && this.isDeepEqual(t, e);\n      }, t.isDeepEqual = function (t, e) {\n        var n = t ? Object.getOwnPropertyNames(t) : [],\n            o = e ? Object.getOwnPropertyNames(e) : [];\n        if (n.length !== o.length) return !1;\n\n        for (var i = 0; i < n.length; i++) {\n          var r = n[i];\n\n          switch (typeof t[r]) {\n            case \"object\":\n              if (!this.isDeepEqual(t[r], e[r])) return !1;\n              break;\n\n            case \"number\":\n              if (!(isNaN(t[r]) && isNaN(e[r]) || t[r] === e[r])) return !1;\n              break;\n\n            default:\n              if (t[r] !== e[r]) return !1;\n          }\n        }\n\n        return !0;\n      }, t;\n    }();\n\n    e.ObjectUtils = v;\n\n    var P = function () {\n      function t() {}\n\n      return t.focusWithPreventScroll = function (t) {\n        try {\n          var e = l.Browser.Safari,\n              n = e && this.getHtmlScrollPosition();\n\n          if (t.focus({\n            preventScroll: !0\n          }), e) {\n            var o = this.getHtmlScrollPosition();\n            v.compareObjects(n, o) || this.setHtmlScrollPosition(n);\n          }\n        } catch (t) {}\n      }, t.getHtmlScrollPosition = function () {\n        return {\n          pos: this.getDocumentScrollPosition(window, document),\n          iframePos: window.top !== window && this.getDocumentScrollPosition(window.top, window.top.document)\n        };\n      }, t.getDocumentScrollPosition = function (t, e) {\n        return {\n          left: t.pageXOffset || e.documentElement.scrollLeft || e.body.scrollLeft,\n          top: t.pageYOffset || e.documentElement.scrollTop || e.body.scrollTop\n        };\n      }, t.setHtmlScrollPosition = function (t) {\n        this.setDocumentScrollPosition(document, t.pos), window.top !== window && t.iframePos && this.setDocumentScrollPosition(window.top.document, t.iframePos);\n      }, t.setDocumentScrollPosition = function (t, e) {\n        t.documentElement.scrollTop = e.top, t.documentElement.scrollLeft = e.left, t.body.scrollTop = e.top, t.body.scrollLeft = e.left;\n      }, t;\n    }();\n\n    e.HtmlFocusUtils = P;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ModelUtils = void 0;\n\n    var o = n(12),\n        i = n(36),\n        r = n(1),\n        s = n(11),\n        a = n(2),\n        c = n(58),\n        u = n(33),\n        h = n(47),\n        p = n(48),\n        l = n(64),\n        d = n(188),\n        f = n(53),\n        y = n(86),\n        g = n(114),\n        m = n(65),\n        v = n(115),\n        P = n(116),\n        C = n(189),\n        S = n(190),\n        b = n(191),\n        x = n(192),\n        I = n(117),\n        _ = n(66),\n        w = n(193),\n        T = n(194),\n        O = n(88),\n        E = n(67),\n        M = n(118),\n        D = n(89),\n        A = n(68),\n        R = n(69),\n        L = n(195),\n        N = n(39),\n        j = n(3),\n        z = n(6),\n        U = n(31),\n        k = n(30),\n        B = n(85),\n        H = n(13),\n        K = function () {\n      function t() {}\n\n      return t.setShapePosition = function (e, n, o, i, r) {\n        if (void 0 === r && (r = !0), !o.position.equals(i)) {\n          var s = i.clone().offset(-o.position.x, -o.position.y);\n          e.addAndRedo(new b.MoveShapeHistoryItem(o.key, i)), r && o.children.forEach(function (o) {\n            if (o instanceof H.Shape) {\n              var i = o.position.clone().offset(s.x, s.y);\n              t.setShapePosition(e, n, o, i);\n            }\n          });\n        }\n      }, t.setShapeSize = function (t, e, n, o, i) {\n        n.size.equals(i) && n.position.equals(o) || t.addAndRedo(new I.ResizeShapeHistoryItem(n.key, o, i));\n      }, t.addConnectorPoint = function (t, e, n, o) {\n        t.addAndRedo(new d.AddConnectorPointHistoryItem(e, n, o));\n      }, t.deleteConnectorCustomPoints = function (t, e) {\n        if (e.points.length > 2) {\n          var n = e.createRenderPointsContext();\n\n          if (e.properties.lineOption !== U.ConnectorLineOption.Straight && n) {\n            var o = e.points[0].clone(),\n                i = e.points[e.points.length - 1].clone();\n            t.addAndRedo(new y.ChangeConnectorPointsHistoryItem(e.key, [o, i], new B.ConnectorRenderPointsContext([new k.ConnectorRenderPoint(o.x, o.y, 0), new k.ConnectorRenderPoint(i.x, i.y, 1)], !1, n.actualRoutingMode)));\n          } else t.addAndRedo(new y.ReplaceConnectorPointsHistoryItem(e.key, [e.points[0].clone(), e.points[e.points.length - 1].clone()]));\n        }\n      }, t.deleteConnectorUnnecessaryPoints = function (e, n) {\n        var o = n.getRenderPoints(!0).map(function (t) {\n          return t.clone();\n        });\n\n        if (n.properties.lineOption === U.ConnectorLineOption.Straight) {\n          var i = t.createUnnecessaryRenderPoints(o.filter(function (t) {\n            return !t.skipped;\n          }).map(function (t) {\n            return t.clone();\n          }), n.skippedRenderPoints, function (e) {\n            return t.findFirstPointIndex(o, function (t) {\n              return t.equals(e);\n            });\n          });\n          Object.keys(i).length && t.replaceConnectorPoints(e, n, i);\n        } else {\n          var r = o.filter(function (t) {\n            return !t.skipped;\n          }).map(function (t) {\n            return t.clone();\n          });\n          i = t.createUnnecessaryRightAngleRenderPoints(r, n.skippedRenderPoints, function (e) {\n            return t.findFirstPointIndex(o, function (t) {\n              return t.equals(e);\n            });\n          });\n\n          if (Object.keys(i).length) {\n            var s = n.createRenderPointsContext();\n\n            if (s) {\n              var a = t.createNecessaryPoints(n.points.map(function (t) {\n                return t.clone();\n              }), i),\n                  c = new B.ConnectorRenderPointsContext(t.validateRenderPointIndexes(a, r, 0), s.lockCreateRenderPoints, s.actualRoutingMode);\n              e.addAndRedo(new y.ChangeConnectorPointsHistoryItem(n.key, a, c));\n            } else t.replaceConnectorPoints(e, n, i);\n          }\n        }\n      }, t.replaceConnectorPoints = function (e, n, o) {\n        e.addAndRedo(new y.ReplaceConnectorPointsHistoryItem(n.key, t.createNecessaryPoints(n.points.map(function (t) {\n          return t.clone();\n        }), o)));\n      }, t.skipUnnecessaryRenderPoints = function (e) {\n        var n = e.map(function (t) {\n          return t.clone();\n        });\n        t.removeUnnecessaryRenderPoints(n), e.forEach(function (t) {\n          return t.skipped = n.some(function (e) {\n            return e.skipped && e.equals(t);\n          });\n        }), e[0].skipped = !1, e[e.length - 1].skipped = !1;\n      }, t.skipUnnecessaryRightAngleRenderPoints = function (e) {\n        var n = e.map(function (t) {\n          return t.clone();\n        });\n        t.removeUnnecessaryRightAngleRenderPoints(n), e.forEach(function (t) {\n          return t.skipped = n.some(function (e) {\n            return e.skipped && e.equals(t);\n          });\n        }), e[0].skipped = !1, e[e.length - 1].skipped = !1;\n      }, t.removeUnnecessaryRenderPoints = function (e) {\n        j.GeometryUtils.removeUnnecessaryPoints(e, function (n, o) {\n          return t.removeUnnecessaryPoint(e, n, o);\n        }, function (t) {\n          return void 0 !== t && !t.skipped;\n        }), e[0].skipped = !1, e[e.length - 1].skipped = !1;\n      }, t.removeUnnecessaryRightAngleRenderPoints = function (e) {\n        j.GeometryUtils.removeUnnecessaryRightAnglePoints(e, function (n, o) {\n          return t.removeUnnecessaryPoint(e, n, o);\n        }, function (t) {\n          return void 0 !== t && !t.skipped;\n        }), e[0].skipped = !1, e[e.length - 1].skipped = !1;\n      }, t.createUnnecessaryRenderPoints = function (e, n, o, i) {\n        void 0 === i && (i = function i(t) {\n          return !0;\n        });\n        var r = {};\n        return j.GeometryUtils.removeUnnecessaryPoints(e, function (n, s) {\n          return t.collectNotSkippedRenderPoints(r, e, n, s, o, i);\n        }), t.collectSkippedRenderPoints(r, n, o, i), r;\n      }, t.createUnnecessaryRightAngleRenderPoints = function (e, n, o, i) {\n        void 0 === i && (i = function i(t) {\n          return !0;\n        });\n        var r = {};\n        return j.GeometryUtils.removeUnnecessaryRightAnglePoints(e, function (n, s) {\n          return t.collectNotSkippedRenderPoints(r, e, n, s, o, i);\n        }), t.collectSkippedRenderPoints(r, n, o, i), r;\n      }, t.createNecessaryPoints = function (t, e) {\n        var n = this,\n            o = [],\n            i = t.length - 1;\n        return t.forEach(function (t, r) {\n          (0 === r || r === i || n.isNecessaryPoint(t, r, e)) && o.push(t.clone());\n        }), o;\n      }, t.isNecessaryPoint = function (t, e, n) {\n        return !Object.keys(n).some(function (o) {\n          var i = n[o];\n          return i.pointIndex === e && j.GeometryUtils.areDuplicatedPoints(t, i);\n        });\n      }, t.collectSkippedRenderPoints = function (t, e, n, o) {\n        void 0 === o && (o = function o(t) {\n          return !0;\n        }), e && e.forEach(function (e) {\n          if (o(e)) {\n            var i = n(e);\n            void 0 === t[i] && (t[i] = e);\n          }\n        });\n      }, t.collectNotSkippedRenderPoints = function (t, e, n, o, i, r) {\n        if (void 0 === r && (r = function r(t) {\n          return !0;\n        }), !r(n)) return !1;\n        var s = i(n);\n        return void 0 === t[s] && (t[s] = n, n.skipped = !0, e.splice(o, 1)), !0;\n      }, t.removeUnnecessaryPoint = function (t, e, n) {\n        return -1 === e.pointIndex ? (t.splice(n, 1), !0) : (e.skipped = !0, !1);\n      }, t.validateRenderPointIndexes = function (t, e, n) {\n        var o = this,\n            i = e.map(function (e, i) {\n          return new k.ConnectorRenderPoint(e.x, e.y, i >= n && e.pointIndex >= 0 ? o.findFirstPointIndex(t, function (t) {\n            return t.equals(e);\n          }) : e.pointIndex, e.skipped);\n        });\n        return i[0].skipped = !1, i[i.length - 1].skipped = !1, i;\n      }, t.findFirstPointIndex = function (t, e) {\n        if (!t || !e) return -1;\n\n        for (var n = 0; n < t.length; n++) if (e(t[n])) return n;\n\n        return -1;\n      }, t.moveConnectorRightAnglePoints = function (t, e, n, o, i, r) {\n        j.GeometryUtils.areDuplicatedPoints(e.points[o], n) && j.GeometryUtils.areDuplicatedPoints(e.points[r], i) || t.addAndRedo(new S.MoveConnectorRightAnglePointsHistoryItem(e.key, o, n, r, i));\n      }, t.moveConnectorPoint = function (t, e, n, o) {\n        e.points[n].equals(o) || t.addAndRedo(new S.MoveConnectorPointHistoryItem(e.key, n, o));\n      }, t.updateConnectorAttachedPoints = function (t, e, n) {\n        t.beginTransaction();\n        var o = n.beginItem && e.findItemCollapsedContainer(n.beginItem),\n            i = o && (!n.endItem || !e.isContainerItem(o, n.endItem)),\n            r = n.endItem && e.findItemCollapsedContainer(n.endItem),\n            s = r && (!n.beginItem || !e.isContainerItem(r, n.beginItem));\n        i ? this.updateConnectorBeginPoint(t, n, o, s && r || n.endItem, function (t) {\n          return o.getConnectionPointIndexForItem(n.beginItem, t);\n        }) : this.updateConnectorBeginPoint(t, n, n.beginItem, s && r || n.endItem), s ? this.updateConnectorEndPoint(t, n, r, function (t) {\n          return r.getConnectionPointIndexForItem(n.beginItem, t);\n        }) : this.updateConnectorEndPoint(t, n, n.endItem), t.endTransaction();\n      }, t.updateConnectorBeginPoint = function (t, e, n, o, i) {\n        if (n) {\n          var s = void 0 !== i ? i(e.beginConnectionPointIndex) : e.beginConnectionPointIndex,\n              a = e.points[1];\n          o && 2 === e.points.length && (a = -1 !== e.endConnectionPointIndex ? o.getConnectionPointPosition(e.endConnectionPointIndex, r.Point.zero()) : o.rectangle.center);\n          var c = n.getConnectionPointPosition(s, a);\n          this.moveConnectorPoint(t, e, 0, c.clone());\n        }\n      }, t.updateConnectorEndPoint = function (t, e, n, o) {\n        if (n) {\n          var i = void 0 !== o ? o(e.endConnectionPointIndex) : e.endConnectionPointIndex,\n              r = n.getConnectionPointPosition(i, e.points[e.points.length - 2]);\n          this.moveConnectorPoint(t, e, e.points.length - 1, r);\n        }\n      }, t.updateContainerConnectorsAttachedPoints = function (t, e, n, o) {\n        var i = this;\n        void 0 === o && (o = n), t.beginTransaction(), e.getChildren(o).forEach(function (r) {\n          r instanceof H.Shape && (r.attachedConnectors.forEach(function (r) {\n            var s = r.beginItem && e.isContainerItem(o, r.beginItem),\n                a = r.endItem && e.isContainerItem(o, r.endItem);\n\n            if (s && !a) {\n              var c = e.findItemTopCollapsedContainer(r.beginItem),\n                  u = r.endItem && e.findItemTopCollapsedContainer(r.endItem);\n              c ? i.updateConnectorBeginPoint(t, r, c, u || r.endItem, function (t) {\n                return n.getConnectionPointIndexForItem(r.beginItem, t);\n              }) : i.updateConnectorBeginPoint(t, r, r.beginItem, u || r.endItem);\n            }\n\n            a && !s && ((c = e.findItemTopCollapsedContainer(r.endItem)) ? i.updateConnectorEndPoint(t, r, c, function (t) {\n              return n.getConnectionPointIndexForItem(r.endItem, t);\n            }) : i.updateConnectorEndPoint(t, r, r.endItem));\n          }), i.updateContainerConnectorsAttachedPoints(t, e, n, r));\n        }), t.endTransaction();\n      }, t.getConnectorsWithoutBeginItemInfo = function (t) {\n        return t.findConnectorsWithoutBeginItem().map(function (t) {\n          return {\n            connector: t,\n            point: t.points[0].clone()\n          };\n        });\n      }, t.getConnectorsWithoutEndItemInfo = function (t) {\n        return t.findConnectorsWithoutEndItem().map(function (t) {\n          return {\n            connector: t,\n            point: t.points[t.points.length - 1].clone()\n          };\n        });\n      }, t.updateShapeAttachedConnectors = function (t, e, n) {\n        var o = this;\n        n.attachedConnectors.forEach(function (n) {\n          o.removeConnectorIntermediatePoints(t, n), o.updateConnectorAttachedPoints(t, e, n);\n        });\n      }, t.updateMovingShapeConnections = function (t, e, n, o, i, r, s) {\n        var a = this;\n        i(), n.forEach(function (n) {\n          var o = a.getMovingShapeConnectionPointIndex(e, n.point);\n          e.rectangle.containsPoint(n.point) || o > -1 ? (r(e, o), o !== n.connector.beginConnectionPointIndex && n.connector.beginItem && t.addAndRedo(new m.DeleteConnectionHistoryItem(n.connector, z.ConnectorPosition.Begin)), s(n.connector), t.addAndRedo(new p.AddConnectionHistoryItem(n.connector, e, o, z.ConnectorPosition.Begin))) : n.connector.beginItem && (t.addAndRedo(new m.DeleteConnectionHistoryItem(n.connector, z.ConnectorPosition.Begin)), t.addAndRedo(new S.MoveConnectorPointHistoryItem(n.connector.key, 0, n.point)));\n        }), o.forEach(function (n) {\n          var o = a.getMovingShapeConnectionPointIndex(e, n.point);\n          e.rectangle.containsPoint(n.point) || o > -1 ? (r(e, o), o !== n.connector.endConnectionPointIndex && n.connector.endItem && t.addAndRedo(new m.DeleteConnectionHistoryItem(n.connector, z.ConnectorPosition.End)), s(n.connector), t.addAndRedo(new p.AddConnectionHistoryItem(n.connector, e, o, z.ConnectorPosition.End))) : n.connector.endItem && (t.addAndRedo(new m.DeleteConnectionHistoryItem(n.connector, z.ConnectorPosition.End)), t.addAndRedo(new S.MoveConnectorPointHistoryItem(n.connector.key, n.connector.points.length - 1, n.point)));\n        });\n      }, t.getMovingShapeConnectionPointIndex = function (t, e) {\n        var n = this,\n            o = -1;\n        return t.getConnectionPoints().forEach(function (t, r) {\n          i.Metrics.euclideanDistance(e, t) < n.connectionPointActionSize && (o = r);\n        }), o;\n      }, t.shouldRemoveConnectorIntermediatePoints = function (t, e) {\n        if (t.properties.lineOption !== U.ConnectorLineOption.Orthogonal || 2 === t.points.length || !e || !e.length) return !1;\n\n        for (var n, o = 0; n = e[o];) {\n          if (this.isShapeIntersectConnectorCustomPoints(n, t)) return !0;\n          o++;\n        }\n\n        return !1;\n      }, t.removeConnectorIntermediatePoints = function (t, e) {\n        this.shouldRemoveConnectorIntermediatePoints(e, [e.beginItem, e.endItem]) && this.deleteConnectorCustomPoints(t, e);\n      }, t.isShapeIntersectConnectorCustomPoints = function (t, e) {\n        if (!t) return !1;\n        var n = e.getCustomRenderPoints(!0);\n        if (!n.length) return !1;\n        var i = z.Connector.minOffset - o.UnitConverter.pixelsToTwips(1);\n        return j.GeometryUtils.areIntersectedSegments(j.GeometryUtils.createSegments(n), j.GeometryUtils.createSegmentsFromRectangle(t.rectangle.clone().inflate(i, i)));\n      }, t.getSnappedPos = function (t, e, n, o) {\n        var i = o ? t.snapStartPoint.x : t.snapStartPoint.y;\n        return Math.round((n - i) / e) * e + i;\n      }, t.tryUpdateModelRectangle = function (t, e) {\n        var n = t.modelManipulator.getModelSizeUpdateOffset();\n        n.isEmpty() || (t.addAndRedo(new w.ModelResizeHistoryItem(n)), (n.left || n.top) && (t.addAndRedo(new T.UpdatePositionsOnPageResizeHistoryItem(new c.Vector(n.left, n.top))), void 0 !== e && e(n.left, n.top)), t.modelManipulator.raiseModelRectangleChanged(t.modelManipulator.model.getRectangle(!0)));\n      }, t.deleteItems = function (t, e, n, o, i) {\n        t.beginTransaction();\n        var r = {};\n        o.forEach(function (t) {\n          return r[t.key] = t;\n        });\n        var s = n.getKeys().filter(function (t) {\n          return !r[t];\n        });\n        t.addAndRedo(new _.SetSelectionHistoryItem(n, s)), this.deleteItemsCore(t, e, o, i), this.tryUpdateModelRectangle(t), t.endTransaction();\n      }, t.deleteItemsCore = function (t, e, n, o) {\n        var i = this;\n        n.sort(function (t, e) {\n          return (t instanceof z.Connector ? 0 : 1) - (e instanceof z.Connector ? 0 : 1);\n        }), n.forEach(function (n) {\n          if (n.container && i.removeFromContainer(t, e, n), n instanceof H.Shape) {\n            var r = e.getChildren(n);\n            r.length && (r.forEach(function (n) {\n              t.addAndRedo(new x.RemoveFromContainerHistoryItem(n)), i.updateAttachedConnectorsContainer(t, e, n);\n            }), i.deleteItemsCore(t, e, r.filter(function (t) {\n              return !t.locked || o;\n            }), o)), e.findItem(n.key) && i.deleteShape(t, n);\n          }\n\n          n instanceof z.Connector && e.findItem(n.key) && i.deleteConnector(t, n);\n        });\n      }, t.detachConnectors = function (t, e) {\n        for (t.beginTransaction(); e.attachedConnectors.length > 0;) {\n          var n = e.attachedConnectors[0];\n          t.addAndRedo(new m.DeleteConnectionHistoryItem(n, n.beginItem === e ? z.ConnectorPosition.Begin : z.ConnectorPosition.End));\n        }\n\n        t.endTransaction();\n      }, t.deleteShape = function (t, e) {\n        var n = t.modelManipulator.permissionsProvider.canDeleteItems([e]);\n        t.beginTransaction(), this.detachConnectors(t, e), t.addAndRedo(new P.DeleteShapeHistoryItem(e.key, n)), t.endTransaction();\n      }, t.deleteConnector = function (t, e) {\n        t.beginTransaction(), e.beginItem && t.addAndRedo(new m.DeleteConnectionHistoryItem(e, z.ConnectorPosition.Begin)), e.endItem && t.addAndRedo(new m.DeleteConnectionHistoryItem(e, z.ConnectorPosition.End)), t.addAndRedo(new v.DeleteConnectorHistoryItem(e.key)), t.endTransaction();\n      }, t.deleteAllItems = function (t, e, n) {\n        this.deleteItems(t, e, n, e.items.slice(), !0);\n      }, t.deleteSelection = function (t, e, n) {\n        this.deleteItems(t, e, n, n.getSelectedItems());\n      }, t.changeSelectionLocked = function (e, n, o, i) {\n        e.beginTransaction(), o.getSelectedItems(!0).forEach(function (t) {\n          e.addAndRedo(new M.ChangeLockedHistoryItem(t, i));\n        }), t.updateSelection(e, o), e.endTransaction();\n      }, t.copyStylesToItem = function (t, e, n, o) {\n        var i = e.findItem(o);\n        n.styleText.forEach(function (e) {\n          n.styleText[e] !== i.styleText[e] && t.addAndRedo(new A.ChangeStyleTextHistoryItem(o, e, n.styleText[e]));\n        }), n.style.forEach(function (e) {\n          n.style[e] !== i.style[e] && t.addAndRedo(new D.ChangeStyleHistoryItem(o, e, n.style[e]));\n        });\n      }, t.updateSelection = function (t, e) {\n        t.addAndRedo(new _.SetSelectionHistoryItem(e, e.getKeys(), !0));\n      }, t.cloneShapeToOffset = function (t, e, n, o, i) {\n        t.beginTransaction();\n        var r = n.position.clone().offset(o, i),\n            s = new f.AddShapeHistoryItem(n.description, r, n.text);\n        t.addAndRedo(s);\n        var a = s.shapeKey;\n        return t.addAndRedo(new I.ResizeShapeHistoryItem(a, r, n.size.clone())), t.addAndRedo(new g.ChangeShapeParametersHistoryItem(a, n.parameters.clone())), this.copyStylesToItem(t, e, n, a), t.endTransaction(), a;\n      }, t.applyOffsetToConnectorRenderPointsContext = function (t, e, n) {\n        return t && t.renderPoints ? new B.ConnectorRenderPointsContext(t.renderPoints.map(function (t) {\n          return t.clone().offset(e, n);\n        }), !0, t.actualRoutingMode) : void 0;\n      }, t.cloneConnectorToOffset = function (t, e, n, o, i, r, s) {\n        t.beginTransaction();\n        var a = n.points.map(function (t) {\n          return t.clone().offset(r, s);\n        }),\n            c = new l.AddConnectorHistoryItem(a, void 0, this.applyOffsetToConnectorRenderPointsContext(n.createRenderPointsContext(), r, s));\n        t.addAndRedo(c);\n        var u = c.connectorKey,\n            h = e.findConnector(u);\n\n        if (n.properties.forEach(function (e) {\n          n.properties[e] !== h.properties[e] && t.addAndRedo(new O.ChangeConnectorPropertyHistoryItem(u, e, n.properties[e]));\n        }), o) {\n          var d = e.findShape(o);\n          t.addAndRedo(new p.AddConnectionHistoryItem(h, d, n.beginConnectionPointIndex, z.ConnectorPosition.Begin));\n        }\n\n        if (i) {\n          var f = e.findShape(i);\n          t.addAndRedo(new p.AddConnectionHistoryItem(h, f, n.endConnectionPointIndex, z.ConnectorPosition.End));\n        }\n\n        return n.texts.clone().forEach(function (e) {\n          t.addAndRedo(new E.ChangeConnectorTextHistoryItem(h, e.position, e.value));\n        }), this.copyStylesToItem(t, e, n, u), t.endTransaction(), u;\n      }, t.cloneSelectionToOffset = function (e, n, o, i, r, s) {\n        var a = this;\n        e.beginTransaction();\n        var c = {},\n            u = [];\n        i.getSelectedShapes().forEach(function (t) {\n          var i = a.cloneShapeToOffset(e, n, t, r, s);\n          c[t.key] = i, u.push(i), o && o(i);\n        }), i.getSelectedConnectors().forEach(function (t) {\n          var i = t.beginItem ? c[t.beginItem.key] : null,\n              h = t.endItem ? c[t.endItem.key] : null,\n              p = a.cloneConnectorToOffset(e, n, t, i, h, r, s);\n          u.push(p), o && o(p);\n        }), e.addAndRedo(new _.SetSelectionHistoryItem(i, u)), t.tryUpdateModelRectangle(e), e.endTransaction();\n      }, t.findContainerByEventKey = function (e, n, o) {\n        var i = e.findContainer(o);\n        if (i && !i.isLocked) return i;\n        var r = e.findShape(o);\n        return r && r.container && !n.hasKey(r.key) ? t.findContainerByEventKey(e, n, r.container.key) : void 0;\n      }, t.canInsertToContainer = function (t, e, n) {\n        return e !== n && !(e instanceof H.Shape && t.findChild(e, n.key));\n      }, t.canInsertSelectionToContainer = function (t, e, n) {\n        var o = !0;\n        return e.getSelectedItems().forEach(function (e) {\n          e !== n ? e instanceof H.Shape && t.findChild(e, n.key) && (o = !1) : o = !1;\n        }), o;\n      }, t.insertToContainer = function (t, e, n, o) {\n        if (!o.enableChildren) throw Error(\"Inpossible to add children to non-container shape.\");\n\n        if (this.canInsertToContainer(e, n, o)) {\n          var i = n.container;\n          i !== o && (t.beginTransaction(), i && (t.addAndRedo(new x.RemoveFromContainerHistoryItem(n)), n.attachedConnectors.forEach(function (e) {\n            e.container && t.addAndRedo(new x.RemoveFromContainerHistoryItem(e));\n          })), t.addAndRedo(new C.InsertToContainerHistoryItem(n, o)), this.updateAttachedConnectorsContainer(t, e, n), t.endTransaction());\n        }\n      }, t.removeFromContainer = function (t, e, n) {\n        n.container && (t.beginTransaction(), t.addAndRedo(new x.RemoveFromContainerHistoryItem(n)), this.updateAttachedConnectorsContainer(t, e, n), t.endTransaction());\n      }, t.insertSelectionToContainer = function (t, e, n, o) {\n        var i = this;\n        t.beginTransaction();\n        var r = n.getSelectedItems();\n        r.filter(function (t) {\n          return !t.container || -1 === r.indexOf(t.container);\n        }).forEach(function (n) {\n          i.insertToContainer(t, e, n, o);\n        }), t.endTransaction();\n      }, t.removeSelectionFromContainer = function (t, e, n) {\n        var o = this;\n        t.beginTransaction(), n.getSelectedItems().forEach(function (i) {\n          i.container && !n.hasKey(i.container.key) && (t.addAndRedo(new x.RemoveFromContainerHistoryItem(i)), o.updateAttachedConnectorsContainer(t, e, i));\n        }), t.endTransaction();\n      }, t.getConnectorContainer = function (t) {\n        if (t.beginItem && t.endItem) {\n          for (var e = {}, n = t.beginItem.container; n;) e[n.key] = !0, n = n.container;\n\n          for (var o = t.endItem.container; o;) {\n            if (void 0 !== e[o.key]) return o;\n            o = o.container;\n          }\n        }\n      }, t.updateAttachedConnectorsContainer = function (t, e, n) {\n        var o = this;\n        t.beginTransaction(), n.attachedConnectors.forEach(function (n) {\n          o.updateConnectorContainer(t, e, n);\n        }), t.endTransaction();\n      }, t.updateConnectorContainer = function (t, e, n) {\n        var o = this.getConnectorContainer(n);\n        o ? t.addAndRedo(new C.InsertToContainerHistoryItem(n, o)) : n.container && t.addAndRedo(new x.RemoveFromContainerHistoryItem(n));\n      }, t.updateNewShapeProperties = function (t, e, n) {\n        e.inputPosition.getDefaultStyle().forEach(function (o) {\n          t.addAndRedo(new D.ChangeStyleHistoryItem(n, o, e.inputPosition.getDefaultStylePropertyValue(o)));\n        }), e.inputPosition.getDefaultTextStyle().forEach(function (o) {\n          t.addAndRedo(new A.ChangeStyleTextHistoryItem(n, o, e.inputPosition.getDefaultTextStylePropertyValue(o)));\n        });\n      }, t.updateNewConnectorProperties = function (t, e, n) {\n        e.inputPosition.getDefaultConnectorProperties().forEach(function (o) {\n          t.addAndRedo(new O.ChangeConnectorPropertyHistoryItem(n, o, e.inputPosition.getDefaultConnectorPropertyValue(o)));\n        }), e.inputPosition.getDefaultStyle().forEach(function (o) {\n          t.addAndRedo(new D.ChangeStyleHistoryItem(n, o, e.inputPosition.getDefaultStylePropertyValue(o)));\n        }), e.inputPosition.getDefaultTextStyle().forEach(function (o) {\n          t.addAndRedo(new A.ChangeStyleTextHistoryItem(n, o, e.inputPosition.getDefaultTextStylePropertyValue(o)));\n        });\n      }, t.applyLayout = function (t, e, n, o, i, r, s, a, c, u) {\n        t.beginTransaction();\n        var h = this.getOccupiedRectangles(r, n);\n        return i = this.offsetLayoutToFreeSpace(i, n && n.clientRectangle, h, s.containerPadding), a && this.adjustLayoutToSnapGrid(e, i, c), n && this.resizeContainerOnLayout(t, e, i, n, s.containerPadding), this.applyLayoutToNodes(t, e, i, o.edges.map(function (t) {\n          return e.findConnector(t.key);\n        })), this.applyLayoutToConnectors(t, e, i, o.edges.map(function (t) {\n          return e.findConnector(t.key);\n        }), u), t.endTransaction(), i.getRectangle(!0);\n      }, t.getNonGraphItems = function (t, e, n, o, i) {\n        return (e ? t.getChildren(e) : t.items.filter(function (t) {\n          return !t.container;\n        })).filter(function (t) {\n          return t instanceof z.Connector ? !(t.beginItem && n[t.beginItem.key] || t.endItem && n[t.endItem.key] || -1 !== i.indexOf(t)) : t instanceof H.Shape ? !n[t.key] && -1 === o.indexOf(t) : void 0;\n        });\n      }, t.getOccupiedRectangles = function (t, e) {\n        var n = t.map(function (t) {\n          return t.rectangle;\n        });\n\n        if (e && n.length) {\n          var o = e.clientRectangle;\n          n.push(new s.Rectangle(o.right, o.y, 1, 1)), n.push(new s.Rectangle(o.right, o.bottom, 1, 1));\n        }\n\n        return n;\n      }, t.offsetLayoutToFreeSpace = function (t, e, n, o) {\n        var i = t.getRectangle(!0),\n            r = j.GeometryUtils.findFreeSpace(n, i.createSize().offset(o, o).nonNegativeSize(), !1, e);\n\n        if (r) {\n          var s = r.x + o,\n              a = r.y + o;\n          return t.offsetNodes(s, a);\n        }\n\n        var c = n && n.length ? n.reduce(function (t, e) {\n          return e.right > t ? e.right : t;\n        }, 0) : e ? e.x : 0,\n            u = e ? e.y : Math.max(0, i.y);\n        return t.offsetNodes(c + o, u + o);\n      }, t.resizeContainerOnLayout = function (e, n, o, i, r) {\n        var s = o.getRectangle(!0),\n            c = i.children.filter(function (t) {\n          return t instanceof H.Shape ? -1 === o.nodeKeys.indexOf(t.key) : !!(t instanceof z.Connector && t.beginItem && t.endItem) && -1 === o.nodeKeys.indexOf(t.beginItem.key) && -1 === o.nodeKeys.indexOf(t.endItem.key);\n        }).map(function (t) {\n          return t.rectangle;\n        }),\n            u = c.map(function (t) {\n          return t.right;\n        }).reduce(function (t, e) {\n          return Math.max(t, e);\n        }, s.right),\n            h = c.map(function (t) {\n          return t.bottom;\n        }).reduce(function (t, e) {\n          return Math.max(t, e);\n        }, s.bottom),\n            p = i.rectangle.width + u + r - i.rectangle.right,\n            l = i.rectangle.height + h + r - i.rectangle.bottom;\n        t.setShapeSize(e, n, i, i.position, new a.Size(p, l)), t.updateShapeAttachedConnectors(e, n, i);\n      }, t.applyLayoutToNodes = function (t, e, n, o) {\n        var i = this,\n            r = o.reduce(function (t, e) {\n          return t[e.key] = t;\n        }, {});\n        n.forEachNode(function (n, o) {\n          var s = e.findShape(o);\n          i.applyLayoutToNode(t, e, s, n.position, r);\n        });\n      }, t.applyLayoutToNode = function (e, n, o, i, r) {\n        var s = this,\n            a = i.clone().offset(-o.position.x, -o.position.y);\n        t.setShapePosition(e, n, o, i, !1), 0 === a.x && 0 === a.y || (o.attachedConnectors.filter(function (t) {\n          return !r[t.key];\n        }).forEach(function (t) {\n          s.updateConnectorAttachedPoints(e, n, t);\n\n          for (var o = t.beginItem ? 1 : 0, i = t.endItem ? t.points.length - 2 : t.points.length - 1, r = o; r <= i; r++) s.moveConnectorPoint(e, t, r, t.points[r].offset(a.x, a.y));\n        }), n.getChildren(o).forEach(function (t) {\n          if (t instanceof H.Shape) {\n            var o = t.position.clone().offset(a.x, a.y);\n            s.applyLayoutToNode(e, n, t, o, r);\n          }\n        }));\n      }, t.applyLayoutToConnectors = function (t, e, n, o, i) {\n        var r = this;\n        o.filter(function (t) {\n          return t.beginItem || t.endItem;\n        }).forEach(function (o) {\n          var s = n.edgeToPosition[o.key];\n\n          if (o.beginItem && o.endItem && !i && s) {\n            var a = o.beginItem.getConnectionPointIndexForSide(s.beginIndex);\n            a !== o.beginConnectionPointIndex && t.addAndRedo(new p.SetConnectionPointIndexHistoryItem(o, a, z.ConnectorPosition.Begin));\n            var c = o.endItem.getConnectionPointIndexForSide(s.endIndex);\n            c !== o.endConnectionPointIndex && t.addAndRedo(new p.SetConnectionPointIndexHistoryItem(o, c, z.ConnectorPosition.End));\n          }\n\n          r.updateConnectorAttachedPoints(t, e, o), s && r.deleteConnectorCustomPoints(t, o);\n        });\n      }, t.adjustLayoutToSnapGrid = function (t, e, n) {\n        var o = this;\n        e.nodeKeys.forEach(function (i) {\n          e.nodeToLayout[i].position.x = o.getSnappedPos(t, n, e.nodeToLayout[i].position.x, !0), e.nodeToLayout[i].position.y = o.getSnappedPos(t, n, e.nodeToLayout[i].position.y, !1);\n        });\n      }, t.getGraphInfoByItems = function (t, e, n, o) {\n        void 0 === o && (o = !0);\n        var i = {};\n        [].concat(e).concat(n).forEach(function (t) {\n          var e = t.container && t.container.key;\n          i[e] || (i[e] = []), i[e].push(t);\n        });\n        var r = [];\n\n        for (var s in i) if (Object.prototype.hasOwnProperty.call(i, s)) {\n          var a = s && t.findContainer(s);\n\n          if (!a || a.expanded && !t.findItemCollapsedContainer(a)) {\n            var c = a && a.key,\n                u = this.getGraphByItems(t, i[s], c, !o),\n                h = !1;\n            u.nodes.length > 1 ? h = !0 : u.nodes.length && (o ? h = !0 : a && i[a.container && a.container.key] && (h = !0)), h && r.push(new L.GraphInfo(a, u));\n          }\n        }\n\n        return r.sort(function (t, e) {\n          return e.level - t.level;\n        });\n      }, t.getGraphByItems = function (t, e, n, o) {\n        var i = this,\n            r = new R.Graph([], []),\n            s = {};\n        return e.forEach(function (t) {\n          i.extendByConnectedComponents(t, r, n, s, o);\n        }), r.nodes.sort(function (e, n) {\n          return t.getItemIndex(t.findItem(e)) - t.getItemIndex(t.findItem(n));\n        }), r.edges.sort(function (e, n) {\n          return t.getItemIndex(t.findItem(e.key)) - t.getItemIndex(t.findItem(n.key));\n        }), r.edges = r.edges.filter(function (t) {\n          return r.getNode(t.from) && r.getNode(t.to);\n        }), r;\n      }, t.extendByConnectedComponents = function (t, e, n, o, i) {\n        var r = this;\n        !t || i && t.locked || o[t.key] || (o[t.key] = !0, !(t instanceof z.Connector && (t.container && t.container.key) === n && t.beginItem) || t.beginItem.locked && i || !t.endItem || t.endItem.locked && i || t.beginItem === t.endItem ? t instanceof H.Shape && (t.container && t.container.key) === n && (e.addNode(t), t.attachedConnectors.forEach(function (t) {\n          return r.extendByConnectedComponents(t, e, n, o, i);\n        })) : (e.addEdge(new N.Edge(t.key, t.beginItem && t.beginItem.key, t.endItem && t.endItem.key)), this.extendByConnectedComponents(t.beginItem, e, n, o, i), this.extendByConnectedComponents(t.endItem, e, n, o, i)));\n      }, t.getlUnitValue = function (t, e) {\n        switch (t) {\n          case h.DiagramUnit.Cm:\n            return o.UnitConverter.twipsToCentimeters(e);\n\n          case h.DiagramUnit.In:\n            return o.UnitConverter.twipsToInches(e);\n\n          case h.DiagramUnit.Px:\n            return o.UnitConverter.twipsToPixels(e);\n        }\n      }, t.getUnitText = function (t, e, n, o, i) {\n        void 0 === i && (i = 2);\n        var r = e[t] ? \" \" + e[t] : \"\",\n            s = this.getlUnitValue(t, o);\n\n        switch (t) {\n          case h.DiagramUnit.Cm:\n          case h.DiagramUnit.In:\n            return n(+s.toFixed(i)) + r;\n\n          case h.DiagramUnit.Px:\n            return n(+s.toFixed(0)) + r;\n        }\n      }, t.getTwipsValue = function (t, e) {\n        switch (t) {\n          case h.DiagramUnit.Cm:\n            return o.UnitConverter.centimetersToTwips(e);\n\n          case h.DiagramUnit.In:\n            return o.UnitConverter.inchesToTwips(e);\n\n          case h.DiagramUnit.Px:\n            return o.UnitConverter.pixelsToTwips(e);\n        }\n      }, t.getGuidItemKey = function () {\n        return u.MathUtils.generateGuid();\n      }, t.createSelectedItems = function (t) {\n        var e = {};\n        return t.getSelectedItems(!0).forEach(function (t) {\n          return e[t.key] = t;\n        }), e;\n      }, t.canMoveConnector = function (t, e) {\n        var n = e.beginItem,\n            o = e.endItem;\n        return n || o ? !!t[e.key] && (n === o ? !!t[n.key] : n ? o ? !!t[n.key] && !!t[o.key] : !!t[n.key] : !!t[o.key]) : !e.isLocked;\n      }, t.createRectangle = function (t) {\n        return j.GeometryUtils.getCommonRectangle(t.map(function (t) {\n          return t.rectangle;\n        }));\n      }, t.connectionPointActionSize = o.UnitConverter.pixelsToTwips(8), t;\n    }();\n\n    e.ModelUtils = K;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o,\n        i = this && this.__extends || (_o = function o(t, e) {\n      return (_o = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PathPrimitiveClosePathCommand = e.PathPrimitiveArcToCommand = e.PathPrimitiveQuadraticCurveToCommand = e.PathPrimitiveCubicCurveToCommand = e.PathPrimitiveLineToCommand = e.PathPrimitiveMoveToCommand = e.PathPrimitiveCommand = e.PathPrimitive = void 0;\n\n    var r = n(15),\n        s = n(25),\n        a = n(111),\n        c = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this, n, o, i, r) || this;\n        return s.commands = e.map(function (t) {\n          return t.style = n, t;\n        }), s;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"path\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        e.setAttribute(\"d\", this.commands.map(function (t) {\n          return t.toString();\n        }).join(\" \")), this.setPositionCorrectionAttribute(e), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(s.SvgPrimitive);\n\n    e.PathPrimitive = c;\n\n    var u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e;\n    }(a.PrimitiveObject);\n\n    e.PathPrimitiveCommand = u;\n\n    var h = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.x = e, o.y = n, o;\n      }\n\n      return i(e, t), e.prototype.toString = function () {\n        return \"M \" + this.getUnitVaue(this.x) + \" \" + this.getUnitVaue(this.y);\n      }, e.fromPoint = function (t) {\n        return new e(t.x, t.y);\n      }, e;\n    }(u);\n\n    e.PathPrimitiveMoveToCommand = h;\n\n    var p = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.x = e, o.y = n, o;\n      }\n\n      return i(e, t), e.prototype.toString = function () {\n        return \"L \" + this.getUnitVaue(this.x) + \" \" + this.getUnitVaue(this.y);\n      }, e.fromPoint = function (t) {\n        return new e(t.x, t.y);\n      }, e;\n    }(u);\n\n    e.PathPrimitiveLineToCommand = p;\n\n    var l = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this) || this;\n        return a.x1 = e, a.y1 = n, a.x2 = o, a.y2 = i, a.x3 = r, a.y3 = s, a;\n      }\n\n      return i(e, t), e.prototype.toString = function () {\n        return \"C \" + this.getUnitVaue(this.x1) + \" \" + this.getUnitVaue(this.y1) + \",\" + this.getUnitVaue(this.x2) + \" \" + this.getUnitVaue(this.y2) + \",\" + this.getUnitVaue(this.x3) + \" \" + this.getUnitVaue(this.y3);\n      }, e;\n    }(u);\n\n    e.PathPrimitiveCubicCurveToCommand = l;\n\n    var d = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this) || this;\n        return r.x1 = e, r.y1 = n, r.x2 = o, r.y2 = i, r;\n      }\n\n      return i(e, t), e.prototype.toString = function () {\n        return \"Q \" + this.getUnitVaue(this.x1) + \" \" + this.getUnitVaue(this.y1) + \",\" + this.getUnitVaue(this.x2) + \" \" + this.getUnitVaue(this.y2);\n      }, e;\n    }(u);\n\n    e.PathPrimitiveQuadraticCurveToCommand = d;\n\n    var f = function (t) {\n      function e(e, n, o, i, r, s, a) {\n        var c = t.call(this) || this;\n        return c.rx = e, c.ry = n, c.xAxisRotation = o, c.largeArcFlag = i, c.sweepFag = r, c.x = s, c.y = a, c;\n      }\n\n      return i(e, t), e.prototype.toString = function () {\n        return \"A \" + this.getUnitVaue(this.rx) + \" \" + this.getUnitVaue(this.ry) + \" \" + this.getUnitVaue(this.xAxisRotation) + \" \" + (this.largeArcFlag ? \"1\" : \"0\") + \" \" + (this.sweepFag ? \"1\" : \"0\") + this.getUnitVaue(this.x) + \",\" + this.getUnitVaue(this.y);\n      }, e;\n    }(u);\n\n    e.PathPrimitiveArcToCommand = f;\n\n    var y = function (t) {\n      function e() {\n        return t.call(this) || this;\n      }\n\n      return i(e, t), e.prototype.toString = function () {\n        return \"z\";\n      }, e;\n    }(u);\n\n    e.PathPrimitiveClosePathCommand = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o2,\n        i = this && this.__extends || (_o2 = function o(t, e) {\n      return (_o2 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o2(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Connector = e.CONNECTOR_DEFAULT_TEXT_POSITION = e.ConnectorPosition = void 0;\n\n    var r,\n        s = n(12),\n        a = n(11),\n        c = n(34),\n        u = n(2),\n        h = n(43),\n        p = n(84),\n        l = n(14),\n        d = n(44),\n        f = n(5),\n        y = n(62),\n        g = n(17),\n        m = n(29),\n        v = n(3),\n        P = n(9),\n        C = n(4),\n        S = n(179),\n        b = n(180),\n        x = n(186),\n        I = n(31),\n        _ = n(187),\n        w = n(85);\n\n    !function (t) {\n      t[t.Begin = 0] = \"Begin\", t[t.End = 1] = \"End\";\n    }(r = e.ConnectorPosition || (e.ConnectorPosition = {})), e.CONNECTOR_DEFAULT_TEXT_POSITION = .5;\n\n    var T = function (t) {\n      function n(e) {\n        var n = t.call(this) || this;\n        if (n.beginConnectionPointIndex = -1, n.endConnectionPointIndex = -1, n.properties = new I.ConnectorProperties(), n.points = e.map(function (t) {\n          return t.clone();\n        }), e.length < 2) throw Error(\"Points count should be greater than 1\");\n        return n.texts = new _.ConnectorTexts(), n;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"rectangle\", {\n        get: function get() {\n          return v.GeometryUtils.createRectagle(this.getRenderPoints(!0));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(n.prototype, \"skippedRenderPoints\", {\n        get: function get() {\n          return this.renderPoints ? this.renderPoints.filter(function (t) {\n            return t.skipped;\n          }) : void 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(n.prototype, \"shouldChangeRenderPoints\", {\n        get: function get() {\n          return void 0 !== this.renderPoints && void 0 !== this.routingStrategy;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.assign = function (e) {\n        t.prototype.assign.call(this, e), e.beginItem = this.beginItem, e.beginConnectionPointIndex = this.beginConnectionPointIndex, e.endItem = this.endItem, e.endConnectionPointIndex = this.endConnectionPointIndex, e.properties = this.properties.clone(), e.texts = this.texts.clone(), void 0 !== this.routingStrategy && (e.routingStrategy = this.routingStrategy.clone()), void 0 !== this.renderPoints && (e.renderPoints = this.renderPoints.map(function (t) {\n          return t.clone();\n        })), void 0 !== this.renderPointsWithoutSkipped && (e.renderPointsWithoutSkipped = this.renderPointsWithoutSkipped.map(function (t) {\n          return t.clone();\n        })), void 0 !== this.actualRoutingMode && (e.actualRoutingMode = this.actualRoutingMode), void 0 !== this.lockCreateRenderPoints && (e.lockCreateRenderPoints = this.lockCreateRenderPoints), void 0 !== this.shouldInvalidateRenderPoints && (e.shouldInvalidateRenderPoints = this.shouldInvalidateRenderPoints);\n      }, n.prototype.clone = function () {\n        var t = new n(this.points);\n        return this.assign(t), t;\n      }, n.prototype.getTextCount = function () {\n        return this.texts.count();\n      }, n.prototype.getText = function (t) {\n        void 0 === t && (t = e.CONNECTOR_DEFAULT_TEXT_POSITION);\n        var n = this.texts.get(t);\n        return n ? n.value : \"\";\n      }, n.prototype.setText = function (t, n) {\n        void 0 === n && (n = e.CONNECTOR_DEFAULT_TEXT_POSITION), t && \"\" !== t ? this.texts.set(n, new _.ConnectorText(n, t)) : this.texts.remove(n);\n      }, n.prototype.getTextPoint = function (t) {\n        var e = this.getRenderPoints();\n        return v.GeometryUtils.getPathPointByPosition(e, t)[0];\n      }, n.prototype.getTextPositionByPoint = function (t) {\n        var e = this.getRenderPoints(),\n            n = v.GeometryUtils.getPathLength(e),\n            o = v.GeometryUtils.getPathPositionByPoint(e, t),\n            i = s.UnitConverter.pointsToTwips(parseInt(this.styleText[\"font-size\"]));\n        return i > o * n ? i / n : i > n - o * n ? (n - i) / n : o;\n      }, n.prototype.getTextRectangle = function (t) {\n        return a.Rectangle.fromGeometry(this.getTextPoint(t), new u.Size(0, 0));\n      }, n.prototype.changeRoutingStrategy = function (t) {\n        this.routingStrategy = t, this.invalidateRenderPoints();\n      }, n.prototype.clearRoutingStrategy = function () {\n        delete this.routingStrategy, delete this.renderPoints, delete this.renderPointsWithoutSkipped, delete this.lockCreateRenderPoints, delete this.actualRoutingMode, delete this.shouldInvalidateRenderPoints, this.invalidateRenderPoints();\n      }, n.prototype.getCustomRenderPoints = function (t) {\n        void 0 === t && (t = !1);\n        var e = this.getRenderPoints(t),\n            n = [];\n        return e.forEach(function (t, o) {\n          o > 0 && o < e.length - 1 && n.push(t);\n        }), n;\n      }, n.prototype.getRenderPoints = function (t) {\n        if (void 0 === t && (t = !1), void 0 === this.shouldInvalidateRenderPoints || this.shouldInvalidateRenderPoints) if (this.shouldInvalidateRenderPoints = !1, this.routingStrategy) {\n          if (!this.lockCreateRenderPoints && (this.changeRenderPoints(new b.ConnectorPointsOrthogonalCalculator(this).getPoints()), this.actualRoutingMode !== m.ConnectorRoutingMode.None && this.points && this.renderPoints)) {\n            var e = this.points[0],\n                n = this.points[this.points.length - 1];\n\n            if (!e.equals(n)) {\n              var o = this.routingStrategy.createRenderPoints(this.points, this.renderPoints, this.beginItem, this.endItem, this.beginConnectionPointIndex, this.endConnectionPointIndex, C.ModelUtils.getConnectorContainer(this));\n              o ? (this.changeRenderPoints(o), this.actualRoutingMode = m.ConnectorRoutingMode.AllShapesOnly) : this.actualRoutingMode = m.ConnectorRoutingMode.None;\n            }\n          }\n        } else this.changeRenderPoints(this.getCalculator().getPoints());\n        return t ? this.renderPoints : this.renderPointsWithoutSkipped;\n      }, n.prototype.createRenderPointsContext = function () {\n        return this.shouldChangeRenderPoints ? new w.ConnectorRenderPointsContext(this.renderPoints.map(function (t) {\n          return t.clone();\n        }), this.lockCreateRenderPoints, this.actualRoutingMode) : void 0;\n      }, n.prototype.updatePointsOnPageResize = function (t, e) {\n        this.points = this.points.map(function (n) {\n          return n.clone().offset(t, e);\n        }), this.renderPoints && this.changeRenderPoints(this.renderPoints.map(function (n) {\n          var o = n.clone().offset(t, e);\n          return o.pointIndex = n.pointIndex, o.skipped = n.skipped, o;\n        }));\n      }, n.prototype.addPoint = function (t, e) {\n        this.points.splice(t, 0, e);\n      }, n.prototype.deletePoint = function (t) {\n        this.points.splice(t, 1);\n      }, n.prototype.movePoint = function (t, e) {\n        this.points[t] = e;\n      }, n.prototype.onAddPoint = function (t, e) {\n        this.shouldChangeRenderPoints ? this.replaceRenderPointsCore(this.routingStrategy.onAddPoint(this.points, t, e, this.renderPoints), !0, m.ConnectorRoutingMode.AllShapesOnly) : this.invalidateRenderPoints();\n      }, n.prototype.onDeletePoint = function (t) {\n        this.shouldChangeRenderPoints ? this.replaceRenderPointsCore(this.routingStrategy.onDeletePoint(this.points, t, this.renderPoints), this.points.length > 2, m.ConnectorRoutingMode.AllShapesOnly) : this.invalidateRenderPoints();\n      }, n.prototype.onMovePoint = function (t, e) {\n        this.shouldChangeRenderPoints ? (0 !== t && t !== this.points.length - 1 || (this.lockCreateRenderPoints = !1), this.replaceRenderPointsCore(this.routingStrategy.onMovePoint(this.points, t, e, this.renderPoints), this.lockCreateRenderPoints, m.ConnectorRoutingMode.AllShapesOnly)) : this.invalidateRenderPoints();\n      }, n.prototype.onMovePoints = function (t, e, n, o) {\n        this.shouldChangeRenderPoints ? (0 !== t && n !== this.points.length - 1 || (this.lockCreateRenderPoints = !1), this.replaceRenderPointsCore(this.routingStrategy.onMovePoints(this.points, t, e, n, o, this.renderPoints), this.lockCreateRenderPoints, m.ConnectorRoutingMode.AllShapesOnly)) : this.invalidateRenderPoints();\n      }, n.prototype.replaceRenderPoints = function (t) {\n        void 0 !== t ? this.replaceRenderPointsCore(t.renderPoints, t.lockCreateRenderPoints, t.actualRoutingMode) : this.invalidateRenderPoints();\n      }, n.prototype.clearRenderPoints = function () {\n        this.changeRenderPoints(void 0), this.lockCreateRenderPoints = !1, this.actualRoutingMode = void 0, this.invalidateRenderPoints();\n      }, n.prototype.replaceRenderPointsCore = function (t, e, n) {\n        this.changeRenderPoints(t), this.lockCreateRenderPoints = e, this.actualRoutingMode = n, this.invalidateRenderPoints();\n      }, n.prototype.changeRenderPoints = function (t) {\n        this.renderPoints = t, this.renderPointsWithoutSkipped = t ? this.renderPoints.filter(function (t) {\n          return !t.skipped;\n        }) : void 0;\n      }, n.prototype.getCalculator = function () {\n        return this.properties.lineOption === I.ConnectorLineOption.Straight ? new S.ConnectorPointsCalculator(this) : new b.ConnectorPointsOrthogonalCalculator(this);\n      }, n.prototype.invalidateRenderPoints = function () {\n        this.shouldInvalidateRenderPoints = !0;\n      }, n.prototype.createPrimitives = function () {\n        var t = [],\n            e = this.getRenderPoints(),\n            n = new f.PathPrimitive(e.map(function (t, e) {\n          return 0 === e ? new f.PathPrimitiveMoveToCommand(t.x, t.y) : new f.PathPrimitiveLineToCommand(t.x, t.y);\n        }), this.style);\n        return t.push(n), t = (t = t.concat(this.createLineEndingPrimitives(e, n))).concat(this.createTextPrimitives());\n      }, n.prototype.createLineEndingPrimitives = function (t, e) {\n        var n = [];\n        t.length > 1 && [{\n          strategy: this.createLineEndingStrategy(this.properties.startLineEnding),\n          point1: t[0],\n          point2: t[1]\n        }, {\n          strategy: this.createLineEndingStrategy(this.properties.endLineEnding),\n          point1: t[t.length - 1],\n          point2: t[t.length - 2]\n        }].forEach(function (t) {\n          var o = t.strategy;\n\n          if (o.hasCommands()) {\n            var i = e;\n            o.needCreateSeparatePrimitive() && n.push(i = o.createPrimitive()), i.commands = i.commands.concat(o.createCommands(t.point1, t.point2));\n          }\n        });\n        return n;\n      }, n.prototype.createLineEndingStrategy = function (t) {\n        switch (t) {\n          case I.ConnectorLineEnding.None:\n            return new x.ConnectorLineEndingNoneStrategy(this.style);\n\n          case I.ConnectorLineEnding.Arrow:\n            return new x.ConnectorLineEndingArrowStrategy(this.style);\n\n          case I.ConnectorLineEnding.OutlinedTriangle:\n            return new x.ConnectorLineEndingOutlinedTriangleStrategy(this.style);\n\n          case I.ConnectorLineEnding.FilledTriangle:\n            return new x.ConnectorLineEndingFilledTriangleStrategy(this.style);\n\n          default:\n            return new x.ConnectorLineEndingStrategy(this.style);\n        }\n      }, n.prototype.createSelectorPrimitives = function () {\n        var t = [],\n            e = this.getRenderPoints();\n        return t.push(new f.PathPrimitive(e.map(function (t, e) {\n          return 0 === e ? new f.PathPrimitiveMoveToCommand(t.x, t.y) : new f.PathPrimitiveLineToCommand(t.x, t.y);\n        }), null, \"selector\")), t;\n      }, n.prototype.createTextPrimitives = function () {\n        var t = this;\n        if (!this.enableText) return [];\n        var e = [];\n        return this.texts.forEach(function (n) {\n          var o = t.getText(n.position);\n\n          if (o && \"\" !== o) {\n            var i = t.getTextPoint(n.position);\n            e = e.concat([new y.TextPrimitive(i.x, i.y, o, d.TextOwner.Connector, void 0, void 0, void 0, t.styleText, !0, null, h.PAGE_BG_TEXTFLOOR_FILTER_ID, void 0, function (e) {\n              g.RenderUtils.setElementEventData(e, l.MouseEventElementType.ConnectorText, t.key, n.position);\n            })]);\n          }\n        }), e;\n      }, n.prototype.getExtremeItem = function (t) {\n        return t === r.Begin ? this.beginItem : t === r.End ? this.endItem : null;\n      }, n.prototype.getExtremeConnectionPointIndex = function (t) {\n        return t === r.Begin ? this.beginConnectionPointIndex : t === r.End ? this.endConnectionPointIndex : -1;\n      }, n.prototype.getMinX = function () {\n        return this.getRenderPoints().map(function (t) {\n          return t.x;\n        }).reduce(function (t, e) {\n          return Math.min(t, e);\n        }, Number.MAX_VALUE);\n      }, n.prototype.getMinY = function () {\n        return this.getRenderPoints().map(function (t) {\n          return t.y;\n        }).reduce(function (t, e) {\n          return Math.min(t, e);\n        }, Number.MAX_VALUE);\n      }, n.prototype.getConnectionPoints = function () {\n        return [];\n      }, n.prototype.getConnectionPointSide = function (t, e) {\n        return P.ConnectionPointSide.Undefined;\n      }, n.prototype.getSegments = function () {\n        var t = [],\n            e = this.getRenderPoints();\n        return e.forEach(function (n, o) {\n          o > 0 && t.push(new c.Segment(e[o - 1], n));\n        }), t;\n      }, n.prototype.intersectedByRect = function (t) {\n        return this.getSegments().some(function (e) {\n          return e.isIntersectedByRect(t);\n        });\n      }, n.prototype.toNative = function (t) {\n        var e = new p.NativeConnector(this.key, this.dataKey);\n        return e.fromKey = this.beginItem && this.beginItem.dataKey, e.toKey = this.endItem && this.endItem.dataKey, e.texts = this.texts.map(function (t) {\n          return t;\n        }).sort(function (t, e) {\n          return t.position - e.position;\n        }).map(function (t) {\n          return t.value;\n        }), e.fromId = this.beginItem && this.beginItem.key, e.fromPointIndex = this.beginConnectionPointIndex, e.toId = this.endItem && this.endItem.key, e.toPointIndex = this.endConnectionPointIndex, e.points = this.points.map(function (t) {\n          return t.clone();\n        }), e.applyUnits(t), e;\n      }, n.minOffset = s.UnitConverter.pixelsToTwips(24), n.minTextHeight = s.UnitConverter.pixelsToTwips(12), n;\n    }(P.DiagramItem);\n\n    e.Connector = T;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeDescription = e.ShapeTextPadding = e.ShapeDefaultSize = e.ShapeMinDimension = e.ShapeDefaultDimension = void 0;\n    var o = n(12),\n        i = n(2),\n        r = n(37),\n        s = n(44),\n        a = n(21),\n        c = n(62),\n        u = n(3),\n        h = n(45),\n        p = n(9);\n    e.ShapeDefaultDimension = 1440, e.ShapeMinDimension = 360, e.ShapeDefaultSize = new i.Size(e.ShapeDefaultDimension, e.ShapeDefaultDimension), e.ShapeTextPadding = o.UnitConverter.pixelsToTwips(10);\n\n    var l = function () {\n      function t(t, n) {\n        void 0 === t && (t = e.ShapeDefaultSize.clone()), this.defaultSize = t, this.hasDefaultText = n, this.onChanged = new u.EventDispatcher(), this.connectionPoints = this.createConnectionPoints();\n      }\n\n      return Object.defineProperty(t.prototype, \"enableText\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"allowEditText\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"enableImage\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"allowEditImage\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"hasTemplate\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"enableChildren\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"minWidth\", {\n        get: function get() {},\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"minHeight\", {\n        get: function get() {},\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"maxWidth\", {\n        get: function get() {},\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"maxHeight\", {\n        get: function get() {},\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"toolboxSize\", {\n        get: function get() {\n          return this.defaultSize;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getTitle = function () {\n        return r.DiagramLocalizationService.shapeTexts[this.key];\n      }, t.prototype.getDefaultText = function () {\n        return this.hasDefaultText ? r.DiagramLocalizationService.shapeTexts[this.key] : \"\";\n      }, t.prototype.getDefaultImageUrl = function () {\n        return \"\";\n      }, t.prototype.getConnectionPoints = function () {\n        return this.connectionPoints;\n      }, t.prototype.createConnectionPoints = function () {\n        return [new h.ConnectionPoint(.5, 0, p.ConnectionPointSide.North), new h.ConnectionPoint(1, .5, p.ConnectionPointSide.East), new h.ConnectionPoint(.5, 1, p.ConnectionPointSide.South), new h.ConnectionPoint(0, .5, p.ConnectionPointSide.West)];\n      }, t.prototype.processConnectionPoint = function (t, e) {}, t.prototype.getConnectionPointIndexForItem = function (t, e) {\n        return e;\n      }, t.prototype.getConnectionPointIndexForSide = function (t) {\n        return t;\n      }, t.prototype.createParameters = function (t) {}, t.prototype.normalizeParameters = function (t, e) {}, t.prototype.modifyParameters = function (t, e, n, o) {\n        throw Error(\"Not implemented\");\n      }, t.prototype.changeParameterValue = function (t, e, n) {\n        var o = t.get(e);\n        o.value = n(o);\n      }, t.prototype.getParameterPoints = function (t) {\n        return [];\n      }, t.prototype.getExpandedSize = function (t) {\n        return t.size;\n      }, t.prototype.getCollapsedSize = function (t) {\n        return t.size;\n      }, t.prototype.getToolboxHeightToWidthRatio = function (t, e) {\n        return e / t;\n      }, t.prototype.allowResizeHorizontally = function (t) {\n        return !0;\n      }, t.prototype.allowResizeVertically = function (t) {\n        return !0;\n      }, t.prototype.createPrimitives = function (t, e) {\n        var n = [];\n        return n = n.concat(this.createShapePrimitives(t, e)), this.enableImage && (n = n.concat(this.createImagePrimitives(t, e))), this.enableText && (n = n.concat(this.createTextPrimitives(t, e))), n;\n      }, t.prototype.createImagePrimitives = function (t, e) {\n        return [];\n      }, t.prototype.createTextPrimitives = function (e, n) {\n        if (void 0 === e.text || \"\" === e.text) return [];\n        var o = this.getTextRectangle(e);\n        return [new c.TextPrimitive(o.x, o.y, e.text, s.TextOwner.Shape, o.width, o.height, t.textSpacing, e.styleText, !1, this.getTextClipPathId(n), void 0, this.getTextAngle())];\n      }, t.prototype.getTextClipPathId = function (t) {}, t.prototype.getTextAngle = function () {\n        return c.TextAngle.Angle0deg;\n      }, t.prototype.getClientRectangle = function (t) {\n        return t.rectangle;\n      }, t.prototype.getTextEditRectangle = function (t) {\n        return this.getTextRectangle(t);\n      }, t.prototype.createSelectorPrimitives = function (t) {\n        return [new a.RectanglePrimitive(t.position.x, t.position.y, t.size.width, t.size.height, null, \"selector\")];\n      }, t.prototype.raiseShapeDescriptionChanged = function (t) {\n        this.onChanged.raise1(function (e) {\n          return e.notifyShapeDescriptionChanged(t);\n        });\n      }, t.textSpacing = o.UnitConverter.pixelsToTwips(2), t;\n    }();\n\n    e.ShapeDescription = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o3,\n        i = this && this.__extends || (_o3 = function o(t, e) {\n      return (_o3 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o3(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CompositionHistoryItem = e.HistoryItem = void 0;\n\n    var r = function () {\n      function t() {\n        this.uniqueId = -1;\n      }\n\n      return t.prototype.changeModified = function () {\n        return !0;\n      }, t.prototype.getName = function () {\n        return this.constructor.name;\n      }, t;\n    }();\n\n    e.HistoryItem = r;\n\n    var s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.historyItems = [], e.dataSyncItems = [], e;\n      }\n\n      return i(e, t), e.prototype.changeModified = function () {\n        for (var t, e = 0; t = this.historyItems[e]; e++) if (t.changeModified()) return !0;\n\n        return !1;\n      }, e.prototype.redo = function (t) {\n        for (var e, n = 0; e = this.historyItems[n]; n++) e.redo(t);\n      }, e.prototype.undo = function (t) {\n        for (var e, n = this.dataSyncItems.length - 1; e = this.dataSyncItems[n]; n--) e.undo(t);\n\n        this.dataSyncItems = [];\n\n        for (n = this.historyItems.length - 1; e = this.historyItems[n]; n--) e.undo(t);\n      }, e.prototype.add = function (t) {\n        if (null == t) throw new Error(\"cannot be null\");\n        this.historyItems.push(t);\n      }, e;\n    }(r);\n\n    e.CompositionHistoryItem = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramItem = e.DEFAULT_ZINDEX = e.ConnectionPointSide = void 0;\n    var o,\n        i = n(11),\n        r = n(36),\n        s = n(3),\n        a = n(28);\n    !function (t) {\n      t[t.Undefined = -1] = \"Undefined\", t[t.North = 0] = \"North\", t[t.East = 1] = \"East\", t[t.South = 2] = \"South\", t[t.West = 3] = \"West\";\n    }(o = e.ConnectionPointSide || (e.ConnectionPointSide = {})), e.DEFAULT_ZINDEX = 0;\n\n    var c = function () {\n      function t() {\n        this.key = void 0, this.dataKey = void 0, this.customData = void 0, this.attachedConnectors = [], this.zIndex = e.DEFAULT_ZINDEX, this.locked = !1, this.container = void 0, this.style = new a.Style(), this.styleText = new a.TextStyle();\n      }\n\n      return t.prototype.assign = function (t) {\n        t.key = this.key, t.dataKey = this.dataKey, t.customData = s.ObjectUtils.cloneObject(this.customData), t.locked = this.locked, t.attachedConnectors = this.attachedConnectors.slice(), t.style = this.style.clone(), t.styleText = this.styleText.clone(), t.zIndex = this.zIndex, t.container = this.container;\n      }, t.prototype.getConnectionPointPosition = function (t, e) {\n        return this.getConnectionPoint(t, e).toPoint();\n      }, t.prototype.getConnectionPoint = function (t, e) {\n        t < 0 && e && (t = this.getNearestConnectionPoint(e));\n        var n = this.getConnectionPoints();\n        return n[t] || n[0];\n      }, t.prototype.getNearestConnectionPoint = function (t) {\n        var e,\n            n = Number.MAX_VALUE;\n        return this.getConnectionPoints().forEach(function (o, i) {\n          var s = r.Metrics.euclideanDistance(o, t);\n          s < n && (n = s, e = i);\n        }), e;\n      }, t.prototype.getConnectionPointIndex = function (t) {\n        var e = this.getConnectionPoints();\n        return e.reduce(function (n, i, r) {\n          return t === o.North && i.y < e[n].y ? r : t === o.South && i.y > e[n].y ? r : t === o.West && i.x < e[n].x ? r : t === o.East && i.x > e[n].x ? r : n;\n        }, 0);\n      }, t.prototype.getConnectionPointSideByIndex = function (t, e) {\n        var n = this.getConnectionPoint(t, e);\n        return this.getConnectionPointSide(n, e);\n      }, t.prototype.getConnectionPointIndexForSide = function (t) {\n        return t;\n      }, Object.defineProperty(t.prototype, \"enableText\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"allowEditText\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"hasTemplate\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"enableChildren\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"isLocked\", {\n        get: function get() {\n          return this.locked || this.container && this.container.isLocked;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"allowResizeHorizontally\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"allowResizeVertically\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"strokeWidth\", {\n        get: function get() {\n          return this.style.strokeWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.intersectedByRect = function (t) {\n        return i.Rectangle.areIntersected(this.rectangle, t);\n      }, t;\n    }();\n\n    e.DiagramItem = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o4,\n        i = this && this.__extends || (_o4 = function o(t, e) {\n      return (_o4 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o4(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SimpleCommandBase = void 0;\n\n    var r = n(197),\n        s = n(198),\n        a = n(4),\n        c = n(37),\n        u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getState = function () {\n        return new s.SimpleCommandState(this.isEnabled(), this.getValue(), this.getDefaultValue(), this.getItems(), this.isVisible());\n      }, e.prototype.isVisible = function () {\n        return !0;\n      }, e.prototype.isEnabled = function () {\n        return !this.control.settings.readOnly || this.isEnabledInReadOnlyMode();\n      }, e.prototype.isEnabledInReadOnlyMode = function () {\n        return !1;\n      }, e.prototype.getValue = function () {}, e.prototype.getDefaultValue = function () {}, e.prototype.getItems = function () {}, e.prototype.getModelUnit = function (t) {\n        return a.ModelUtils.getlUnitValue(this.control.model.units, t);\n      }, e.prototype.getModelUnitText = function (t) {\n        return a.ModelUtils.getUnitText(this.control.model.units, c.DiagramLocalizationService.unitItems, c.DiagramLocalizationService.formatUnit, t);\n      }, e.prototype.getModelUnitTwipsValue = function (t) {\n        return a.ModelUtils.getTwipsValue(this.control.model.units, t);\n      }, e.prototype.getViewUnit = function (t) {\n        return a.ModelUtils.getlUnitValue(this.control.settings.viewUnits, t);\n      }, e.prototype.getViewUnitText = function (t) {\n        return a.ModelUtils.getUnitText(this.control.settings.viewUnits, c.DiagramLocalizationService.unitItems, c.DiagramLocalizationService.formatUnit, t);\n      }, e.prototype.getViewUnitTwipsValue = function (t) {\n        return a.ModelUtils.getTwipsValue(this.control.settings.viewUnits, t);\n      }, e;\n    }(r.CommandBase);\n\n    e.SimpleCommandBase = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o,\n        i = n(163),\n        r = n(164),\n        s = n(108),\n        a = n(1),\n        c = n(2),\n        u = function () {\n      function t(t, e, n, o) {\n        this.x = t, this.y = e, this.width = n, this.height = o;\n      }\n\n      return Object.defineProperty(t.prototype, \"right\", {\n        get: function get() {\n          return this.x + this.width;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"bottom\", {\n        get: function get() {\n          return this.y + this.height;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"center\", {\n        get: function get() {\n          return t.center(this);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.createRectangle = function () {\n        return new t(this.x, this.y, this.width, this.height);\n      }, t.prototype.createSize = function () {\n        return new c.Size(this.width, this.height);\n      }, t.prototype.createPosition = function () {\n        return new a.Point(this.x, this.y);\n      }, t.prototype.createVerticalInterval = function () {\n        return new s.FixedInterval(this.y, this.height);\n      }, t.prototype.createHorizontalInterval = function () {\n        return new s.FixedInterval(this.x, this.width);\n      }, t.fromGeometry = function (e, n) {\n        return new t(e.x, e.y, n.width, n.height);\n      }, t.fromPoints = function (e, n) {\n        return new t(Math.min(e.x, n.x), Math.min(e.y, n.y), Math.abs(e.x - n.x), Math.abs(e.y - n.y));\n      }, t.fromPositions = function (e, n, o, i) {\n        return new t(Math.min(e, o), Math.min(n, i), Math.abs(o - e), Math.abs(i - n));\n      }, t.fromCenter = function (e, n) {\n        return new t(e.x - n, e.y - n, 2 * n, 2 * n);\n      }, t.prototype.isCollapsed = function () {\n        return 0 === this.width || 0 === this.height;\n      }, t.prototype.isEmpty = function () {\n        return 0 === this.x && 0 === this.y && 0 === this.width && 0 === this.height;\n      }, t.prototype.toString = function () {\n        return JSON.stringify(this);\n      }, t.prototype.setPosition = function (t) {\n        return this.x = t.x, this.y = t.y, this;\n      }, t.prototype.setSize = function (t) {\n        return this.width = t.width, this.height = t.height, this;\n      }, t.prototype.setGeomerty = function (t) {\n        return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this;\n      }, t.prototype.moveRectangle = function (t, e) {\n        return this.x += t, this.y += e, this;\n      }, t.prototype.moveRectangleByPoint = function (t) {\n        return this.x += t.x, this.y += t.y, this;\n      }, t.prototype.resize = function (t, e) {\n        return this.width += t, this.height += e, this;\n      }, t.prototype.nonNegativeSize = function () {\n        return this.width < 0 && (this.width = 0), this.height < 0 && (this.height = 0), this;\n      }, t.prototype.multiply = function (t, e) {\n        return this.x *= t, this.y *= e, this.width *= t, this.height *= e, this;\n      }, t.prototype.equals = function (e) {\n        return t.equals(this, e);\n      }, t.prototype.clone = function () {\n        var e = new t(0, 0, 0, 0);\n        return e.copyFrom(this), e;\n      }, t.prototype.copyFrom = function (t) {\n        this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height;\n      }, t.prototype.containsPoint = function (e) {\n        return t.containsPoint(this, e);\n      }, t.prototype.containsRectangle = function (t) {\n        return this.x <= t.x && this.right >= t.right && this.y <= t.y && this.bottom >= t.bottom;\n      }, t.prototype.inflate = function (t, e) {\n        return void 0 === e && (e = t), this.x -= t, this.y -= e, this.width += 2 * t, this.height += 2 * e, this;\n      }, t.prototype.applyOffsetsInside = function (t) {\n        return this.x += t.left, this.y += t.top, this.width -= t.left + t.right, this.height -= t.top + t.bottom, this;\n      }, t.prototype.applyNormalizedOffsetsInside = function (t) {\n        var e = Math.max(0, t.left),\n            n = e + Math.max(0, t.right);\n        0 !== n && (n <= this.width ? (this.x += e, this.width -= n) : (this.x += this.width * (e / n), this.width = 0));\n        var o = Math.max(0, t.top),\n            i = o + Math.max(0, t.bottom);\n        return 0 !== i && (i <= this.height ? (this.y += o, this.height -= i) : (this.y += this.height * (o / i), this.height = 0)), this;\n      }, t.prototype.applyOffsetsOutside = function (t) {\n        return this.x -= t.left, this.y -= t.top, this.width += t.left + t.right, this.height += t.top + t.bottom, this;\n      }, t.prototype.applyConverter = function (t) {\n        return this.x = t(this.x), this.y = t(this.y), this.width = t(this.width), this.height = t(this.height), this;\n      }, t.getHorizIntersection = function (t, e) {\n        return r.IntervalAlgorithms.getIntersection(new s.FixedInterval(t.x, t.width), new s.FixedInterval(e.x, e.width));\n      }, t.getVertIntersection = function (t, e) {\n        return r.IntervalAlgorithms.getIntersection(new s.FixedInterval(t.y, t.height), new s.FixedInterval(e.y, e.height));\n      }, t.getIntersection = function (e, n) {\n        var o = r.IntervalAlgorithms.getIntersection(new s.FixedInterval(e.x, e.width), new s.FixedInterval(n.x, n.width));\n        if (!o) return null;\n        var i = r.IntervalAlgorithms.getIntersection(new s.FixedInterval(e.y, e.height), new s.FixedInterval(n.y, n.height));\n        return i ? new t(o.start, i.start, o.length, i.length) : null;\n      }, t.getHorNonCollapsedIntersection = function (e, n) {\n        var o = t.getHorizIntersection(e, n);\n        return o && !o.isCollapsed() ? o : null;\n      }, t.getVertNonCollapsedIntersection = function (e, n) {\n        var o = t.getVertIntersection(e, n);\n        return o && !o.isCollapsed() ? o : null;\n      }, t.getNonCollapsedIntersection = function (e, n) {\n        var o = t.getIntersection(e, n);\n        return o && !o.isCollapsed() ? o : null;\n      }, t.areIntersected = function (t, e) {\n        return !(t.x > e.x + e.width || e.x > t.x + t.width || t.y > e.y + e.height || e.y > t.y + t.height);\n      }, t.union = function (e, n) {\n        var o = Math.max(e.x + e.width, n.x + n.width),\n            i = Math.max(e.y + e.height, n.y + n.height),\n            r = Math.min(e.x, n.x),\n            s = Math.min(e.y, n.y);\n        return new t(r, s, o - r, i - s);\n      }, t.equals = function (t, e) {\n        return t.x === e.x && t.y === e.y && t.width === e.width && t.height === e.height;\n      }, t.center = function (t) {\n        return new a.Point(t.x + t.width / 2, t.y + t.height / 2);\n      }, t.containsPoint = function (t, e) {\n        var n = t.x + t.width,\n            o = t.y + t.height;\n        return e.y >= t.y && o >= e.y && e.x >= t.x && n >= e.x;\n      }, t;\n    }();\n\n    e.Rectangle = u, function (t) {\n      t[t.None = 0] = \"None\", t[t.Top = 1] = \"Top\", t[t.Bottom = 2] = \"Bottom\", t[t.Left = 4] = \"Left\", t[t.Right = 8] = \"Right\";\n    }(o = e.HitTestDeviation || (e.HitTestDeviation = {}));\n\n    var h = function () {\n      function t(t, e) {\n        this.initRectangle = t, this.initPoint = e, this.deviation = new i.Flag(o.None);\n      }\n\n      return t.prototype.calcDeviation = function () {\n        return this.initPoint.x < this.initRectangle.x ? this.deviation.set(o.Left, !0) : this.initPoint.x > this.initRectangle.right && this.deviation.set(o.Right, !0), this.initPoint.y < this.initRectangle.y ? this.deviation.set(o.Top, !0) : this.initPoint.y > this.initRectangle.bottom && this.deviation.set(o.Bottom, !0), this;\n      }, t.prototype.calcAdditionalParams = function () {\n        return this.insidePoint = this.initPoint.clone(), this.offsetToInside = new a.Point(0, 0), this.deviation.get(o.Left) ? (this.insidePoint.x = this.initRectangle.x, this.offsetToInside.x = this.insidePoint.x - this.initPoint.x) : this.deviation.get(o.Right) && (this.insidePoint.x = this.initRectangle.right, this.offsetToInside.x = this.initPoint.x - this.insidePoint.x), this.deviation.get(o.Top) ? (this.insidePoint.y = this.initRectangle.y, this.offsetToInside.y = this.insidePoint.y - this.initPoint.y) : this.deviation.get(o.Bottom) && (this.insidePoint.y = this.initRectangle.bottom, this.offsetToInside.y = this.initPoint.y - this.insidePoint.y), this;\n      }, t;\n    }();\n\n    e.RectangleDeviation = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.hundredthsOfMillimeterToTwipsRound = function (t) {\n        return Math.round(1440 * t / 2540);\n      }, t.documentsToTwips = function (t) {\n        return 24 * t / 5;\n      }, t.pixelsToTwips = function (e) {\n        return Math.round(t.pixelsToTwipsF(e));\n      }, t.pixelsToTwipsCustomDpi = function (e, n) {\n        return Math.round(t.pixelsToTwipsFCustomDpi(e, n));\n      }, t.inchesToTwips = function (e) {\n        return Math.round(t.inchesToTwipsF(e));\n      }, t.pointsToTwips = function (e) {\n        return Math.round(t.pointsToTwipsF(e));\n      }, t.picasToTwips = function (e) {\n        return Math.round(1440 * e / t.PICAS_PER_INCH);\n      }, t.centimetersToTwips = function (e) {\n        return Math.round(t.centimetersToTwipsF(e));\n      }, t.pixelsToTwipsF = function (e) {\n        return 1440 * e / t.DPI;\n      }, t.pixelsToTwipsFCustomDpi = function (t, e) {\n        return 1440 * t / e;\n      }, t.inchesToTwipsF = function (t) {\n        return 1440 * t;\n      }, t.pointsToTwipsF = function (t) {\n        return 20 * t;\n      }, t.centimetersToTwipsF = function (e) {\n        return 1440 * e / t.CENTIMETERS_PER_INCH;\n      }, t.twipsToDegrees = function (t) {\n        return t / 6e4;\n      }, t.twipsToRadians = function (t) {\n        return t / 6e4 * Math.PI / 180;\n      }, t.degreesToTwips = function (t) {\n        return 6e4 * t;\n      }, t.radiansToTwips = function (t) {\n        return 6e4 * t / Math.PI * 180;\n      }, t.radiansToDegrees = function (t) {\n        return t / Math.PI * 180;\n      }, t.twipsToFD = function (t) {\n        return Math.round(2048 * t / 1875);\n      }, t.fdToTwips = function (t) {\n        return Math.round(1875 * t / 2048);\n      }, t.emuToTwips = function (t) {\n        return t / 635;\n      }, t.twipsToPixels = function (e) {\n        return Math.round(t.twipsToPixelsF(e));\n      }, t.inchesToPixels = function (e) {\n        return Math.round(t.DPI * e);\n      }, t.centimeterToPixel = function (t) {\n        return Math.round(this.centimeterToPixelF(t));\n      }, t.centimeterToPixelF = function (e) {\n        return e * t.DPI / t.CENTIMETERS_PER_INCH;\n      }, t.millimetersToPixel = function (e) {\n        return Math.round(e / (t.CENTIMETERS_PER_INCH / t.DPI) / 10);\n      }, t.pointsToPixels = function (e) {\n        return Math.round(e * t.DPI / 72);\n      }, t.pointsToPixelsF = function (e) {\n        return e * t.DPI / 72;\n      }, t.twipsToPixelsF = function (e) {\n        return e * t.DPI / 1440;\n      }, t.pixelsToPoints = function (e) {\n        return Math.round(72 * e / t.DPI);\n      }, t.pixelsToPointsF = function (e) {\n        return 72 * e / t.DPI;\n      }, t.twipsToPoints = function (t) {\n        return Math.round(this.twipsToPointsF(t));\n      }, t.twipsToPointsF = function (t) {\n        return t / 20;\n      }, t.twipsToInches = function (t) {\n        return t / 1440;\n      }, t.pixelsToInches = function (e) {\n        return e / t.DPI;\n      }, t.twipsToCentimeters = function (e) {\n        return e * t.CENTIMETERS_PER_INCH / 1440;\n      }, t.pixelToCentimeters = function (e) {\n        return e * t.CENTIMETERS_PER_INCH / t.DPI;\n      }, t.twipsToHundredthsOfMillimeter = function (t) {\n        return Math.round(127 * t / 72);\n      }, t.pixelsToHundredthsOfMillimeter = function (e) {\n        return Math.round(2540 * e / t.DPI);\n      }, t.hundredthsOfMillimeterToTwips = function (t) {\n        return 15 * t / 127;\n      }, t.twipsToEmu = function (t) {\n        return 635 * t;\n      }, t.twipsToDegree = function (t) {\n        return t / 6e4;\n      }, t.DPI = 96, t.CENTIMETERS_PER_INCH = 2.54, t.PICAS_PER_INCH = 6, t;\n    }();\n\n    e.UnitConverter = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o5,\n        i = this && this.__extends || (_o5 = function o(t, e) {\n      return (_o5 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o5(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Shape = void 0;\n\n    var r = n(11),\n        s = n(7),\n        a = n(38),\n        c = n(9),\n        u = n(45),\n        h = n(51),\n        p = n(84),\n        l = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        if (i.description = e, i.children = [], i.expanded = !0, i.expandedSize = void 0, !e) throw Error(\"Shape type is incorrect\");\n        i.position = n.clone();\n        var r = o ? e.toolboxSize : e.defaultSize;\n        return i.size = r.clone(), i.text = e.getDefaultText(), i.image = new h.ImageInfo(e.getDefaultImageUrl()), i.parameters = new a.ShapeParameters(), e.createParameters(i.parameters), i;\n      }\n\n      return i(e, t), e.prototype.assign = function (e) {\n        t.prototype.assign.call(this, e), e.size = this.size.clone(), e.text = this.text, e.image = this.image.clone(), e.parameters = this.parameters.clone(), e.children = this.children.slice(), e.expanded = this.expanded, this.expandedSize && (e.expandedSize = this.expandedSize.clone());\n      }, e.prototype.clone = function () {\n        var t = new e(this.description, this.position.clone());\n        return this.assign(t), t;\n      }, Object.defineProperty(e.prototype, \"enableText\", {\n        get: function get() {\n          return this.description.enableText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"allowEditText\", {\n        get: function get() {\n          return this.description.allowEditText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"hasTemplate\", {\n        get: function get() {\n          return this.description.hasTemplate;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"enableChildren\", {\n        get: function get() {\n          return this.description.enableChildren;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"enableImage\", {\n        get: function get() {\n          return this.description.enableImage;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"allowEditImage\", {\n        get: function get() {\n          return this.description.allowEditImage;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getMinWidth = function (t) {\n        return \"number\" == typeof this.description.minWidth ? this.description.minWidth : \"number\" == typeof t ? t : s.ShapeMinDimension;\n      }, e.prototype.getMinHeight = function (t) {\n        return \"number\" == typeof this.description.minHeight ? this.description.minHeight : \"number\" == typeof t ? t : s.ShapeMinDimension;\n      }, e.prototype.getMaxWidth = function (t) {\n        return \"number\" == typeof this.description.maxWidth ? this.description.maxWidth : \"number\" == typeof t ? t : void 0;\n      }, e.prototype.getMaxHeight = function (t) {\n        return \"number\" == typeof this.description.maxHeight ? this.description.maxHeight : \"number\" == typeof t ? t : void 0;\n      }, e.prototype.createPrimitives = function () {\n        return this.description.createPrimitives(this);\n      }, e.prototype.createSelectorPrimitives = function () {\n        return this.description.createSelectorPrimitives(this);\n      }, e.prototype.normalizeX = function (t) {\n        return Math.max(this.position.x, Math.min(t, this.position.x + this.size.width));\n      }, e.prototype.normalizeY = function (t) {\n        return Math.max(this.position.y, Math.min(t, this.position.y + this.size.height));\n      }, e.prototype.getConnectionPoints = function () {\n        var t = this;\n        return this.description.getConnectionPoints().map(function (e) {\n          var n = new u.ConnectionPoint(t.position.x + e.x * t.size.width, t.position.y + e.y * t.size.height, e.side);\n          return t.description.processConnectionPoint(t, n), n;\n        });\n      }, e.prototype.getConnectionPointSide = function (t, e) {\n        return t.side !== c.ConnectionPointSide.Undefined ? t.side : this.getConnectionPointSideByGeometry(t);\n      }, e.prototype.getConnectionPointSideByGeometry = function (t) {\n        var e = t.clone().offset(-this.position.x, -this.position.y).multiply(1 / this.size.width, 1 / this.size.height);\n        return e.x >= e.y && (e.x > 0 || e.y > 0) ? e.x < .5 || 1 - e.x >= e.y ? c.ConnectionPointSide.North : c.ConnectionPointSide.East : e.x > .5 || 1 - e.x <= e.y ? c.ConnectionPointSide.South : c.ConnectionPointSide.West;\n      }, e.prototype.getConnectionPointIndexForItem = function (t, e) {\n        return this.description.getConnectionPointIndexForItem(t, e);\n      }, e.prototype.getConnectionPointIndexForSide = function (t) {\n        return this.description.getConnectionPointIndexForSide(t);\n      }, e.prototype.toggleExpandedSize = function () {\n        this.expanded ? (this.size = this.getExpandedSize(), this.expandedSize = void 0) : (this.expandedSize = this.size.clone(), this.size = this.getCollapsedSize());\n      }, e.prototype.getExpandedSize = function () {\n        return this.description.getExpandedSize(this);\n      }, e.prototype.getCollapsedSize = function () {\n        return this.description.getCollapsedSize(this);\n      }, e.prototype.getToolboxHeightToWidthRatio = function () {\n        return this.description.getToolboxHeightToWidthRatio(this.size.width, this.size.height);\n      }, Object.defineProperty(e.prototype, \"allowResizeHorizontally\", {\n        get: function get() {\n          return this.description.allowResizeHorizontally(this);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"allowResizeVertically\", {\n        get: function get() {\n          return this.description.allowResizeVertically(this);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"rectangle\", {\n        get: function get() {\n          return r.Rectangle.fromGeometry(this.position, this.size);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"clientRectangle\", {\n        get: function get() {\n          return this.description.getClientRectangle(this);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"textRectangle\", {\n        get: function get() {\n          return this.description.getTextRectangle(this);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"textEditRectangle\", {\n        get: function get() {\n          return this.description.getTextEditRectangle(this);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"textAngle\", {\n        get: function get() {\n          return this.description.getTextAngle();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.toNative = function (t) {\n        var e = new p.NativeShape(this.key, this.dataKey);\n        return e.type = this.description.key, e.text = this.text, e.position = this.position.clone(), e.size = this.size.clone(), e.attachedConnectorIds = this.attachedConnectors.map(function (t) {\n          return t.key;\n        }), e.applyUnits(t), e.containerId = this.container ? this.container.key : null, e.containerChildItemIds = this.children.map(function (t) {\n          return t.key;\n        }), e.containerExpanded = this.expanded, e;\n      }, e;\n    }(c.DiagramItem);\n\n    e.Shape = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o6,\n        i = this && this.__extends || (_o6 = function o(t, e) {\n      return (_o6 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o6(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramClipboardEvent = e.DiagramKeyboardEvent = e.DiagramContextMenuEvent = e.DiagramWheelEvent = e.DiagramMouseEvent = e.DiagramMouseEventBase = e.DiagramMouseEventTouch = e.DiagramFocusEvent = e.DiagramEvent = e.ResizeEventSource = e.MouseEventSource = e.MouseEventElementType = e.MouseButton = void 0;\n    var r = n(26),\n        s = n(27);\n    !function (t) {\n      t[t.None = 0] = \"None\", t[t.Left = 1] = \"Left\", t[t.Right = 2] = \"Right\", t[t.Middle = 4] = \"Middle\";\n    }(e.MouseButton || (e.MouseButton = {})), function (t) {\n      t[t.Undefined = 0] = \"Undefined\", t[t.Background = 1] = \"Background\", t[t.Document = 2] = \"Document\", t[t.Connector = 3] = \"Connector\", t[t.ConnectorPoint = 4] = \"ConnectorPoint\", t[t.ConnectorSide = 5] = \"ConnectorSide\", t[t.ConnectorOrthogonalSide = 6] = \"ConnectorOrthogonalSide\", t[t.ConnectorText = 7] = \"ConnectorText\", t[t.Shape = 8] = \"Shape\", t[t.ShapeResizeBox = 9] = \"ShapeResizeBox\", t[t.ShapeParameterBox = 10] = \"ShapeParameterBox\", t[t.SelectionRect = 11] = \"SelectionRect\", t[t.ShapeConnectionPoint = 12] = \"ShapeConnectionPoint\", t[t.ShapeExpandButton = 13] = \"ShapeExpandButton\";\n    }(e.MouseEventElementType || (e.MouseEventElementType = {}));\n\n    var a = function () {\n      function t(t, e, n) {\n        this.type = t, this.key = e, this.value = n;\n      }\n\n      return t.prototype.isEquals = function (t) {\n        return this.type === t.type && this.key === t.key && this.value === t.value;\n      }, t;\n    }();\n\n    e.MouseEventSource = a, function (t) {\n      t[t.Undefined = 0] = \"Undefined\", t[t.ResizeBox_NW = 1] = \"ResizeBox_NW\", t[t.ResizeBox_NE = 2] = \"ResizeBox_NE\", t[t.ResizeBox_SE = 3] = \"ResizeBox_SE\", t[t.ResizeBox_SW = 4] = \"ResizeBox_SW\", t[t.ResizeBox_N = 5] = \"ResizeBox_N\", t[t.ResizeBox_E = 6] = \"ResizeBox_E\", t[t.ResizeBox_S = 7] = \"ResizeBox_S\", t[t.ResizeBox_W = 8] = \"ResizeBox_W\";\n    }(e.ResizeEventSource || (e.ResizeEventSource = {}));\n\n    var c = function () {\n      function t(t) {\n        this.modifiers = t, this.preventDefault = !1, this.stopPropagation = !1;\n      }\n\n      return t.prototype.preventEvent = function (t) {\n        this.preventDefault && t.cancelable && t.preventDefault && t.preventDefault(), this.stopPropagation && t.stopPropagation && t.stopPropagation();\n      }, t;\n    }();\n\n    e.DiagramEvent = c;\n\n    var u = function (t) {\n      function e(e) {\n        var n = t.call(this, r.ModifierKey.None) || this;\n        return n.inputText = e, n;\n      }\n\n      return i(e, t), e;\n    }(c);\n\n    e.DiagramFocusEvent = u;\n\n    var h = function () {\n      return function (t, e) {\n        this.offsetPoint = t, this.modelPoint = e;\n      };\n    }();\n\n    e.DiagramMouseEventTouch = h;\n\n    var p = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.offsetPoint = n, r.modelPoint = o, r.source = i, r;\n      }\n\n      return i(e, t), e;\n    }(c);\n\n    e.DiagramMouseEventBase = p;\n\n    var l = function (t) {\n      function e(e, n, o, i, r, s, a) {\n        void 0 === s && (s = []);\n        var c = t.call(this, e, o, i, r) || this;\n        return c.button = n, c.touches = s, c.pointerType = a, c.scrollX = 0, c.scrollY = 0, c;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"actualOffsetPoint\", {\n        get: function get() {\n          return s.isDefined(this.offsetPoint) ? this.offsetPoint : s.isDefined(this.touches) && this.touches.length ? this.touches[0].offsetPoint : void 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"isTouchEvent\", {\n        get: function get() {\n          return !(!s.isDefined(this.pointerType) || \"mouse\" === this.pointerType) || !(!s.isDefined(this.touches) || !this.touches.length);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(p);\n\n    e.DiagramMouseEvent = l;\n\n    var d = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, e, i, r, s) || this;\n        return a.deltaX = n, a.deltaY = o, a;\n      }\n\n      return i(e, t), e;\n    }(p);\n\n    e.DiagramWheelEvent = d;\n\n    var f = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.eventPoint = n, i.modelPoint = o, i;\n      }\n\n      return i(e, t), e;\n    }(c);\n\n    e.DiagramContextMenuEvent = f;\n\n    var y = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.keyCode = n, i.inputText = o, i;\n      }\n\n      return i(e, t), e.prototype.getShortcutCode = function () {\n        return this.modifiers | this.keyCode;\n      }, e;\n    }(c);\n\n    e.DiagramKeyboardEvent = y;\n\n    var g = function (t) {\n      function e(e) {\n        var n = t.call(this, r.ModifierKey.None) || this;\n        return n.clipboardData = e, n;\n      }\n\n      return i(e, t), e;\n    }(c);\n\n    e.DiagramClipboardEvent = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RenderHelper = e.svgNS = void 0;\n    var o = n(59);\n    e.svgNS = \"http://www.w3.org/2000/svg\";\n\n    var i = function () {\n      function t() {}\n\n      return t.createSvgElement = function (t, n) {\n        void 0 === n && (n = !1);\n        var o = document.createElementNS(e.svgNS, \"svg\");\n        return o.className.baseVal = \"dxdi-canvas\" + (n ? \" export\" : \"\"), t && t.appendChild(o), o;\n      }, t.createMainElement = function (t, e) {\n        void 0 === e && (e = !1);\n        var n = document.createElement(\"div\");\n        return n.setAttribute(\"class\", \"dxdi-control\" + (e ? \" measurer\" : \"\")), o.Diagnostics.optimizeLayers && (n.style.transform = \"translateZ(0)\"), t && t.appendChild(n), n;\n      }, t.addEventListener = function (t, e, n) {\n        t.addEventListener(e, n);\n      }, t.removeEventListener = function (t, e, n) {\n        t.removeEventListener(e, n);\n      }, t;\n    }();\n\n    e.RenderHelper = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramModelOperation = e.ModelOperationSettings = void 0;\n\n    var o = function () {\n      function t() {\n        this._addShape = !0, this._addShapeFromToolbox = !0, this._deleteShape = !0, this._deleteConnector = !0, this._changeConnection = !0, this._changeConnectorPoints = !0, this._changeShapeText = !0, this._changeConnectorText = !0, this._resizeShape = !0, this._moveShape = !0;\n      }\n\n      return Object.defineProperty(t.prototype, \"addShape\", {\n        get: function get() {\n          return this._addShape;\n        },\n        set: function set(t) {\n          t !== this._addShape && (this._addShape = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"addShapeFromToolbox\", {\n        get: function get() {\n          return this._addShapeFromToolbox;\n        },\n        set: function set(t) {\n          t !== this._addShapeFromToolbox && (this._addShapeFromToolbox = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"deleteShape\", {\n        get: function get() {\n          return this._deleteShape;\n        },\n        set: function set(t) {\n          t !== this._deleteShape && (this._deleteShape = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"deleteConnector\", {\n        get: function get() {\n          return this._deleteConnector;\n        },\n        set: function set(t) {\n          t !== this._deleteConnector && (this._deleteConnector = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"changeConnection\", {\n        get: function get() {\n          return this._changeConnection;\n        },\n        set: function set(t) {\n          t !== this._changeConnection && (this._changeConnection = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"changeConnectorPoints\", {\n        get: function get() {\n          return this._changeConnectorPoints;\n        },\n        set: function set(t) {\n          t !== this._changeConnectorPoints && (this._changeConnectorPoints = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"changeShapeText\", {\n        get: function get() {\n          return this._changeShapeText;\n        },\n        set: function set(t) {\n          t !== this._changeShapeText && (this._changeShapeText = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"changeConnectorText\", {\n        get: function get() {\n          return this._changeConnectorText;\n        },\n        set: function set(t) {\n          t !== this._changeConnectorText && (this._changeConnectorText = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"resizeShape\", {\n        get: function get() {\n          return this._resizeShape;\n        },\n        set: function set(t) {\n          t !== this._resizeShape && (this._resizeShape = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"moveShape\", {\n        get: function get() {\n          return this._moveShape;\n        },\n        set: function set(t) {\n          t !== this._moveShape && (this._moveShape = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.applySettings = function (t) {\n        t && (\"boolean\" == typeof t.addShape && (this.addShape = t.addShape), \"boolean\" == typeof t.addShapeFromToolbox && (this.addShapeFromToolbox = t.addShapeFromToolbox), \"boolean\" == typeof t.deleteShape && (this.deleteShape = t.deleteShape), \"boolean\" == typeof t.deleteConnector && (this.deleteConnector = t.deleteConnector), \"boolean\" == typeof t.changeConnection && (this.changeConnection = t.changeConnection), \"boolean\" == typeof t.changeConnectorPoints && (this.changeConnectorPoints = t.changeConnectorPoints), \"boolean\" == typeof t.changeShapeText && (this.changeShapeText = t.changeShapeText), \"boolean\" == typeof t.changeConnectorText && (this.changeConnectorText = t.changeConnectorText), \"boolean\" == typeof t.resizeShape && (this.resizeShape = t.resizeShape), \"boolean\" == typeof t.moveShape && (this.moveShape = t.moveShape));\n      }, t;\n    }();\n\n    e.ModelOperationSettings = o, function (t) {\n      t[t.AddShape = 0] = \"AddShape\", t[t.AddShapeFromToolbox = 1] = \"AddShapeFromToolbox\", t[t.DeleteShape = 2] = \"DeleteShape\", t[t.DeleteConnector = 3] = \"DeleteConnector\", t[t.ChangeConnection = 4] = \"ChangeConnection\", t[t.ChangeConnectorPoints = 5] = \"ChangeConnectorPoints\", t[t.BeforeChangeShapeText = 6] = \"BeforeChangeShapeText\", t[t.ChangeShapeText = 7] = \"ChangeShapeText\", t[t.BeforeChangeConnectorText = 8] = \"BeforeChangeConnectorText\", t[t.ChangeConnectorText = 9] = \"ChangeConnectorText\", t[t.ResizeShape = 10] = \"ResizeShape\", t[t.MoveShape = 11] = \"MoveShape\";\n    }(e.DiagramModelOperation || (e.DiagramModelOperation = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.isLeftButtonPressed = e.RenderUtils = void 0;\n\n    var o = n(14),\n        i = n(33),\n        r = n(19),\n        s = n(60),\n        a = function () {\n      function t() {}\n\n      return t.updateSvgElementSize = function (t, e, n, o) {\n        t.style.width = e + \"px\", t.style.height = n + \"px\", t.setAttribute(\"viewBox\", \"0 0 \" + e + \" \" + n), o && (t.setAttribute(\"width\", e.toString()), t.setAttribute(\"height\", n.toString()));\n      }, t.removeElement = function (t) {\n        t && t.parentNode && t.parentNode.removeChild(t);\n      }, t.removeContent = function (t) {\n        for (; t && t.firstChild;) t.removeChild(t.firstChild);\n      }, t.setElementEventData = function (t, e, n, i) {\n        e !== o.MouseEventElementType.Undefined && (t.setAttribute(\"data-type\", e.toString()), void 0 !== n && t.setAttribute(\"data-key\", n.toString()), void 0 !== i && t.setAttribute(\"data-value\", i.toString()));\n      }, t.getElementEventData = function (t) {\n        if (t.getAttribute && t.getAttribute(\"data-type\")) return new o.MouseEventSource(parseInt(t.getAttribute(\"data-type\")), t.getAttribute(\"data-key\"), t.getAttribute(\"data-value\"));\n        var e = t.getAttribute && t.getAttribute(\"class\");\n        return \"dxdi-page\" === e || \"dxdi-main\" === e ? new o.MouseEventSource(o.MouseEventElementType.Document) : void 0;\n      }, t.getHtmlElementStylePropertyName = function (t) {\n        switch (t) {\n          case \"fill\":\n            return \"color\";\n\n          case \"text-anchor\":\n            return \"text-align\";\n        }\n\n        return t;\n      }, t.getTextAnchorValue = function (t, e) {\n        if (void 0 === e && (e = !1), e) {\n          if (\"start\" === t) return \"end\";\n          if (\"end\" === t) return \"start\";\n        }\n\n        return t;\n      }, t.getStrokeDasharrayValue = function (t, e) {\n        if (e) {\n          var n = t && t.toString();\n          return (n ? n.split(/[\\s,]+/) : []).map(function (t) {\n            return parseInt(t) / 2 * e;\n          }).join(\",\");\n        }\n\n        return t;\n      }, t.applyStyleToElement = function (t, e, n) {\n        var o = this;\n        void 0 === n && (n = !1);\n        var i = t.getDefaultInstance();\n        t.forEach(function (r) {\n          var s = t[r],\n              a = e instanceof HTMLElement ? o.getHtmlElementStylePropertyName(r) : r;\n\n          if (void 0 !== s && \"\" !== s && s !== i[r]) {\n            switch (r) {\n              case \"text-anchor\":\n                s = o.getTextAnchorValue(s, n);\n                break;\n\n              case \"stroke-dasharray\":\n                s = o.getStrokeDasharrayValue(s, parseInt(t[\"stroke-width\"]));\n            }\n\n            e.style.setProperty(a, s);\n          } else e.style.setProperty(a, \"\");\n        });\n      }, t.generateSvgElementId = function (t) {\n        return t + \"_\" + i.MathUtils.generateGuid();\n      }, t.getUrlPathById = function (t) {\n        return \"url(#\" + t + \")\";\n      }, t;\n    }();\n\n    e.RenderUtils = a, e.isLeftButtonPressed = function (t) {\n      return r.Browser.MSTouchUI ? 2 !== t.button : s.EvtUtils.isLeftButtonPressed(t);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o7,\n        i = this && this.__extends || (_o7 = function o(t, e) {\n      return (_o7 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o7(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RectangleShapeDescription = void 0;\n\n    var r = n(7),\n        s = n(2),\n        a = n(21),\n        c = n(0),\n        u = function (t) {\n      function e(e, n) {\n        return void 0 === e && (e = new s.Size(r.ShapeDefaultDimension, .75 * r.ShapeDefaultDimension)), t.call(this, e, n) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return c.ShapeTypes.Rectangle;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.width,\n            r = e.height;\n        return [new a.RectanglePrimitive(n, o, i, r, t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        return t.rectangle.clone().inflate(-r.ShapeTextPadding, -r.ShapeTextPadding);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return t.clone().offset(2 * r.ShapeTextPadding, 2 * r.ShapeTextPadding);\n      }, e;\n    }(r.ShapeDescription);\n\n    e.RectangleShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.IdentUserAgent = function (e, n) {\n        void 0 === n && (n = !1);\n        var o = [\"Mozilla\", \"IE\", \"Firefox\", \"Netscape\", \"Safari\", \"Chrome\", \"Opera\", \"Opera10\", \"Edge\"],\n            i = {\n          Safari: 2,\n          Chrome: .1,\n          Mozilla: 1.9,\n          Netscape: 8,\n          Firefox: 2,\n          Opera: 9,\n          IE: 6,\n          Edge: 12\n        };\n\n        if (e && 0 !== e.length) {\n          e = e.toLowerCase(), t.indentPlatformMajorVersion(e);\n\n          try {\n            for (var r = {\n              Windows: \"Win\",\n              Macintosh: \"Mac\",\n              \"Mac OS\": \"Mac\",\n              Mac_PowerPC: \"Mac\",\n              \"cpu os\": \"MacMobile\",\n              \"cpu iphone os\": \"MacMobile\",\n              Android: \"Android\",\n              \"!Windows Phone\": \"WinPhone\",\n              \"!WPDesktop\": \"WinPhone\",\n              \"!ZuneWP\": \"WinPhone\"\n            }, s = \"(?:(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?)?\", a = {\n              Safari: \"applewebkit(?:.*?(?:version/(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?[\\\\.\\\\w\\\\d]*?(?:\\\\s+mobile/\\\\S*)?\\\\s+safari))?\",\n              Chrome: \"(?:chrome|crios)(?!frame)(?:/|\\\\s*)?\" + s,\n              Mozilla: \"mozilla(?:.*rv:\" + s + \".*Gecko)?\",\n              Netscape: \"(?:netscape|navigator)\\\\d*/?\\\\s*\" + s,\n              Firefox: \"firefox(?:/|\\\\s*)?\" + s,\n              Opera: \"(?:opera|\\\\sopr)(?:/|\\\\s*)?\" + s,\n              Opera10: \"opera.*\\\\s*version(?:/|\\\\s*)?\" + s,\n              IE: \"msie\\\\s*\" + s,\n              Edge: \"edge(?:/|\\\\s*)?\" + s\n            }, c = null, u = -1, h = 0; h < o.length; h++) {\n              var p = o[h],\n                  l = new RegExp(a[p], \"i\").exec(e);\n\n              if (l && l.index >= 0) {\n                if (\"IE\" === c && u >= 11 && \"Safari\" === p) continue;\n                \"Opera10\" === (c = p) && (c = \"Opera\");\n                u = t.GetBrowserVersion(e, l, \"trident(?:/|\\\\s*)?(?:(\\\\d+)(?:\\\\.((?:\\\\d+?[1-9])|\\\\d)0*?)?)?\", t.getIECompatibleVersionString()), \"Mozilla\" === c && u >= 11 && (c = \"IE\");\n              }\n            }\n\n            c || (c = \"IE\");\n            var d = -1 !== u;\n            d || (u = i[c]);\n            var f = null,\n                y = Number.MAX_VALUE;\n\n            for (var g in r) if (Object.prototype.hasOwnProperty.call(r, g)) {\n              var m = \"!\" === g.substr(0, 1),\n                  v = e.indexOf((m ? g.substr(1) : g).toLowerCase());\n              v >= 0 && (v < y || m) && (y = m ? 0 : v, f = r[g]);\n            }\n\n            var P = e.toUpperCase().match(\"SM-[A-Z]\"),\n                C = P && P.length > 0;\n            \"WinPhone\" === f && u < 9 && (u = Math.floor(t.getVersionFromTrident(e, \"trident(?:/|\\\\s*)?\" + s))), !n && \"IE\" === c && u > 7 && document.documentMode < u && (u = document.documentMode), \"WinPhone\" === f && (u = Math.max(9, u)), f || (f = \"Win\"), f !== r[\"cpu os\"] || d || (u = 4), t.fillUserAgentInfo(o, c, u, f, C);\n          } catch (e) {\n            t.fillUserAgentInfo(o, \"IE\", i.IE, \"Win\");\n          }\n        } else t.fillUserAgentInfo(o, \"IE\", i.IE, \"Win\");\n      }, t.GetBrowserVersion = function (e, n, o, i) {\n        var r = t.getVersionFromMatches(n);\n\n        if (i) {\n          var s = t.getVersionFromTrident(e, o);\n          if (\"edge\" === i || parseInt(i) === s) return s;\n        }\n\n        return r;\n      }, t.getIECompatibleVersionString = function () {\n        if (document.compatible) for (var t = 0; t < document.compatible.length; t++) if (\"IE\" === document.compatible[t].userAgent && document.compatible[t].version) return document.compatible[t].version.toLowerCase();\n        return \"\";\n      }, t.isTouchEnabled = function () {\n        return t.hasTouchStart() || t.hasMaxTouchPoints() || t.hasMsMaxTouchPoints();\n      }, t.hasTouchStart = function () {\n        return \"ontouchstart\" in window;\n      }, t.hasMaxTouchPoints = function () {\n        return navigator.maxTouchPoints > 0;\n      }, t.hasMsMaxTouchPoints = function () {\n        return navigator.msMaxTouchPoints > 0;\n      }, t.hasNavigator = function () {\n        return \"undefined\" != typeof navigator;\n      }, t.fillUserAgentInfo = function (e, n, o, i, r) {\n        void 0 === r && (r = !1);\n\n        for (var s = 0; s < e.length; s++) {\n          var a = e[s];\n          t[a] = a === n;\n        }\n\n        t.Version = Math.floor(10 * o) / 10, t.MajorVersion = Math.floor(t.Version), t.WindowsPlatform = \"Win\" === i || \"WinPhone\" === i, t.MacOSMobilePlatform = \"MacMobile\" === i || \"Mac\" === i && t.isTouchEnabled(), t.MacOSPlatform = \"Mac\" === i && !t.MacOSMobilePlatform, t.AndroidMobilePlatform = \"Android\" === i, t.WindowsPhonePlatform = \"WinPhone\" === i, t.WebKitFamily = t.Safari || t.Chrome || t.Opera && t.MajorVersion >= 15, t.NetscapeFamily = t.Netscape || t.Mozilla || t.Firefox, t.HardwareAcceleration = t.IE && t.MajorVersion >= 9 || t.Firefox && t.MajorVersion >= 4 || t.AndroidMobilePlatform && t.Chrome || t.Chrome && t.MajorVersion >= 37 || t.Safari && !t.WindowsPlatform || t.Edge || t.Opera && t.MajorVersion >= 46, t.WebKitTouchUI = t.MacOSMobilePlatform || t.AndroidMobilePlatform;\n        var c = t.IE && t.MajorVersion > 9 && t.WindowsPlatform && t.UserAgent.toLowerCase().indexOf(\"touch\") >= 0;\n\n        if (t.MSTouchUI = c || t.Edge && !!window.navigator.maxTouchPoints, t.TouchUI = t.WebKitTouchUI || t.MSTouchUI, t.MobileUI = t.WebKitTouchUI || t.WindowsPhonePlatform, t.AndroidDefaultBrowser = t.AndroidMobilePlatform && !t.Chrome, t.AndroidChromeBrowser = t.AndroidMobilePlatform && t.Chrome, r && (t.SamsungAndroidDevice = r), t.MSTouchUI) {\n          var u = t.UserAgent.toLowerCase().indexOf(\"arm;\") > -1;\n          t.VirtualKeyboardSupported = u || t.WindowsPhonePlatform;\n        } else t.VirtualKeyboardSupported = t.WebKitTouchUI;\n\n        t.fillDocumentElementBrowserTypeClassNames(e);\n      }, t.indentPlatformMajorVersion = function (e) {\n        var n = /(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\\d+)(?:[-0-9_.])*/.exec(e);\n        n && (t.PlaformMajorVersion = n[1]);\n      }, t.getVersionFromMatches = function (t) {\n        var e = -1,\n            n = \"\";\n        return t && (t[1] && (n += t[1], t[2] && (n += \".\" + t[2])), \"\" !== n && (e = parseFloat(n), isNaN(e) && (e = -1))), e;\n      }, t.getVersionFromTrident = function (e, n) {\n        var o = new RegExp(n, \"i\").exec(e);\n        return t.getVersionFromMatches(o) + 4;\n      }, t.fillDocumentElementBrowserTypeClassNames = function (e) {\n        for (var n = \"\", o = e.concat([\"WindowsPlatform\", \"MacOSPlatform\", \"MacOSMobilePlatform\", \"AndroidMobilePlatform\", \"WindowsPhonePlatform\", \"WebKitFamily\", \"WebKitTouchUI\", \"MSTouchUI\", \"TouchUI\", \"AndroidDefaultBrowser\"]), i = 0; i < o.length; i++) {\n          var r = o[i];\n          t[r] && (n += \"dx\" + r + \" \");\n        }\n\n        n += \"dxBrowserVersion-\" + t.MajorVersion, \"undefined\" != typeof document && document && document.documentElement && (\"\" !== document.documentElement.className && (n = \" \" + n), document.documentElement.className += n, t.Info = n);\n      }, t.getUserAgent = function () {\n        return t.hasNavigator() && navigator.userAgent ? navigator.userAgent.toLowerCase() : \"\";\n      }, t.UserAgent = t.getUserAgent(), t._foo = t.IdentUserAgent(t.UserAgent), t;\n    }();\n\n    e.Browser = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o8,\n        i = this && this.__extends || (_o8 = function o(t, e) {\n      return (_o8 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o8(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Alignment = e.DataLayoutOrientation = e.LogicalDirectionKind = e.TreeLayoutSettings = e.LayoutSettings = void 0;\n\n    var r = n(6),\n        s = function () {\n      return function (t) {\n        this.orientation = c.Vertical, this.direction = a.Forward;\n        var e = t && 2 * t > r.Connector.minOffset ? 2 * t : r.Connector.minOffset;\n        this.columnSpacing = e, this.layerSpacing = 2 * e, this.containerPadding = 2 * e, this.componentSpacing = 2 * e;\n      };\n    }();\n\n    e.LayoutSettings = s;\n\n    var a,\n        c,\n        u,\n        h = function (t) {\n      function e(e) {\n        var n = t.call(this, e) || this;\n        return n.alignment = u.Center, n.subTreeColumnSpacing = n.componentSpacing / 2, n;\n      }\n\n      return i(e, t), e;\n    }(s);\n\n    e.TreeLayoutSettings = h, function (t) {\n      t[t.Backward = 0] = \"Backward\", t[t.Forward = 1] = \"Forward\";\n    }(a = e.LogicalDirectionKind || (e.LogicalDirectionKind = {})), function (t) {\n      t[t.Horizontal = 0] = \"Horizontal\", t[t.Vertical = 1] = \"Vertical\";\n    }(c = e.DataLayoutOrientation || (e.DataLayoutOrientation = {})), function (t) {\n      t[t.Left = 0] = \"Left\", t[t.Center = 1] = \"Center\";\n    }(u = e.Alignment || (e.Alignment = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o9,\n        i = this && this.__extends || (_o9 = function o(t, e) {\n      return (_o9 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o9(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RectanglePrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s, a, c) {\n        var u = t.call(this, r, s, a, c) || this;\n        return u.x = e, u.y = n, u.width = o, u.height = i, u;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"rect\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"x\", this.x), this.setUnitAttribute(e, \"y\", this.y), this.setUnitAttribute(e, \"width\", this.width), this.setUnitAttribute(e, \"height\", this.height), this.setPositionCorrectionAttribute(e), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.RectanglePrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(49),\n        i = function () {\n      function t() {}\n\n      return t.getAlpha = function (t) {\n        return t >> 24 & 255;\n      }, t.getRed = function (t) {\n        return t >> 16 & 255;\n      }, t.getGreen = function (t) {\n        return t >> 8 & 255;\n      }, t.getBlue = function (t) {\n        return 255 & t;\n      }, t.redPartToString = function (e) {\n        var n = t.getRed(e).toString(16);\n        return n.length > 1 ? n : \"0\" + n;\n      }, t.greenPartToString = function (e) {\n        var n = t.getGreen(e).toString(16);\n        return n.length > 1 ? n : \"0\" + n;\n      }, t.bluePartToString = function (e) {\n        var n = t.getBlue(e).toString(16);\n        return n.length > 1 ? n : \"0\" + n;\n      }, t.fromArgbNumber = function (t, e, n, o) {\n        return t << 24 | e << 16 | n << 8 | o;\n      }, t.fromRgbaString = function (t, e) {\n        void 0 === e && (e = 255);\n        var n = t.replace(/ +/g, \"\").match(/(rgba?)|(\\d+(\\.\\d+)?%?)|(\\.\\d+)/g);\n\n        if (n && n.length > 3) {\n          for (var o = [], i = 1, r = void 0; r = n[i]; i++) {\n            var s = -1 !== r.indexOf(\"%\") ? Math.round(2.55 * parseFloat(r)) : parseInt(r);\n            if (s < 0 || s > 255) return null;\n            o.push(s);\n          }\n\n          if (0 === t.indexOf(\"rgba\")) {\n            if (isNaN(o[3]) || o[3] < 0 || o[3] > 1) return null;\n            o[3] <= 1 && (o[3] = Math.round(255 * o[3]));\n          } else if (o[3]) return null;\n\n          return (255 & o[0]) << 16 | (255 & o[1]) << 8 | 255 & o[2] | (255 & (o.length > 3 ? o[3] : e)) << 24;\n        }\n\n        return null;\n      }, t.fromHashString = function (e, n) {\n        return void 0 === n && (n = 255), t.isHashColorString(e) ? (\"#\" === e.charAt(0) && (e = e.substr(1)), 3 === e.length && (e = o.StringUtils.repeat(e.charAt(0), 2) + o.StringUtils.repeat(e.charAt(1), 2) + o.StringUtils.repeat(e.charAt(2), 2)), parseInt(e, 16) | n << 24) : null;\n      }, t.fromColorName = function (e, n) {\n        void 0 === n && (n = 255);\n        var o = t.colorNames[e.toLowerCase()];\n        return o ? t.fromHashString(o, n) : null;\n      }, t.fromString = function (e, n) {\n        void 0 === n && (n = 255);\n        var o = t.fromRgbaString(e, n);\n        if (null !== o) return o;\n        var i = t.fromHashString(e, n);\n        return null !== i ? i : t.fromColorName(e, n);\n      }, t.colorToHash = function (e) {\n        return \"#\" + t.redPartToString(e) + t.greenPartToString(e) + t.bluePartToString(e);\n      }, t.stringToHash = function (t) {\n        var e = this.fromString(t);\n        return null !== e ? this.colorToHash(e) : null;\n      }, t.isHashColorString = function (t) {\n        return /^#?([0-9a-f]{6})$/i.test(t) || /^#?([0-9a-f]{3})$/i.test(t);\n      }, t.isKnownColorName = function (e) {\n        return !!t.colorNames[e.toLowerCase()];\n      }, t.isGray = function (e) {\n        var n = t.getRed(e);\n        return n === t.getGreen(e) && n === t.getBlue(e);\n      }, t.DARK_COLOR = -16777216, t.LIGHT_COLOR = -1, t.colorNames = {\n        aliceblue: \"#f0f8ff\",\n        antiquewhite: \"#faebd7\",\n        aqua: \"#00ffff\",\n        aquamarine: \"#7fffd4\",\n        azure: \"#f0ffff\",\n        beige: \"#f5f5dc\",\n        bisque: \"#ffe4c4\",\n        black: \"#000000\",\n        blanchedalmond: \"#ffebcd\",\n        blue: \"#0000ff\",\n        blueviolet: \"#8a2be2\",\n        brown: \"#a52a2a\",\n        burlywood: \"#deb887\",\n        cadetblue: \"#5f9ea0\",\n        chartreuse: \"#7fff00\",\n        chocolate: \"#d2691e\",\n        coral: \"#ff7f50\",\n        cornflowerblue: \"#6495ed\",\n        cornsilk: \"#fff8dc\",\n        crimson: \"#dc143c\",\n        cyan: \"#00ffff\",\n        darkblue: \"#00008b\",\n        darkcyan: \"#008b8b\",\n        darkgoldenrod: \"#b8860b\",\n        darkgray: \"#a9a9a9\",\n        darkgreen: \"#006400\",\n        darkkhaki: \"#bdb76b\",\n        darkmagenta: \"#8b008b\",\n        darkolivegreen: \"#556b2f\",\n        darkorange: \"#ff8c00\",\n        darkorchid: \"#9932cc\",\n        darkred: \"#8b0000\",\n        darksalmon: \"#e9967a\",\n        darkseagreen: \"#8fbc8f\",\n        darkslateblue: \"#483d8b\",\n        darkslategray: \"#2f4f4f\",\n        darkturquoise: \"#00ced1\",\n        darkviolet: \"#9400d3\",\n        deeppink: \"#ff1493\",\n        deepskyblue: \"#00bfff\",\n        dimgray: \"#696969\",\n        dodgerblue: \"#1e90ff\",\n        feldspar: \"#d19275\",\n        firebrick: \"#b22222\",\n        floralwhite: \"#fffaf0\",\n        forestgreen: \"#228b22\",\n        fuchsia: \"#ff00ff\",\n        gainsboro: \"#dcdcdc\",\n        ghostwhite: \"#f8f8ff\",\n        gold: \"#ffd700\",\n        goldenrod: \"#daa520\",\n        gray: \"#808080\",\n        green: \"#00ff00\",\n        greenyellow: \"#adff2f\",\n        honeydew: \"#f0fff0\",\n        hotpink: \"#ff69b4\",\n        indianred: \"#cd5c5c\",\n        indigo: \"#4b0082\",\n        ivory: \"#fffff0\",\n        khaki: \"#f0e68c\",\n        lavender: \"#e6e6fa\",\n        lavenderblush: \"#fff0f5\",\n        lawngreen: \"#7cfc00\",\n        lemonchiffon: \"#fffacd\",\n        lightblue: \"#add8e6\",\n        lightcoral: \"#f08080\",\n        lightcyan: \"#e0ffff\",\n        lightgoldenrodyellow: \"#fafad2\",\n        lightgray: \"#d3d3d3\",\n        lightgreen: \"#90ee90\",\n        lightpink: \"#ffb6c1\",\n        lightsalmon: \"#ffa07a\",\n        lightseagreen: \"#20b2aa\",\n        lightskyblue: \"#87cefa\",\n        lightslateblue: \"#8470ff\",\n        lightslategray: \"#778899\",\n        lightsteelblue: \"#b0c4de\",\n        lightyellow: \"#ffffe0\",\n        lime: \"#00ff00\",\n        limegreen: \"#32cd32\",\n        linen: \"#faf0e6\",\n        magenta: \"#ff00ff\",\n        maroon: \"#800000\",\n        mediumaquamarine: \"#66cdaa\",\n        mediumblue: \"#0000cd\",\n        mediumorchid: \"#ba55d3\",\n        mediumpurple: \"#9370d8\",\n        mediumseagreen: \"#3cb371\",\n        mediumslateblue: \"#7b68ee\",\n        mediumspringgreen: \"#00fa9a\",\n        mediumturquoise: \"#48d1cc\",\n        mediumvioletred: \"#c71585\",\n        midnightblue: \"#191970\",\n        mintcream: \"#f5fffa\",\n        mistyrose: \"#ffe4e1\",\n        moccasin: \"#ffe4b5\",\n        navajowhite: \"#ffdead\",\n        navy: \"#000080\",\n        oldlace: \"#fdf5e6\",\n        olive: \"#808000\",\n        olivedrab: \"#6b8e23\",\n        orange: \"#ffa500\",\n        orangered: \"#ff4500\",\n        orchid: \"#da70d6\",\n        palegoldenrod: \"#eee8aa\",\n        palegreen: \"#98fb98\",\n        paleturquoise: \"#afeeee\",\n        palevioletred: \"#d87093\",\n        papayawhip: \"#ffefd5\",\n        peachpuff: \"#ffdab9\",\n        peru: \"#cd853f\",\n        pink: \"#ffc0cb\",\n        plum: \"#dda0dd\",\n        powderblue: \"#b0e0e6\",\n        purple: \"#800080\",\n        red: \"#ff0000\",\n        rosybrown: \"#bc8f8f\",\n        royalblue: \"#4169e1\",\n        saddlebrown: \"#8b4513\",\n        salmon: \"#fa8072\",\n        sandybrown: \"#f4a460\",\n        seagreen: \"#2e8b57\",\n        seashell: \"#fff5ee\",\n        sienna: \"#a0522d\",\n        silver: \"#c0c0c0\",\n        skyblue: \"#87ceeb\",\n        slateblue: \"#6a5acd\",\n        slategray: \"#708090\",\n        snow: \"#fffafa\",\n        springgreen: \"#00ff7f\",\n        steelblue: \"#4682b4\",\n        tan: \"#d2b48c\",\n        teal: \"#008080\",\n        thistle: \"#d8bfd8\",\n        tomato: \"#ff6347\",\n        turquoise: \"#40e0d0\",\n        violet: \"#ee82ee\",\n        violetred: \"#d02090\",\n        wheat: \"#f5deb3\",\n        white: \"#ffffff\",\n        whitesmoke: \"#f5f5f5\",\n        yellow: \"#ffff00\",\n        yellowgreen: \"#9acd32\",\n        windowtext: \"#000000\"\n      }, t;\n    }();\n\n    e.ColorUtils = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PermissionRequestEventArgs = e.RequestedEntity = void 0;\n\n    var o = function () {\n      function t(t) {\n        this.apiController = t;\n      }\n\n      return Object.defineProperty(t.prototype, \"allowed\", {\n        get: function get() {\n          return this.eventArgs.allowed;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"updateUI\", {\n        get: function get() {\n          return this.eventArgs.updateUI;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"eventArgs\", {\n        get: function get() {\n          return this._eventArgs || (this._eventArgs = this.createEventArgs()), this._eventArgs;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t;\n    }();\n\n    e.RequestedEntity = o;\n\n    var i = function () {\n      return function () {\n        this.allowed = !0, this.updateUI = !1;\n      };\n    }();\n\n    e.PermissionRequestEventArgs = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(19),\n        i = n(27),\n        r = n(33),\n        s = n(49),\n        a = function () {\n      function t() {}\n\n      return t.clearInnerHtml = function (t) {\n        for (; t.firstChild;) t.removeChild(t.firstChild);\n      }, t.setStylePosition = function (t, e) {\n        t.left = r.MathUtils.round(e.x, 3) + \"px\", t.top = r.MathUtils.round(e.y, 3) + \"px\";\n      }, t.setStyleSize = function (t, e) {\n        t.width = r.MathUtils.round(e.width, 3) + \"px\", t.height = r.MathUtils.round(e.height, 3) + \"px\";\n      }, t.setStyleSizeAndPosition = function (e, n) {\n        t.setStylePosition(e, n), t.setStyleSize(e, n);\n      }, t.hideNode = function (t) {\n        if (t) {\n          var e = t.parentNode;\n          e && e.removeChild(t);\n        }\n      }, t.isHTMLElementNode = function (t) {\n        return t.nodeType === Node.ELEMENT_NODE;\n      }, t.isTextNode = function (t) {\n        return t.nodeType === Node.TEXT_NODE;\n      }, t.isElementNode = function (t) {\n        return t.nodeType === Node.ELEMENT_NODE;\n      }, t.isHTMLTableRowElement = function (t) {\n        return \"TR\" === t.tagName;\n      }, t.isItParent = function (t, e) {\n        if (!t || !e) return !1;\n\n        for (; e;) {\n          if (e === t) return !0;\n          if (\"BODY\" === e.tagName) return !1;\n          e = e.parentNode;\n        }\n\n        return !1;\n      }, t.getParentByTagName = function (t, e) {\n        for (e = e.toUpperCase(); t;) {\n          if (\"BODY\" === t.tagName) return null;\n          if (t.tagName === e) return t;\n          t = t.parentNode;\n        }\n\n        return null;\n      }, t.getDocumentScrollTop = function () {\n        var e = o.Browser.IE && \"hidden\" === t.getCurrentStyle(document.body).overflow && document.body.scrollTop > 0;\n        return o.Browser.WebKitFamily || o.Browser.Edge || e ? o.Browser.MacOSMobilePlatform ? window.pageYOffset : o.Browser.WebKitFamily && document.documentElement.scrollTop || document.body.scrollTop : document.documentElement.scrollTop;\n      }, t.getDocumentScrollLeft = function () {\n        var e = o.Browser.IE && \"hidden\" === t.getCurrentStyle(document.body).overflow && document.body.scrollLeft > 0;\n        return o.Browser.Edge || e ? document.body ? document.body.scrollLeft : document.documentElement.scrollLeft : o.Browser.WebKitFamily ? document.documentElement.scrollLeft || document.body.scrollLeft : document.documentElement.scrollLeft;\n      }, t.getCurrentStyle = function (t) {\n        if (t.currentStyle) return t.currentStyle;\n\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n          var e = document.defaultView.getComputedStyle(t, null);\n\n          if (!e && o.Browser.Firefox && window.frameElement) {\n            for (var n = [], r = window.frameElement; !(e = document.defaultView.getComputedStyle(t, null));) n.push([r, r.style.display]), r.style.setProperty(\"display\", \"block\", \"important\"), r = \"BODY\" === r.tagName ? r.ownerDocument.defaultView.frameElement : r.parentNode;\n\n            e = function (t) {\n              if (\"object\" != typeof t || !i.isDefined(t)) return t;\n              var e = {};\n\n              for (var n in t) e[n] = t[n];\n\n              return e;\n            }(e);\n\n            for (var s = void 0, a = 0; s = n[a]; a++) s[0].style.display = s[1];\n\n            document.body.offsetWidth;\n          }\n\n          return e;\n        }\n\n        return window.getComputedStyle(t, null);\n      }, t.setFocus = function (t) {\n        function e() {\n          try {\n            t.focus(), o.Browser.IE && document.activeElement !== t && t.focus();\n          } catch (t) {}\n        }\n\n        o.Browser.MacOSMobilePlatform ? e() : setTimeout(function () {\n          e();\n        }, 100);\n      }, t.hasClassName = function (t, e) {\n        try {\n          var n = e.split(\" \"),\n              o = t.classList;\n\n          if (o) {\n            for (var i = n.length - 1; i >= 0; i--) if (!o.contains(n[i])) return !1;\n          } else {\n            var r = t.getAttribute && t.getAttribute(\"class\");\n            if (!r) return !1;\n            var s = r.split(\" \");\n\n            for (i = n.length - 1; i >= 0; i--) if (s.indexOf(n[i]) < 0) return !1;\n          }\n\n          return !0;\n        } catch (t) {\n          return !1;\n        }\n      }, t.addClassName = function (e, n) {\n        if (!t.hasClassName(e, n)) {\n          var o = e.getAttribute && e.getAttribute(\"class\");\n          e.setAttribute(\"class\", \"\" === o ? n : o + \" \" + n);\n        }\n      }, t.removeClassName = function (t, e) {\n        var n = \" \" + (t.getAttribute && t.getAttribute(\"class\")) + \" \",\n            o = n.replace(\" \" + e + \" \", \" \");\n        n.length !== o.length && t.setAttribute(\"class\", s.StringUtils.trim(o));\n      }, t.toggleClassName = function (e, n, o) {\n        void 0 === o ? t.hasClassName(e, n) ? t.removeClassName(e, n) : t.addClassName(e, n) : o ? t.addClassName(e, n) : t.removeClassName(e, n);\n      }, t.pxToInt = function (t) {\n        return c(t, parseInt);\n      }, t.pxToFloat = function (t) {\n        return c(t, parseFloat);\n      }, t.getAbsolutePositionY = function (e) {\n        function n(e) {\n          return Math.round(e.getBoundingClientRect().top + t.getDocumentScrollTop());\n        }\n\n        return e ? o.Browser.IE ? function (e) {\n          return o.Browser.IE && null === e.parentNode ? 0 : e.getBoundingClientRect().top + t.getDocumentScrollTop();\n        }(e) : o.Browser.Firefox && o.Browser.Version >= 3 ? n(e) : o.Browser.Opera ? function (e) {\n          var n = !0;\n          e && t.isHTMLTableRowElement(e) && e.cells.length > 0 && (e = e.cells[0]);\n\n          for (var o = u(e, !1); null != e;) o += e.offsetTop, n || (o -= e.scrollTop), e = e.offsetParent, n = !1;\n\n          return o += document.body.scrollTop;\n        }(e) : o.Browser.NetscapeFamily && (!o.Browser.Firefox || o.Browser.Version < 3) ? function (e) {\n          for (var n = u(e, !1), i = !0; null != e;) {\n            if (n += e.offsetTop, i || null == e.offsetParent || (n -= e.scrollTop), !i && o.Browser.Firefox) {\n              var r = t.getCurrentStyle(e);\n              \"DIV\" === e.tagName && \"visible\" !== r.overflow && (n += t.pxToInt(r.borderTopWidth));\n            }\n\n            i = !1, e = e.offsetParent;\n          }\n\n          return n;\n        }(e) : o.Browser.WebKitFamily || o.Browser.Edge ? n(e) : function (t) {\n          for (var e = 0, n = !0; null != t;) e += t.offsetTop, n || null == t.offsetParent || (e -= t.scrollTop), n = !1, t = t.offsetParent;\n\n          return e;\n        }(e) : 0;\n      }, t.getAbsolutePositionX = function (e) {\n        function n(e) {\n          return Math.round(e.getBoundingClientRect().left + t.getDocumentScrollLeft());\n        }\n\n        return e ? o.Browser.IE ? function (e) {\n          return o.Browser.IE && null === e.parentNode ? 0 : e.getBoundingClientRect().left + t.getDocumentScrollLeft();\n        }(e) : o.Browser.Firefox && o.Browser.Version >= 3 ? n(e) : o.Browser.Opera && o.Browser.Version <= 12 ? function (t) {\n          for (var e = !0, n = u(t, !0); null != t;) n += t.offsetLeft, e || (n -= t.scrollLeft), t = t.offsetParent, e = !1;\n\n          return n += document.body.scrollLeft;\n        }(e) : o.Browser.NetscapeFamily && (!o.Browser.Firefox || o.Browser.Version < 3) ? function (e) {\n          for (var n = u(e, !0), i = !0; null != e;) {\n            if (n += e.offsetLeft, i || null == e.offsetParent || (n -= e.scrollLeft), !i && o.Browser.Firefox) {\n              var r = t.getCurrentStyle(e);\n              \"DIV\" === e.tagName && \"visible\" !== r.overflow && (n += t.pxToInt(r.borderLeftWidth));\n            }\n\n            i = !1, e = e.offsetParent;\n          }\n\n          return n;\n        }(e) : o.Browser.WebKitFamily || o.Browser.Edge ? n(e) : function (t) {\n          for (var e = 0, n = !0; null != t;) e += t.offsetLeft, n || null == t.offsetParent || (e -= t.scrollLeft), n = !1, t = t.offsetParent;\n\n          return e;\n        }(e) : 0;\n      }, t.isInteractiveControl = function (t) {\n        return [\"A\", \"INPUT\", \"SELECT\", \"OPTION\", \"TEXTAREA\", \"BUTTON\", \"IFRAME\"].indexOf(t.tagName) > -1;\n      }, t.getClearClientHeight = function (e) {\n        return e.offsetHeight - (t.getTopBottomPaddings(e) + t.getVerticalBordersWidth(e));\n      }, t.getTopBottomPaddings = function (e, n) {\n        var o = n || t.getCurrentStyle(e);\n        return t.pxToInt(o.paddingTop) + t.pxToInt(o.paddingBottom);\n      }, t.getVerticalBordersWidth = function (e, n) {\n        i.isDefined(n) || (n = o.Browser.IE && 9 !== o.Browser.MajorVersion && window.getComputedStyle ? window.getComputedStyle(e) : t.getCurrentStyle(e));\n        var r = 0;\n        return \"none\" !== n.borderTopStyle && (r += t.pxToFloat(n.borderTopWidth)), \"none\" !== n.borderBottomStyle && (r += t.pxToFloat(n.borderBottomWidth)), r;\n      }, t.getNodes = function (t, e) {\n        for (var n = t.all || t.getElementsByTagName(\"*\"), o = [], i = 0; i < n.length; i++) {\n          var r = n[i];\n          e(r) && o.push(r);\n        }\n\n        return o;\n      }, t.getChildNodes = function (t, e) {\n        for (var n = t.childNodes, o = [], i = 0; i < n.length; i++) {\n          var r = n[i];\n          e(r) && o.push(r);\n        }\n\n        return o;\n      }, t.getNodesByClassName = function (e, n) {\n        if (e.querySelectorAll) {\n          var o = e.querySelectorAll(\".\" + n),\n              i = [];\n          return o.forEach(function (t) {\n            return i.push(t);\n          }), i;\n        }\n\n        return t.getNodes(e, function (e) {\n          return t.hasClassName(e, n);\n        });\n      }, t.getChildNodesByClassName = function (e, n) {\n        return e.querySelectorAll ? function (t, e) {\n          for (var n = [], o = 0; o < t.length; o++) {\n            var i = t[o];\n            e(i) && n.push(i);\n          }\n\n          return n;\n        }(e.querySelectorAll(\".\" + n), function (t) {\n          return t.parentNode === e;\n        }) : t.getChildNodes(e, function (e) {\n          return !!t.isElementNode(e) && i.isNonNullString(e.className) && t.hasClassName(e, e.className);\n        });\n      }, t.getVerticalScrollBarWidth = function () {\n        if (void 0 === t.verticalScrollBarWidth) {\n          var e = document.createElement(\"DIV\");\n          e.style.cssText = \"position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box\", document.body.appendChild(e);\n          var n = document.createElement(\"P\");\n          e.appendChild(n), n.style.cssText = \"width: 100%; height: 200px;\";\n          var o = n.offsetWidth;\n          e.style.overflow = \"scroll\";\n          var i = n.offsetWidth;\n          o === i && (i = e.clientWidth), t.verticalScrollBarWidth = o - i, document.body.removeChild(e);\n        }\n\n        return t.verticalScrollBarWidth;\n      }, t.getHorizontalBordersWidth = function (e, n) {\n        i.isDefined(n) || (n = o.Browser.IE && window.getComputedStyle ? window.getComputedStyle(e) : t.getCurrentStyle(e));\n        var r = 0;\n        return \"none\" !== n.borderLeftStyle && (r += t.pxToFloat(n.borderLeftWidth)), \"none\" !== n.borderRightStyle && (r += t.pxToFloat(n.borderRightWidth)), r;\n      }, t.getFontFamiliesFromCssString = function (t) {\n        return t.split(\",\").map(function (t) {\n          return s.StringUtils.trim(t.replace(/'|\"/gi, \"\"));\n        });\n      }, t.getInnerText = function (e) {\n        if (o.Browser.Safari && o.Browser.MajorVersion <= 5) {\n          null === t.html2PlainTextFilter && (t.html2PlainTextFilter = document.createElement(\"DIV\"), t.html2PlainTextFilter.style.width = \"0\", t.html2PlainTextFilter.style.height = \"0\", t.html2PlainTextFilter.style.overflow = \"visible\", t.html2PlainTextFilter.style.display = \"none\", document.body.appendChild(t.html2PlainTextFilter));\n          var n = t.html2PlainTextFilter;\n          n.innerHTML = e.innerHTML, n.style.display = \"\";\n          var i = n.innerText;\n          return n.style.display = \"none\", i;\n        }\n\n        return o.Browser.NetscapeFamily || o.Browser.WebKitFamily || o.Browser.IE && o.Browser.Version >= 9 || o.Browser.Edge ? e.textContent : e.innerText;\n      }, t.html2PlainTextFilter = null, t.verticalScrollBarWidth = void 0, t;\n    }();\n\n    function c(t, e) {\n      var n = 0;\n      if (i.isDefined(t) && \"\" !== t) try {\n        var o = t.indexOf(\"px\");\n        o > -1 && (n = e(t.substr(0, o)));\n      } catch (t) {}\n      return n;\n    }\n\n    function u(t, e) {\n      for (var n = 0, o = !0; null != t && \"BODY\" !== t.tagName;) {\n        var i = a.getCurrentStyle(t);\n        if (\"absolute\" === i.position) break;\n        o || \"DIV\" !== t.tagName || \"\" !== i.position && \"static\" !== i.position || (n -= e ? t.scrollLeft : t.scrollTop), t = t.parentNode, o = !1;\n      }\n\n      return n;\n    }\n\n    e.DomUtils = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o10,\n        i = this && this.__extends || (_o10 = function o(t, e) {\n      return (_o10 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o10(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SvgPrimitive = void 0;\n\n    var r = n(17),\n        s = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.className = n, r.clipPathId = o, r.onApplyProperties = i, r.children = [], r;\n      }\n\n      return i(e, t), e.prototype.createElement = function (t) {\n        var e = this.createMainElement();\n        return this.createChildElements(e), t(e), this.createCustomContent(e), e;\n      }, e.prototype.createChildElements = function (t) {\n        for (var e = 0; e < this.children.length; e++) this.children[e].createElement(function (e) {\n          return t.appendChild(e);\n        });\n      }, e.prototype.applyElementProperties = function (t, e) {\n        this.applyElementStyleProperties(t), this.className && t.setAttribute(\"class\", this.className), \"string\" == typeof this.clipPathId && (this.clipPathId ? t.setAttribute(\"clip-path\", r.RenderUtils.getUrlPathById(this.clipPathId)) : t.removeAttribute(\"clip-path\")), this.onApplyProperties && this.onApplyProperties(t), this.applyChildrenProperties(t, e);\n      }, e.prototype.applyChildrenProperties = function (t, e) {\n        for (var n = 0; n < this.children.length; n++) this.children[n].applyElementProperties(t.childNodes[n], e);\n      }, e.prototype.applyElementStyleProperties = function (t) {\n        this.applyElementStylePropertiesCore(t);\n      }, e.prototype.applyElementStylePropertiesCore = function (t, e) {\n        void 0 === e && (e = !1), this.style && r.RenderUtils.applyStyleToElement(this.style, t, e);\n      }, e.prototype.createCustomContent = function (t) {}, e.prototype.destroyCustomContent = function (t) {}, e.prototype.dispose = function () {\n        this.children && this.children.forEach(function (t) {\n          return t.dispose();\n        });\n      }, e;\n    }(n(111).PrimitiveObject);\n\n    e.SvgPrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o,\n        i,\n        r = n(19),\n        s = n(173),\n        a = n(49),\n        c = function () {\n      function t() {}\n\n      return t.getKeyModifiers = function (t) {\n        var e = 0;\n        return t.altKey && (e |= o.Alt), t.ctrlKey && (e |= o.Ctrl), t.shiftKey && (e |= o.Shift), t.metaKey && (e |= o.Meta), e;\n      }, t.getShortcutCode = function (t, e, n, i, r) {\n        var s = t;\n        return s |= e ? o.Ctrl : 0, s |= n ? o.Shift : 0, s |= i ? o.Alt : 0, s |= r ? o.Meta : 0;\n      }, t.getShortcutCodeByEvent = function (e) {\n        return t.getShortcutCode(t.getEventKeyCode(e), e.ctrlKey, e.shiftKey, e.altKey, !!r.Browser.MacOSPlatform && e.metaKey);\n      }, t.getEventKeyCode = function (t) {\n        return r.Browser.NetscapeFamily || r.Browser.Opera ? t.which : t.keyCode;\n      }, t.parseShortcutString = function (e) {\n        if (!e) return 0;\n        var n = !1,\n            o = !1,\n            r = !1,\n            c = !1,\n            u = null,\n            h = e.toString().split(\"+\");\n        if (h.length > 0) for (var p = 0; p < h.length; p++) {\n          var l = a.StringUtils.trim(h[p].toUpperCase());\n\n          switch (l) {\n            case \"CONTROL\":\n            case \"CONTROLKEY\":\n            case \"CTRL\":\n              n = !0;\n              break;\n\n            case \"SHIFT\":\n            case \"SHIFTKEY\":\n              o = !0;\n              break;\n\n            case \"ALT\":\n              r = !0;\n              break;\n\n            case \"CMD\":\n              c = !0;\n              break;\n\n            case \"F1\":\n              u = i.F1;\n              break;\n\n            case \"F2\":\n              u = i.F2;\n              break;\n\n            case \"F3\":\n              u = i.F3;\n              break;\n\n            case \"F4\":\n              u = i.F4;\n              break;\n\n            case \"F5\":\n              u = i.F5;\n              break;\n\n            case \"F6\":\n              u = i.F6;\n              break;\n\n            case \"F7\":\n              u = i.F7;\n              break;\n\n            case \"F8\":\n              u = i.F8;\n              break;\n\n            case \"F9\":\n              u = i.F9;\n              break;\n\n            case \"F10\":\n              u = i.F10;\n              break;\n\n            case \"F11\":\n              u = i.F11;\n              break;\n\n            case \"F12\":\n              u = i.F12;\n              break;\n\n            case \"RETURN\":\n            case \"ENTER\":\n              u = i.Enter;\n              break;\n\n            case \"HOME\":\n              u = i.Home;\n              break;\n\n            case \"END\":\n              u = i.End;\n              break;\n\n            case \"LEFT\":\n              u = i.Left;\n              break;\n\n            case \"RIGHT\":\n              u = i.Right;\n              break;\n\n            case \"UP\":\n              u = i.Up;\n              break;\n\n            case \"DOWN\":\n              u = i.Down;\n              break;\n\n            case \"PAGEUP\":\n              u = i.PageUp;\n              break;\n\n            case \"PAGEDOWN\":\n              u = i.PageDown;\n              break;\n\n            case \"SPACE\":\n              u = i.Space;\n              break;\n\n            case \"TAB\":\n              u = i.Tab;\n              break;\n\n            case \"BACKSPACE\":\n            case \"BACK\":\n              u = i.Backspace;\n              break;\n\n            case \"CONTEXT\":\n              u = i.ContextMenu;\n              break;\n\n            case \"ESCAPE\":\n            case \"ESC\":\n              u = i.Esc;\n              break;\n\n            case \"DELETE\":\n            case \"DEL\":\n              u = i.Delete;\n              break;\n\n            case \"INSERT\":\n            case \"INS\":\n              u = i.Insert;\n              break;\n\n            case \"PLUS\":\n              u = \"+\".charCodeAt(0);\n              break;\n\n            default:\n              u = l.charCodeAt(0);\n          }\n        } else alert(s.EncodeUtils.decodeViaTextArea(\"Invalid shortcut\"));\n        return t.getShortcutCode(u, n, o, r, c);\n      }, t;\n    }();\n\n    e.KeyUtils = c, function (t) {\n      t[t.None = 0] = \"None\", t[t.Ctrl = 65536] = \"Ctrl\", t[t.Shift = 262144] = \"Shift\", t[t.Alt = 1048576] = \"Alt\", t[t.Meta = 16777216] = \"Meta\";\n    }(o = e.ModifierKey || (e.ModifierKey = {})), function (t) {\n      t[t.Backspace = 8] = \"Backspace\", t[t.Tab = 9] = \"Tab\", t[t.Enter = 13] = \"Enter\", t[t.Pause = 19] = \"Pause\", t[t.CapsLock = 20] = \"CapsLock\", t[t.Esc = 27] = \"Esc\", t[t.Space = 32] = \"Space\", t[t.PageUp = 33] = \"PageUp\", t[t.PageDown = 34] = \"PageDown\", t[t.End = 35] = \"End\", t[t.Home = 36] = \"Home\", t[t.Left = 37] = \"Left\", t[t.Up = 38] = \"Up\", t[t.Right = 39] = \"Right\", t[t.Down = 40] = \"Down\", t[t.Insert = 45] = \"Insert\", t[t.Delete = 46] = \"Delete\", t[t.Key_0 = 48] = \"Key_0\", t[t.Key_1 = 49] = \"Key_1\", t[t.Key_2 = 50] = \"Key_2\", t[t.Key_3 = 51] = \"Key_3\", t[t.Key_4 = 52] = \"Key_4\", t[t.Key_5 = 53] = \"Key_5\", t[t.Key_6 = 54] = \"Key_6\", t[t.Key_7 = 55] = \"Key_7\", t[t.Key_8 = 56] = \"Key_8\", t[t.Key_9 = 57] = \"Key_9\", t[t.Key_a = 65] = \"Key_a\", t[t.Key_b = 66] = \"Key_b\", t[t.Key_c = 67] = \"Key_c\", t[t.Key_d = 68] = \"Key_d\", t[t.Key_e = 69] = \"Key_e\", t[t.Key_f = 70] = \"Key_f\", t[t.Key_g = 71] = \"Key_g\", t[t.Key_h = 72] = \"Key_h\", t[t.Key_i = 73] = \"Key_i\", t[t.Key_j = 74] = \"Key_j\", t[t.Key_k = 75] = \"Key_k\", t[t.Key_l = 76] = \"Key_l\", t[t.Key_m = 77] = \"Key_m\", t[t.Key_n = 78] = \"Key_n\", t[t.Key_o = 79] = \"Key_o\", t[t.Key_p = 80] = \"Key_p\", t[t.Key_q = 81] = \"Key_q\", t[t.Key_r = 82] = \"Key_r\", t[t.Key_s = 83] = \"Key_s\", t[t.Key_t = 84] = \"Key_t\", t[t.Key_u = 85] = \"Key_u\", t[t.Key_v = 86] = \"Key_v\", t[t.Key_w = 87] = \"Key_w\", t[t.Key_x = 88] = \"Key_x\", t[t.Key_y = 89] = \"Key_y\", t[t.Key_z = 90] = \"Key_z\", t[t.Windows = 91] = \"Windows\", t[t.ContextMenu = 93] = \"ContextMenu\", t[t.Numpad_0 = 96] = \"Numpad_0\", t[t.Numpad_1 = 97] = \"Numpad_1\", t[t.Numpad_2 = 98] = \"Numpad_2\", t[t.Numpad_3 = 99] = \"Numpad_3\", t[t.Numpad_4 = 100] = \"Numpad_4\", t[t.Numpad_5 = 101] = \"Numpad_5\", t[t.Numpad_6 = 102] = \"Numpad_6\", t[t.Numpad_7 = 103] = \"Numpad_7\", t[t.Numpad_8 = 104] = \"Numpad_8\", t[t.Numpad_9 = 105] = \"Numpad_9\", t[t.Multiply = 106] = \"Multiply\", t[t.Add = 107] = \"Add\", t[t.Subtract = 109] = \"Subtract\", t[t.Decimal = 110] = \"Decimal\", t[t.Divide = 111] = \"Divide\", t[t.F1 = 112] = \"F1\", t[t.F2 = 113] = \"F2\", t[t.F3 = 114] = \"F3\", t[t.F4 = 115] = \"F4\", t[t.F5 = 116] = \"F5\", t[t.F6 = 117] = \"F6\", t[t.F7 = 118] = \"F7\", t[t.F8 = 119] = \"F8\", t[t.F9 = 120] = \"F9\", t[t.F10 = 121] = \"F10\", t[t.F11 = 122] = \"F11\", t[t.F12 = 123] = \"F12\", t[t.NumLock = 144] = \"NumLock\", t[t.ScrollLock = 145] = \"ScrollLock\", t[t.Semicolon = 186] = \"Semicolon\", t[t.Equals = 187] = \"Equals\", t[t.Comma = 188] = \"Comma\", t[t.Dash = 189] = \"Dash\", t[t.Period = 190] = \"Period\", t[t.ForwardSlash = 191] = \"ForwardSlash\", t[t.GraveAccent = 192] = \"GraveAccent\", t[t.OpenBracket = 219] = \"OpenBracket\", t[t.BackSlash = 220] = \"BackSlash\", t[t.CloseBracket = 221] = \"CloseBracket\", t[t.SingleQuote = 222] = \"SingleQuote\";\n    }(i = e.KeyCode || (e.KeyCode = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var o = n(49);\n    e.isDefined = function (t) {\n      return null != t;\n    }, e.boolToInt = function (t) {\n      return t ? 1 : 0;\n    }, e.boolToString = function (t) {\n      return t ? \"1\" : \"0\";\n    }, e.isNumber = function (t) {\n      return \"number\" == typeof t;\n    }, e.isString = function (t) {\n      return \"string\" == typeof t;\n    }, e.isNonNullString = function (t) {\n      return !!t;\n    }, e.isEven = function (t) {\n      return t % 2 != 0;\n    }, e.isOdd = function (t) {\n      return t % 2 == 0;\n    }, e.numberToStringBin = function (t, e) {\n      return void 0 === e && (e = 0), o.StringUtils.padLeft(t.toString(2), e, \"0\");\n    }, e.numberToStringHex = function (t, e) {\n      return void 0 === e && (e = 0), o.StringUtils.padLeft(t.toString(16), e, \"0\");\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o11,\n        i = this && this.__extends || (_o11 = function o(t, e) {\n      return (_o11 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o11(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EmptyStyle = e.StrokeStyle = e.TextAlignment = e.TextStyle = e.Style = e.DEFAULT_STROKE_DASHARRAY = e.DEFAULT_STROKE_WIDTH = e.StyleBase = void 0;\n\n    var r = n(22),\n        s = n(112),\n        a = n(12),\n        c = function () {\n      function t() {\n        this.createDefaultProperties();\n      }\n\n      return t.prototype.clone = function () {\n        var t = this,\n            e = this.createInstance();\n        return this.forEach(function (n) {\n          e[n] = t[n];\n        }), e;\n      }, t.prototype.forEach = function (t) {\n        for (var e in this) Object.prototype.hasOwnProperty.call(this, e) && t(e);\n      }, Object.defineProperty(t.prototype, \"strokeWidthPx\", {\n        get: function get() {\n          return 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"strokeWidth\", {\n        get: function get() {\n          return a.UnitConverter.pixelsToTwips(this.strokeWidthPx);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"strokeOffset\", {\n        get: function get() {\n          return .5;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.toHash = function () {\n        var t = this.toObject();\n        return t ? Object.keys(t).map(function (e) {\n          return e + \"|\" + t[e];\n        }).join(\"\") : \"\";\n      }, t.prototype.toObject = function () {\n        var t = this,\n            e = {},\n            n = !1,\n            o = this.getDefaultInstance();\n        return this.forEach(function (i) {\n          t[i] !== o[i] && (e[i] = t[i], n = !0);\n        }), n ? e : null;\n      }, t.prototype.fromObject = function (t) {\n        for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) {\n          var n = s.isColorProperty(e) ? r.ColorUtils.stringToHash(t[e]) : t[e];\n          this[e] = n;\n        }\n      }, t;\n    }();\n\n    e.StyleBase = c, e.DEFAULT_STROKE_WIDTH = 2, e.DEFAULT_STROKE_DASHARRAY = \"\";\n\n    var u = function (t) {\n      function n() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(n, t), n.prototype.createInstance = function () {\n        return new n();\n      }, n.prototype.createDefaultProperties = function () {\n        this.fill = \"#ffffff\", this.stroke = \"#000000\", this[\"stroke-width\"] = e.DEFAULT_STROKE_WIDTH.toString(), this[\"stroke-dasharray\"] = e.DEFAULT_STROKE_DASHARRAY;\n      }, n.prototype.getDefaultInstance = function () {\n        return n.defaultInstance;\n      }, n.prototype.isDefaultStrokeDashArray = function () {\n        return this[\"stroke-dasharray\"] === e.DEFAULT_STROKE_DASHARRAY;\n      }, n.prototype.resetStrokeDashArray = function () {\n        this[\"stroke-dasharray\"] = e.DEFAULT_STROKE_DASHARRAY;\n      }, Object.defineProperty(n.prototype, \"strokeWidthPx\", {\n        get: function get() {\n          return parseInt(this[\"stroke-width\"]);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.defaultInstance = new n(), n;\n    }(c);\n\n    e.Style = u;\n\n    var h,\n        p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createInstance = function () {\n        return new e();\n      }, e.prototype.createDefaultProperties = function () {\n        this.fill = \"#000000\", this[\"font-family\"] = \"Arial\", this[\"font-size\"] = \"10pt\", this[\"font-weight\"] = \"\", this[\"font-style\"] = \"\", this[\"text-decoration\"] = \"\", this[\"text-anchor\"] = \"middle\";\n      }, e.prototype.getDefaultInstance = function () {\n        return e.defaultInstance;\n      }, e.prototype.getAlignment = function () {\n        switch (this[\"text-anchor\"]) {\n          case \"left\":\n            return h.Left;\n\n          case \"right\":\n            return h.Right;\n\n          default:\n            return h.Center;\n        }\n      }, e.defaultInstance = new e(), e;\n    }(c);\n\n    e.TextStyle = p, function (t) {\n      t[t.Left = 0] = \"Left\", t[t.Right = 1] = \"Right\", t[t.Center = 2] = \"Center\";\n    }(h = e.TextAlignment || (e.TextAlignment = {}));\n\n    var l = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o._strokeWidthPx = e, o._strokeOffset = n, o;\n      }\n\n      return i(e, t), e.prototype.createInstance = function () {\n        return new e();\n      }, e.prototype.createDefaultProperties = function () {}, e.prototype.getDefaultInstance = function () {\n        return p.defaultInstance;\n      }, Object.defineProperty(e.prototype, \"strokeWidthPx\", {\n        get: function get() {\n          return this._strokeWidthPx || 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"strokeOffset\", {\n        get: function get() {\n          return this._strokeOffset || 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.default1pxInstance = new e(1, .5), e.default1pxNegativeOffsetInstance = new e(1, -.5), e.default2pxInstance = new e(2), e;\n    }(u);\n\n    e.StrokeStyle = l;\n\n    var d = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return e && Object.keys(e).forEach(function (t) {\n          return n[t] = e[t];\n        }), n;\n      }\n\n      return i(e, t), e.prototype.createInstance = function () {\n        return new e();\n      }, e.prototype.createDefaultProperties = function () {}, e.prototype.getDefaultInstance = function () {\n        return p.defaultInstance;\n      }, e.defaultInstance = new e(), e;\n    }(u);\n\n    e.EmptyStyle = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorRoutingMode = e.AutoZoomMode = e.DiagramSettings = void 0;\n\n    var o,\n        i,\n        r = n(3),\n        s = n(2),\n        a = n(47),\n        c = n(4),\n        u = function () {\n      function t() {\n        this.onZoomChanged = new r.EventDispatcher(), this.onViewChanged = new r.EventDispatcher(), this.onReadOnlyChanged = new r.EventDispatcher(), this.onConnectorRoutingModeChanged = new r.EventDispatcher(), this._zoomLevel = 1, this._zoomLevelWasChanged = !1, this._zoomLevelItems = [.5, .75, 1, 1.25, 1.5, 2, 3], this._simpleView = !1, this._fullscreen = !1, this._readOnly = !1, this._autoZoom = o.Disabled, this._snapToGrid = !0, this._showGrid = !0, this._contextMenuEnabled = !0, this._gridSize = 180, this._gridSizeItems = [90, 180, 360, 720], this._pageSizeItems = [{\n          size: new s.Size(12240, 15840),\n          text: \"US-Letter ({width} x {height})\"\n        }, {\n          size: new s.Size(12240, 20160),\n          text: \"US-Legal ({width} x {height})\"\n        }, {\n          size: new s.Size(15817, 24491),\n          text: \"US-Tabloid ({width} x {height})\"\n        }, {\n          size: new s.Size(47679, 67408),\n          text: \"A0 ({width} x {height})\"\n        }, {\n          size: new s.Size(33676, 47679),\n          text: \"A1 ({width} x {height})\"\n        }, {\n          size: new s.Size(23811, 33676),\n          text: \"A2 ({width} x {height})\"\n        }, {\n          size: new s.Size(16838, 23811),\n          text: \"A3 ({width} x {height})\"\n        }, {\n          size: new s.Size(11906, 16838),\n          text: \"A4 ({width} x {height})\"\n        }, {\n          size: new s.Size(8391, 11906),\n          text: \"A5 ({width} x {height})\"\n        }, {\n          size: new s.Size(5953, 8391),\n          text: \"A6 ({width} x {height})\"\n        }, {\n          size: new s.Size(4195, 5953),\n          text: \"A7 ({width} x {height})\"\n        }], this._viewUnits = a.DiagramUnit.In, this._connectorRoutingMode = i.AllShapesOnly, this._reloadInsertedItemRequired = !1, this._useCanvgForExportToImage = !0;\n      }\n\n      return Object.defineProperty(t.prototype, \"zoomLevel\", {\n        get: function get() {\n          return this._zoomLevel;\n        },\n        set: function set(e) {\n          var n = this;\n          (e = t.correctZoomLevel(e)) !== this._zoomLevel && (this._zoomLevel = e, this._zoomLevelWasChanged = !0, this.onZoomChanged.raise1(function (t) {\n            return t.notifyZoomChanged(e, n._autoZoom);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"zoomLevelWasChanged\", {\n        get: function get() {\n          return this._zoomLevelWasChanged;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"zoomLevelItems\", {\n        get: function get() {\n          return this._zoomLevelItems;\n        },\n        set: function set(e) {\n          (e = e.map(function (e) {\n            return t.correctZoomLevel(e);\n          })) !== this._zoomLevelItems && (this._zoomLevelItems = e);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"autoZoom\", {\n        get: function get() {\n          return this._autoZoom;\n        },\n        set: function set(t) {\n          var e = this;\n          t !== this._autoZoom && (this._autoZoom = t, this.onZoomChanged.raise1(function (n) {\n            return n.notifyZoomChanged(e._zoomLevel, t);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"simpleView\", {\n        get: function get() {\n          return this._simpleView;\n        },\n        set: function set(t) {\n          t !== this._simpleView && (this._simpleView = t, this.notifyViewChanged());\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"readOnly\", {\n        get: function get() {\n          return this._readOnly;\n        },\n        set: function set(t) {\n          t !== this._readOnly && (this._readOnly = t, this.onReadOnlyChanged.raise1(function (e) {\n            return e.notifyReadOnlyChanged(t);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"fullscreen\", {\n        get: function get() {\n          return this._fullscreen;\n        },\n        set: function set(t) {\n          this._fullscreen = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"snapToGrid\", {\n        get: function get() {\n          return this._snapToGrid;\n        },\n        set: function set(t) {\n          this._snapToGrid = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"showGrid\", {\n        get: function get() {\n          return this._showGrid;\n        },\n        set: function set(t) {\n          var e = this;\n          t !== this._showGrid && (this._showGrid = t, this.onViewChanged.raise1(function (t) {\n            return t.notifyGridChanged(e.showGrid, e.gridSize);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"contextMenuEnabled\", {\n        get: function get() {\n          return this._contextMenuEnabled;\n        },\n        set: function set(t) {\n          this._contextMenuEnabled = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"gridSize\", {\n        get: function get() {\n          return this._gridSize;\n        },\n        set: function set(t) {\n          var e = this;\n          t !== this._gridSize && (this._gridSize = t, this.onViewChanged.raise1(function (t) {\n            return t.notifyGridChanged(e.showGrid, e.gridSize);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"gridSizeItems\", {\n        get: function get() {\n          return this._gridSizeItems;\n        },\n        set: function set(t) {\n          t !== this._gridSizeItems && (this._gridSizeItems = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"pageSizeItems\", {\n        get: function get() {\n          return this._pageSizeItems;\n        },\n        set: function set(t) {\n          t !== this._pageSizeItems && (this._pageSizeItems = t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"viewUnits\", {\n        get: function get() {\n          return this._viewUnits;\n        },\n        set: function set(t) {\n          this._viewUnits = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"connectorRoutingMode\", {\n        get: function get() {\n          return this._connectorRoutingMode;\n        },\n        set: function set(t) {\n          t !== this._connectorRoutingMode && (this._connectorRoutingMode = t, this.onConnectorRoutingModeChanged.raise1(function (e) {\n            return e.notifyConnectorRoutingModeChanged(t);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"reloadInsertedItemRequired\", {\n        get: function get() {\n          return this._reloadInsertedItemRequired;\n        },\n        set: function set(t) {\n          this._reloadInsertedItemRequired = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"useCanvgForExportToImage\", {\n        get: function get() {\n          return this._useCanvgForExportToImage;\n        },\n        set: function set(t) {\n          this._useCanvgForExportToImage = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"shapeMinWidth\", {\n        get: function get() {\n          return this._shapeMinWidth;\n        },\n        set: function set(t) {\n          this._shapeMinWidth = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"shapeMinHeight\", {\n        get: function get() {\n          return this._shapeMinHeight;\n        },\n        set: function set(t) {\n          this._shapeMinHeight = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"shapeMaxWidth\", {\n        get: function get() {\n          return this._shapeMaxWidth;\n        },\n        set: function set(t) {\n          this._shapeMaxWidth = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"shapeMaxHeight\", {\n        get: function get() {\n          return this._shapeMaxHeight;\n        },\n        set: function set(t) {\n          this._shapeMaxHeight = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.applyShapeSizeSettings = function (t, e) {\n        t && (\"number\" == typeof t.shapeMaxHeight && (this.shapeMaxHeight = c.ModelUtils.getTwipsValue(e, t.shapeMaxHeight)), \"number\" == typeof t.shapeMinHeight && (this.shapeMinHeight = c.ModelUtils.getTwipsValue(e, t.shapeMinHeight)), \"number\" == typeof t.shapeMaxWidth && (this.shapeMaxWidth = c.ModelUtils.getTwipsValue(e, t.shapeMaxWidth)), \"number\" == typeof t.shapeMinWidth && (this.shapeMinWidth = c.ModelUtils.getTwipsValue(e, t.shapeMinWidth)));\n      }, t.prototype.notifyViewChanged = function () {\n        var t = this;\n        this.onViewChanged.raise1(function (e) {\n          return e.notifyViewChanged(t._simpleView);\n        });\n      }, t.correctZoomLevel = function (t) {\n        return Math.min(10, Math.max(t, .01));\n      }, t;\n    }();\n\n    e.DiagramSettings = u, function (t) {\n      t[t.Disabled = 0] = \"Disabled\", t[t.FitContent = 1] = \"FitContent\", t[t.FitToWidth = 2] = \"FitToWidth\";\n    }(o = e.AutoZoomMode || (e.AutoZoomMode = {})), function (t) {\n      t[t.None = 0] = \"None\", t[t.ConnectorShapesOnly = 1] = \"ConnectorShapesOnly\", t[t.AllShapesOnly = 2] = \"AllShapesOnly\";\n    }(i = e.ConnectorRoutingMode || (e.ConnectorRoutingMode = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o12,\n        i = this && this.__extends || (_o12 = function o(t, e) {\n      return (_o12 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o12(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorRenderPoint = void 0;\n\n    var r = function (t) {\n      function e(e, n, o, i) {\n        void 0 === o && (o = -1), void 0 === i && (i = !1);\n        var r = t.call(this, e, n) || this;\n        return r.pointIndex = o, r.skipped = i, r;\n      }\n\n      return i(e, t), e.prototype.offset = function (e, n) {\n        return t.prototype.offset.call(this, e, n), this.pointIndex = -1, this.skipped = !1, this;\n      }, e.prototype.multiply = function (e, n) {\n        return t.prototype.multiply.call(this, e, n), this.pointIndex = -1, this.skipped = !1, this;\n      }, e.prototype.clone = function () {\n        return new e(this.x, this.y, this.pointIndex, this.skipped);\n      }, e;\n    }(n(1).Point);\n\n    e.ConnectorRenderPoint = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var o, i;\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorProperties = e.DEFAULT_CONNECTOR_ENDLINEENDING = e.DEFAULT_CONNECTOR_STARTLINEENDING = e.DEFAULT_CONNECTOR_LINEOPTION = e.ConnectorLineEnding = e.ConnectorLineOption = void 0, function (t) {\n      t[t.Straight = 0] = \"Straight\", t[t.Orthogonal = 1] = \"Orthogonal\";\n    }(o = e.ConnectorLineOption || (e.ConnectorLineOption = {})), function (t) {\n      t[t.None = 0] = \"None\", t[t.Arrow = 1] = \"Arrow\", t[t.OutlinedTriangle = 2] = \"OutlinedTriangle\", t[t.FilledTriangle = 3] = \"FilledTriangle\";\n    }(i = e.ConnectorLineEnding || (e.ConnectorLineEnding = {})), e.DEFAULT_CONNECTOR_LINEOPTION = o.Orthogonal, e.DEFAULT_CONNECTOR_STARTLINEENDING = i.None, e.DEFAULT_CONNECTOR_ENDLINEENDING = i.Arrow;\n\n    var r = function () {\n      function t() {\n        this.lineOption = e.DEFAULT_CONNECTOR_LINEOPTION, this.startLineEnding = e.DEFAULT_CONNECTOR_STARTLINEENDING, this.endLineEnding = e.DEFAULT_CONNECTOR_ENDLINEENDING;\n      }\n\n      return t.prototype.clone = function () {\n        var e = new t();\n        return e.lineOption = this.lineOption, e.startLineEnding = this.startLineEnding, e.endLineEnding = this.endLineEnding, e;\n      }, t.prototype.forEach = function (t) {\n        for (var e in this) Object.prototype.hasOwnProperty.call(this, e) && t(e);\n      }, t.prototype.toObject = function () {\n        var t = {},\n            n = !1;\n        return this.lineOption !== e.DEFAULT_CONNECTOR_LINEOPTION && (t.lineOption = this.lineOption, n = !0), this.startLineEnding !== e.DEFAULT_CONNECTOR_STARTLINEENDING && (t.startLineEnding = this.startLineEnding, n = !0), this.endLineEnding !== e.DEFAULT_CONNECTOR_ENDLINEENDING && (t.endLineEnding = this.endLineEnding, n = !0), n ? t : null;\n      }, t.prototype.fromObject = function (t) {\n        \"number\" == typeof t.lineOption && (this.lineOption = t.lineOption), \"number\" == typeof t.startLineEnding && (this.startLineEnding = t.startLineEnding), \"number\" == typeof t.endLineEnding && (this.endLineEnding = t.endLineEnding);\n      }, t;\n    }();\n\n    e.ConnectorProperties = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeParameterPoint = void 0;\n\n    var o = function () {\n      return function (t, e) {\n        this.key = t, this.point = e;\n      };\n    }();\n\n    e.ShapeParameterPoint = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(107),\n        i = function () {\n      function t() {}\n\n      return t.round = function (e, n) {\n        void 0 === n && (n = 0);\n        var o = t.powFactor[n];\n        return Math.round(e * o) / o;\n      }, t.numberCloseTo = function (t, e, n) {\n        return void 0 === n && (n = 1e-5), Math.abs(t - e) < n;\n      }, t.restrictValue = function (t, e, n) {\n        return n < e && (n = e), t > n ? n : t < e ? e : t;\n      }, t.getRandomInt = function (t, e) {\n        return Math.floor(Math.random() * (e - t + 1)) + t;\n      }, t.generateGuid = function () {\n        return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (t) {\n          var e = 16 * Math.random() | 0;\n          return (\"x\" === t ? e : 3 & e | 8).toString(16);\n        });\n      }, t.powFactor = o.ListUtils.initByCallback(20, function (t) {\n        return Math.pow(10, t);\n      }), t.somePrimes = [1009, 1013, 1019, 1021, 1031, 1033, 1039, 1049, 1051, 1061, 1063, 1069, 1087, 1091, 1093, 1097, 1103, 1109, 1117, 1123, 1129, 1151, 1153, 1163, 1171, 1181, 1187, 1193, 1201, 1213, 1217, 1223, 1229, 1231, 1237, 1249, 1259, 1277, 1279, 1283, 1289, 1291, 1297, 1301, 1303, 1307, 1319, 1321, 1327, 1361, 1367, 1373, 1381, 1399, 1409, 1423, 1427, 1429, 1433, 1439, 1447, 1451, 1453, 1459, 1471, 1481, 1483, 1487, 1489, 1493, 1499, 1511, 1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571, 1579, 1583, 1597, 1601, 1607, 1609, 1613, 1619, 1621, 1627, 1637, 1657, 1663, 1667, 1669, 1693, 1697, 1699, 1709, 1721, 1723, 1733, 1741, 1747, 1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811, 1823, 1831, 1847, 1861, 1867, 1871, 1873, 1877, 1879, 1889, 1901, 1907, 1913, 1931, 1933, 1949, 1951, 1973, 1979, 1987, 1993, 1997, 1999, 2003], t;\n    }();\n\n    e.MathUtils = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(33),\n        i = n(36),\n        r = n(1),\n        s = n(11),\n        a = function () {\n      function t(t, e) {\n        this.startPoint = t, this.endPoint = e;\n      }\n\n      return Object.defineProperty(t.prototype, \"length\", {\n        get: function get() {\n          return i.Metrics.euclideanDistance(this.startPoint, this.endPoint);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"xLength\", {\n        get: function get() {\n          return Math.abs(this.endPoint.x - this.startPoint.x);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"yLength\", {\n        get: function get() {\n          return Math.abs(this.endPoint.y - this.startPoint.y);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"center\", {\n        get: function get() {\n          return new r.Point(this.startPoint.x + (this.endPoint.x - this.startPoint.x) / 2, this.startPoint.y + (this.endPoint.y - this.startPoint.y) / 2);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.isIntersected = function (t) {\n        return this.startPoint.equals(t.startPoint) || this.endPoint.equals(t.startPoint) || this.startPoint.equals(t.endPoint) || this.endPoint.equals(t.endPoint) || this.intersectCore(t) && t.intersectCore(this);\n      }, t.prototype.containsPoint = function (t, e) {\n        return void 0 === e && (e = 1e-7), this.startPoint.equals(t) || this.endPoint.equals(t) || o.MathUtils.numberCloseTo(this.length, i.Metrics.euclideanDistance(this.startPoint, t) + i.Metrics.euclideanDistance(this.endPoint, t), e);\n      }, t.prototype.isIntersectedByRect = function (e) {\n        if (s.Rectangle.containsPoint(e, this.startPoint) || s.Rectangle.containsPoint(e, this.endPoint)) return !0;\n        var n = e.x,\n            o = e.x + e.width,\n            i = e.y,\n            a = e.y + e.height;\n        return this.isIntersected(new t(new r.Point(n, i), new r.Point(n, a))) || this.isIntersected(new t(new r.Point(o, i), new r.Point(o, a))) || this.isIntersected(new t(new r.Point(n, i), new r.Point(o, i))) || this.isIntersected(new t(new r.Point(n, a), new r.Point(o, a)));\n      }, t.prototype.intersectCore = function (t) {\n        if (this.startPoint.x === this.endPoint.x) {\n          if (this.startPoint.x - t.endPoint.x != 0) return (this.startPoint.x - t.startPoint.x) / (this.startPoint.x - t.endPoint.x) <= 0;\n          if (t.endPoint.y - this.endPoint.y != 0) return (t.endPoint.y - this.startPoint.y) / (t.endPoint.y - this.endPoint.y) <= 0;\n        }\n\n        if (this.startPoint.y === this.endPoint.y) {\n          if (this.startPoint.y - t.endPoint.y != 0) return (this.startPoint.y - t.startPoint.y) / (this.startPoint.y - t.endPoint.y) <= 0;\n          if (t.endPoint.x - this.endPoint.x != 0) return (t.endPoint.x - this.startPoint.x) / (t.endPoint.x - this.endPoint.x) <= 0;\n        }\n\n        var e = (this.endPoint.y - this.startPoint.y) / (this.endPoint.x - this.startPoint.x),\n            n = this.startPoint.y + (t.startPoint.x - this.startPoint.x) * e,\n            o = this.startPoint.y + (t.endPoint.x - this.startPoint.x) * e,\n            i = t.startPoint.y - n,\n            r = t.endPoint.y - o;\n        return 0 === i && 0 === r ? (this.startPoint.y - n) / (this.endPoint.y - n) <= 0 || (this.startPoint.y - o) / (this.endPoint.y - o) <= 0 : 0 === i || 0 === r || i / r < 0;\n      }, t;\n    }();\n\n    e.Segment = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o13,\n        i = this && this.__extends || (_o13 = function o(t, e) {\n      return (_o13 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o13(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDraggingState = void 0;\n\n    var r = n(41),\n        s = n(14),\n        a = n(12),\n        c = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.history = n, o;\n      }\n\n      return i(e, t), e.prototype.canApplyChangesOnMouseMove = function (t, n) {\n        return !t || !n || Math.abs(t.x - n.x) > e.dragStartLimit || Math.abs(t.y - n.y) > e.dragStartLimit;\n      }, e.prototype.onAfterApplyChanges = function () {\n        this.modified || this.handler.onDocumentDragStart(this.getDraggingElementKeys()), this.modified = !0, this.mouseDownPoint = void 0;\n      }, e.prototype.onMouseDown = function (t) {\n        this.mouseDownPoint = t.modelPoint.clone();\n      }, e.prototype.onMouseMove = function (t) {\n        this.mouseMoveEvent = t, t.button !== s.MouseButton.Left ? (this.cancelChanges(), this.handler.switchToDefaultState()) : t.button === s.MouseButton.Left && this.canApplyChangesOnMouseMove(this.mouseDownPoint, t.modelPoint) && (this.onApplyChanges(t), this.onAfterApplyChanges());\n      }, e.prototype.onKeyDown = function (t) {\n        !this.mouseMoveEvent || 16 !== t.keyCode && 17 !== t.keyCode && 18 !== t.keyCode || this.performMouseMoveEvent(t.modifiers);\n      }, e.prototype.onKeyUp = function (t) {\n        !this.mouseMoveEvent || 16 !== t.keyCode && 17 !== t.keyCode && 18 !== t.keyCode || this.performMouseMoveEvent(t.modifiers);\n      }, e.prototype.onMouseUp = function (t) {\n        this.mouseDownPoint = void 0, this.mouseMoveEvent = void 0, this.handler.switchToDefaultState();\n      }, e.prototype.performMouseMoveEvent = function (t) {\n        this.mouseMoveEvent.modifiers = t, this.onMouseMove(this.mouseMoveEvent);\n      }, e.prototype.start = function () {\n        this.handler.beginStorePermissions(), this.history.beginTransaction();\n      }, e.prototype.finish = function () {\n        this.checkStoredPermissionsOnFinish(), this.modified ? (this.onFinishWithChanges(), this.modified = !1, this.history.endTransaction(), this.handler.onDocumentDragEnd(this.getDraggingElementKeys())) : this.history.endTransaction(), this.handler.endStorePermissions(), this.handler.clearInteractingItems();\n      }, e.prototype.checkStoredPermissionsOnFinish = function () {\n        this.handler.isStoredPermissionsGranted() || (this.cancelChanges(), this.modified = !1);\n      }, e.prototype.onFinishWithChanges = function () {}, e.prototype.cancelChanges = function () {\n        this.handler.lockPermissions(), this.history.undoTransaction(), this.handler.unlockPermissions(), this.modified && this.handler.onDocumentDragEnd(this.getDraggingElementKeys()), this.modified = !1;\n      }, e.prototype.getSnappedPoint = function (t, e) {\n        return this.handler.getSnappedPointOnDragPoint(t, e);\n      }, e.dragStartLimit = a.UnitConverter.pixelsToTwips(4), e;\n    }(r.MouseHandlerCancellableState);\n\n    e.MouseHandlerDraggingState = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.euclideanDistance = function (t, e) {\n        var n = t.x - e.x,\n            o = t.y - e.y;\n        return Math.sqrt(n * n + o * o);\n      }, t.manhattanDistance = function (t, e) {\n        return Math.abs(t.x - e.x) + Math.abs(t.y - e.y);\n      }, t;\n    }();\n\n    e.Metrics = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramLocalizationService = void 0;\n\n    var o = n(0),\n        i = n(47),\n        r = function () {\n      function t() {}\n\n      return t.unitItems = {}, t.formatUnit = function (t) {\n        return t.toString();\n      }, t.shapeTexts = {}, t;\n    }();\n\n    e.DiagramLocalizationService = r, r.unitItems[i.DiagramUnit.In] = \"in\", r.unitItems[i.DiagramUnit.Cm] = \"cm\", r.unitItems[i.DiagramUnit.Px] = \"px\", r.shapeTexts[o.ShapeTypes.Text] = \"Text\", r.shapeTexts[o.ShapeTypes.Rectangle] = \"Rectangle\", r.shapeTexts[o.ShapeTypes.Ellipse] = \"Ellipse\", r.shapeTexts[o.ShapeTypes.Cross] = \"Cross\", r.shapeTexts[o.ShapeTypes.Triangle] = \"Triangle\", r.shapeTexts[o.ShapeTypes.Diamond] = \"Diamond\", r.shapeTexts[o.ShapeTypes.Heart] = \"Heart\", r.shapeTexts[o.ShapeTypes.Pentagon] = \"Pentagon\", r.shapeTexts[o.ShapeTypes.Hexagon] = \"Hexagon\", r.shapeTexts[o.ShapeTypes.Octagon] = \"Octagon\", r.shapeTexts[o.ShapeTypes.Star] = \"Star\", r.shapeTexts[o.ShapeTypes.ArrowLeft] = \"Left Arrow\", r.shapeTexts[o.ShapeTypes.ArrowUp] = \"Up Arrow\", r.shapeTexts[o.ShapeTypes.ArrowRight] = \"Right Arrow\", r.shapeTexts[o.ShapeTypes.ArrowDown] = \"Down Arrow\", r.shapeTexts[o.ShapeTypes.ArrowUpDown] = \"Up Down Arrow\", r.shapeTexts[o.ShapeTypes.ArrowLeftRight] = \"Left Right Arrow\", r.shapeTexts[o.ShapeTypes.Process] = \"Process\", r.shapeTexts[o.ShapeTypes.Decision] = \"Decision\", r.shapeTexts[o.ShapeTypes.Terminator] = \"Terminator\", r.shapeTexts[o.ShapeTypes.PredefinedProcess] = \"Predefined Process\", r.shapeTexts[o.ShapeTypes.Document] = \"Document\", r.shapeTexts[o.ShapeTypes.MultipleDocuments] = \"Multiple Documents\", r.shapeTexts[o.ShapeTypes.ManualInput] = \"Manual Input\", r.shapeTexts[o.ShapeTypes.Preparation] = \"Preparation\", r.shapeTexts[o.ShapeTypes.Data] = \"Data\", r.shapeTexts[o.ShapeTypes.Database] = \"Database\", r.shapeTexts[o.ShapeTypes.HardDisk] = \"Hard Disk\", r.shapeTexts[o.ShapeTypes.InternalStorage] = \"Internal Storage\", r.shapeTexts[o.ShapeTypes.PaperTape] = \"Paper Tape\", r.shapeTexts[o.ShapeTypes.ManualOperation] = \"Manual Operation\", r.shapeTexts[o.ShapeTypes.Delay] = \"Delay\", r.shapeTexts[o.ShapeTypes.StoredData] = \"Stored Data\", r.shapeTexts[o.ShapeTypes.Display] = \"Display\", r.shapeTexts[o.ShapeTypes.Merge] = \"Merge\", r.shapeTexts[o.ShapeTypes.Connector] = \"Connector\", r.shapeTexts[o.ShapeTypes.Or] = \"Or\", r.shapeTexts[o.ShapeTypes.SummingJunction] = \"Summing Junction\", r.shapeTexts[o.ShapeTypes.Container] = \"Container\", r.shapeTexts[o.ShapeTypes.VerticalContainer] = \"Vertical Container\", r.shapeTexts[o.ShapeTypes.HorizontalContainer] = \"Horizontal Container\", r.shapeTexts[o.ShapeTypes.Card] = \"Person's Name\", r.shapeTexts[o.ShapeTypes.CardWithImageOnLeft] = \"Card with Image on the Left\", r.shapeTexts[o.ShapeTypes.CardWithImageOnTop] = \"Card with Image on the Top\", r.shapeTexts[o.ShapeTypes.CardWithImageOnRight] = \"Card with Image on the Right\";\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeParameters = e.ShapeParameter = void 0;\n\n    var o = function () {\n      return function (t, e) {\n        this.key = t, this.value = e;\n      };\n    }();\n\n    e.ShapeParameter = o;\n\n    var i = function () {\n      function t() {\n        this.items = {};\n      }\n\n      return t.prototype.add = function (t) {\n        this.items[t.key] = t;\n      }, t.prototype.addRange = function (t) {\n        for (var e = 0; e < t.length; e++) this.add(t[e]);\n      }, t.prototype.get = function (t) {\n        return this.items[t];\n      }, t.prototype.forEach = function (t) {\n        for (var e in this.items) Object.prototype.hasOwnProperty.call(this.items, e) && t(this.items[e]);\n      }, t.prototype.clone = function () {\n        var e = new t();\n        return this.forEach(function (t) {\n          e.add(new o(t.key, t.value));\n        }), e;\n      }, t.prototype.toObject = function () {\n        var t = {},\n            e = !1;\n        return this.forEach(function (n) {\n          t[n.key] = {\n            value: n.value\n          }, e = !0;\n        }), e ? t : null;\n      }, t.prototype.fromObject = function (t) {\n        this.forEach(function (e) {\n          var n = t[e.key];\n          n && \"number\" == typeof n.value && (e.value = n.value);\n        });\n      }, t;\n    }();\n\n    e.ShapeParameters = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectionMode = e.PositionInfo = e.Edge = void 0;\n\n    var o = function () {\n      function t(t, e, n, o) {\n        void 0 === o && (o = 1), this.weight = o, this.key = t, this.from = e, this.to = n;\n      }\n\n      return t.prototype.getHashKey = function () {\n        return this.from + \"_\" + this.to;\n      }, t.prototype.reverse = function () {\n        return new t(this.key, this.to, this.from, this.weight);\n      }, t;\n    }();\n\n    e.Edge = o;\n\n    var i = function () {\n      return function (t, e) {\n        this.item = t, this.position = e;\n      };\n    }();\n\n    e.PositionInfo = i, function (t) {\n      t[t.Outgoing = 1] = \"Outgoing\", t[t.Incoming = 2] = \"Incoming\", t[t.OutgoingAndIncoming = 3] = \"OutgoingAndIncoming\";\n    }(e.ConnectionMode || (e.ConnectionMode = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o14,\n        i = this && this.__extends || (_o14 = function o(t, e) {\n      return (_o14 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o14(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.GroupPrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, null, n, i, r) || this;\n        return a.zIndex = o, a.onBeforeDispose = s, a.children = e, a;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"g\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        (this.zIndex || 0 === this.zIndex) && e.style.setProperty(\"z-index\", this.zIndex.toString()), t.prototype.applyElementProperties.call(this, e, n);\n      }, e.prototype.dispose = function () {\n        this.onBeforeDispose && this.onBeforeDispose(), t.prototype.dispose.call(this);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.GroupPrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o15,\n        i = this && this.__extends || (_o15 = function o(t, e) {\n      return (_o15 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o15(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerCancellableState = e.MouseHandlerStateBase = void 0;\n\n    var r = n(26),\n        s = function () {\n      function t(t) {\n        this.handler = t;\n      }\n\n      return t.prototype.start = function () {}, t.prototype.finish = function () {}, t.prototype.onMouseClick = function (t) {}, t.prototype.onMouseDblClick = function (t) {\n        this.handler.switchToDefaultState();\n      }, t.prototype.onMouseDown = function (t) {}, t.prototype.onMouseUp = function (t) {}, t.prototype.onMouseMove = function (t) {}, t.prototype.onMouseWheel = function (t) {\n        return !1;\n      }, t.prototype.onDragStart = function (t) {}, t.prototype.onDragEnd = function (t) {}, t.prototype.onShortcut = function (t) {\n        return !1;\n      }, t.prototype.onKeyDown = function (t) {}, t.prototype.onKeyUp = function (t) {}, t.prototype.onConnectionPointsShow = function (t, e) {}, t.prototype.onConnectionTargetShow = function (t, e) {}, t;\n    }();\n\n    e.MouseHandlerStateBase = s;\n\n    var a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.onShortcut = function (t) {\n        return t === r.KeyCode.Esc && (this.cancelChanges(), this.handler.switchToDefaultState(), !0);\n      }, e;\n    }(s);\n\n    e.MouseHandlerCancellableState = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.binaryIndexOf = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = -2);\n        var i = 0 === n;\n\n        for (-2 === o && (o = t.length - 1); n <= o;) {\n          var r = n + (o - n >> 1),\n              s = e(t[r]);\n          if (s < 0) n = r + 1;else {\n            if (!(s > 0)) return r;\n            o = r - 1;\n          }\n        }\n\n        return i ? ~n : -1;\n      }, t.normedBinaryIndexOf = function (e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = -2);\n        var r = t.binaryIndexOf(e, n, o, i);\n        return t.binaryIndexNormalizator(r);\n      }, t.binaryIndexNormalizator = function (t) {\n        return t < 0 ? ~t - 1 : t;\n      }, t.normedInterpolationIndexOf = function (t, e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = -2), -2 === i && (i = t.length - 1);\n        var r = t[Math.min(o, i)];\n        if (void 0 === r || n < e(r)) return -1;\n\n        for (var s = e(t[o]), a = e(t[i]);;) {\n          if (!(n > s && n < a)) return n === s ? o : i;\n          var c = o + Math.floor((n - s) * (i - o) / (a - s)),\n              u = e(t[c]);\n\n          if (n > u) {\n            if (n < (s = e(t[o = c + 1]))) return c;\n          } else {\n            if (!(n < u)) return c;\n            a = e(t[i = c - 1]);\n          }\n        }\n      }, t;\n    }();\n\n    e.SearchUtils = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasManagerBase = e.PAGE_BG_TEXTFLOOR_FILTER_ID = void 0;\n    var o = n(172),\n        i = n(12);\n    e.PAGE_BG_TEXTFLOOR_FILTER_ID = \"page-text-flood\";\n\n    var r = function () {\n      function t(t, e) {\n        this.elements = {}, this.actualZoom = t, this.dom = e;\n      }\n\n      return t.prototype.createAndChangePrimitivesElements = function (t, e) {\n        var n = this;\n        t.forEach(function (t) {\n          n.createAndChangePrimitiveElement(t, e);\n        });\n      }, t.prototype.createPrimitiveElement = function (t, e, n) {\n        return this.dom.createElement(t, e, n);\n      }, t.prototype.createAndChangePrimitiveElement = function (t, e, n) {\n        var o = this.createPrimitiveElement(t, e, n);\n        return this.dom.changeByPrimitive(o, t), o;\n      }, t.prototype.changePrimitiveElement = function (t, e) {\n        this.dom.changeByPrimitive(e, t);\n      }, t.prototype.getOrCreateElement = function (t, e, n, o) {\n        var i = t && this.elements[t] || (this.elements[t] = this.createPrimitiveElement(e, n, o));\n        return this.changePrimitiveElement(e, i), i;\n      }, t.prototype.createTextFloodFilter = function (t, n, i) {\n        this.getOrCreateElement(t, new o.TextFloodFilterPrimitive(e.PAGE_BG_TEXTFLOOR_FILTER_ID, i), n);\n      }, t.prototype.getAbsoluteSize = function (t) {\n        return t.clone().applyConverter(i.UnitConverter.twipsToPixelsF).clone().multiply(this.actualZoom, this.actualZoom);\n      }, t;\n    }();\n\n    e.CanvasManagerBase = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextOwner = void 0, function (t) {\n      t[t.Shape = 0] = \"Shape\", t[t.Connector = 1] = \"Connector\", t[t.ExtensionLine = 2] = \"ExtensionLine\", t[t.Resize = 3] = \"Resize\";\n    }(e.TextOwner || (e.TextOwner = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o16,\n        i = this && this.__extends || (_o16 = function o(t, e) {\n      return (_o16 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o16(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectionPoint = void 0;\n\n    var r = n(1),\n        s = n(9),\n        a = function (t) {\n      function e(e, n, o) {\n        void 0 === o && (o = s.ConnectionPointSide.Undefined);\n        var i = t.call(this, e, n) || this;\n        return i.side = o, i;\n      }\n\n      return i(e, t), e.prototype.offset = function (e, n) {\n        return t.prototype.offset.call(this, e, n), this.side = s.ConnectionPointSide.Undefined, this;\n      }, e.prototype.multiply = function (e, n) {\n        return t.prototype.multiply.call(this, e, n), this.side = s.ConnectionPointSide.Undefined, this;\n      }, e.prototype.clone = function () {\n        return new e(this.x, this.y, this.side);\n      }, e.prototype.toPoint = function () {\n        return new r.Point(this.x, this.y);\n      }, e;\n    }(r.Point);\n\n    e.ConnectionPoint = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImageCache = e.CacheImageInfo = void 0;\n\n    var o = n(83),\n        i = n(51),\n        r = n(3),\n        s = function () {\n      function t(t, e, n, i, r) {\n        this._base64 = void 0 !== t ? o.Base64Utils.normalizeToDataUrl(t, \"image/png\") : void 0, this.actualId = e, this._referenceInfo = i, this._isLoaded = void 0 !== r && r, this.imageUrl = n;\n      }\n\n      return Object.defineProperty(t.prototype, \"isLoaded\", {\n        get: function get() {\n          return this._referenceInfo ? this._referenceInfo._isLoaded : this._isLoaded;\n        },\n        set: function set(t) {\n          this._isLoaded = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"base64\", {\n        get: function get() {\n          return this._base64;\n        },\n        set: function set(t) {\n          this._base64 = o.Base64Utils.normalizeToDataUrl(t, \"image/png\");\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"referenceInfo\", {\n        get: function get() {\n          return this._referenceInfo;\n        },\n        set: function set(t) {\n          this._referenceInfo = t, this._base64 = void 0, this._isLoaded = void 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"isLoading\", {\n        get: function get() {\n          return this._referenceInfo ? this.referenceInfo._isLoading : this._isLoading;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.startLoading = function () {\n        this._referenceInfo ? this._referenceInfo.startLoading() : this._isLoading = !0;\n      }, t.prototype.finalizeLoading = function () {\n        this._referenceInfo ? this._referenceInfo.finalizeLoading() : this._isLoading = !1;\n      }, t;\n    }();\n\n    e.CacheImageInfo = s;\n\n    var a = function () {\n      function t() {\n        this.emptyImageId = 0, this.lastActualId = 0, this.onReadyStateChanged = new r.EventDispatcher(), this.cache = [], this.nonLoadedImages = [], this.createUnloadedInfoByBase64(i.ImageInfo.transparentOnePixelImage).isLoaded = !0;\n      }\n\n      return t.prototype.reset = function () {\n        this.cache.splice(1), this.nonLoadedImages = [], this.lastActualId = 1;\n      }, Object.defineProperty(t.prototype, \"emptyImage\", {\n        get: function get() {\n          return this.cache[this.emptyImageId];\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getImageData = function (t) {\n        return this.cache[t];\n      }, t.prototype.createUnloadedInfoByUrl = function (t) {\n        var e = this.findInfoByUrl(t);\n        return e || this.registerImageData(new s(void 0, this.getNextActualId(), t));\n      }, t.prototype.createUnloadedInfoByBase64 = function (t) {\n        var e = this.findInfoByBase64(t);\n        return e || this.registerImageData(new s(t, this.getNextActualId()));\n      }, t.prototype.createUnloadedInfoByShapeImageInfo = function (t) {\n        var e = t.exportUrl;\n        return o.Base64Utils.checkPrependDataUrl(e) ? this.createUnloadedInfoByBase64(e) : this.createUnloadedInfoByUrl(e);\n      }, t.prototype.registerImageData = function (t) {\n        var e = this.cache[t.actualId];\n        return e || (e = t), void 0 !== t.actualId && (this.cache[t.actualId] = e), 0 !== t.actualId && (this.nonLoadedImages.push(t), 1 === this.nonLoadedImages.length && this.raiseReadyStateChanged(!1)), e;\n      }, t.prototype.loadAllImages = function (t) {\n        var e = this;\n        this.cache.forEach(function (n) {\n          e.emptyImageId === n.actualId || n.isLoaded || n.isLoading || t.load(n);\n        });\n      }, t.prototype.finalizeLoading = function (t, e) {\n        t.finalizeLoading(), t.isLoaded = !0;\n        var n = this.nonLoadedImages.indexOf(t);\n\n        if (this.nonLoadedImages.splice(n, 1), 0 === this.nonLoadedImages.length && this.raiseReadyStateChanged(!0), !t.referenceInfo && e.base64) {\n          var i = o.Base64Utils.normalizeToDataUrl(e.base64, \"image/png\");\n          this.cache.forEach(function (e) {\n            var n = e.base64 === i && e !== t && e.isLoaded;\n            return n && (t.referenceInfo = e.referenceInfo ? e.referenceInfo : e), n;\n          }), t.base64 = i;\n        }\n      }, t.prototype.hasNonLoadedImages = function () {\n        return 0 !== this.nonLoadedImages.length;\n      }, t.prototype.getNextActualId = function () {\n        return this.lastActualId++;\n      }, t.prototype.findInfoByBase64 = function (t) {\n        return t = o.Base64Utils.normalizeToDataUrl(t, \"image/png\"), this.findInfoCore(function (e) {\n          return e.base64 === t;\n        });\n      }, t.prototype.findInfoByUrl = function (t) {\n        return this.findInfoCore(function (e) {\n          return e.imageUrl === t;\n        });\n      }, t.prototype.findInfoCore = function (t) {\n        var e;\n        return this.cache.forEach(function (n) {\n          t(n) && (e = n);\n        }), e;\n      }, t.prototype.raiseReadyStateChanged = function (t) {\n        this.onReadyStateChanged.raise1(function (e) {\n          return e.notifyImageCacheReadyStateChanged(t);\n        });\n      }, t.instance = new t(), t;\n    }();\n\n    e.ImageCache = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PageOrientation = e.DiagramUnit = void 0, function (t) {\n      t[t.In = 0] = \"In\", t[t.Cm = 1] = \"Cm\", t[t.Px = 2] = \"Px\";\n    }(e.DiagramUnit || (e.DiagramUnit = {})), function (t) {\n      t[t.Portrait = 0] = \"Portrait\", t[t.Landscape = 1] = \"Landscape\";\n    }(e.PageOrientation || (e.PageOrientation = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o17,\n        i = this && this.__extends || (_o17 = function o(t, e) {\n      return (_o17 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o17(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SetConnectionPointIndexHistoryItem = e.AddConnectionHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(6),\n        a = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this) || this;\n        return r.connectorKey = e.key, r.itemKey = n.key, r.connectionPointIndex = o, r.position = i, r;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey),\n            n = t.model.findItem(this.itemKey);\n        t.addConnection(e, n, this.connectionPointIndex, this.position);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.deleteConnection(e, this.position);\n      }, e;\n    }(r.HistoryItem);\n\n    e.AddConnectionHistoryItem = a;\n\n    var c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connectorKey = e.key, i.connectionPointIndex = n, i.position = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        this.oldConnectionPointIndex = this.position === s.ConnectorPosition.Begin ? e.beginConnectionPointIndex : e.endConnectionPointIndex, t.setConnectionPointIndex(e, this.connectionPointIndex, this.position);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.setConnectionPointIndex(e, this.oldConnectionPointIndex, this.position);\n      }, e;\n    }(r.HistoryItem);\n\n    e.SetConnectionPointIndexHistoryItem = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.isAlpha = function (t) {\n        return t >= \"a\" && t <= \"z\" || t >= \"A\" && t <= \"Z\";\n      }, t.isDigit = function (t) {\n        return t >= \"0\" && t <= \"9\";\n      }, t.stringHashCode = function (t) {\n        var e = 0;\n        if (0 === t.length) return e;\n\n        for (var n = t.length, o = 0; o < n; o++) e = (e << 5) - e + t.charCodeAt(o), e |= 0;\n\n        return e;\n      }, t.endsAt = function (t, e) {\n        var n = t.length - 1,\n            o = e.length - 1,\n            i = n - o;\n        if (i < 0) return !1;\n\n        for (; n >= i; n--, o--) if (t[n] !== e[o]) return !1;\n\n        return !0;\n      }, t.startsAt = function (t, e) {\n        return t.substr(0, e.length) === e;\n      }, t.stringInLowerCase = function (t) {\n        return t.toLowerCase() === t;\n      }, t.stringInUpperCase = function (t) {\n        return t.toUpperCase() === t;\n      }, t.atLeastOneSymbolInUpperCase = function (e) {\n        for (var n = 0, o = void 0; o = e[n]; n++) if (t.stringInUpperCase(o) && !t.stringInLowerCase(o)) return !0;\n\n        return !1;\n      }, t.getSymbolFromEnd = function (t, e) {\n        return t[t.length - e];\n      }, t.trim = function (e, n) {\n        if (void 0 === n) return t.trimInternal(e, !0, !0);\n        var o = n.join(\"\");\n        return e.replace(new RegExp(\"(^[\" + o + \"]*)|([\" + o + \"]*$)\", \"g\"), \"\");\n      }, t.trimStart = function (e, n) {\n        if (void 0 === n) return t.trimInternal(e, !0, !1);\n        var o = n.join(\"\");\n        return e.replace(new RegExp(\"^[\" + o + \"]*\", \"g\"), \"\");\n      }, t.trimEnd = function (e, n) {\n        if (void 0 === n) return t.trimInternal(e, !1, !0);\n        var o = n.join(\"\");\n        return e.replace(new RegExp(\"[\" + o + \"]*$\", \"g\"), \"\");\n      }, t.getDecimalSeparator = function () {\n        return 1.1.toLocaleString().substr(1, 1);\n      }, t.repeat = function (t, e) {\n        return new Array(e <= 0 ? 0 : e + 1).join(t);\n      }, t.isNullOrEmpty = function (t) {\n        return !t || !t.length;\n      }, t.padLeft = function (e, n, o) {\n        return t.repeat(o, Math.max(0, n - e.length)) + e;\n      }, t.trimInternal = function (t, e, n) {\n        var o = t.length;\n        if (!o) return t;\n\n        if (o < 764833) {\n          var i = t;\n          return e && (i = i.replace(/^\\s+/, \"\")), n && (i = i.replace(/\\s+$/, \"\")), i;\n        }\n\n        var r = 0;\n        if (n) for (; o > 0 && /\\s/.test(t[o - 1]);) o--;\n        if (e && o > 0) for (; r < o && /\\s/.test(t[r]);) r++;\n        return t.substring(r, o);\n      }, t;\n    }();\n\n    e.StringUtils = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Data = void 0;\n    var o = n(27);\n\n    function i(t) {\n      return !isNaN(parseFloat(t)) && isFinite(t);\n    }\n\n    var r = function () {\n      function t() {}\n\n      return t.ArrayInsert = function (t, e, n) {\n        if (0 <= n && n < t.length) {\n          for (var o = t.length; o > n; o--) t[o] = t[o - 1];\n\n          t[n] = e;\n        } else t.push(e);\n      }, t.ArrayRemove = function (e, n) {\n        var o = t.ArrayIndexOf(e, n);\n        o > -1 && t.ArrayRemoveAt(e, o);\n      }, t.ArrayRemoveAt = function (t, e) {\n        if (e >= 0 && e < t.length) {\n          for (var n = e; n < t.length - 1; n++) t[n] = t[n + 1];\n\n          t.pop();\n        }\n      }, t.ArrayClear = function (t) {\n        for (; t.length > 0;) t.pop();\n      }, t.ArrayIndexOf = function (t, e, n) {\n        if (n) {\n          for (o = 0; o < t.length; o++) if (n(t[o], e)) return o;\n        } else for (var o = 0; o < t.length; o++) if (t[o] === e) return o;\n\n        return -1;\n      }, t.ArrayContains = function (e, n) {\n        return t.ArrayIndexOf(e, n) >= 0;\n      }, t.ArrayEqual = function (t, e) {\n        var n = t.length;\n        if (n !== e.length) return !1;\n\n        for (var o = 0; o < n; o++) if (t[o] !== e[o]) return !1;\n\n        return !0;\n      }, t.ArraySame = function (e, n) {\n        return e.length === n.length && e.every(function (e) {\n          return t.ArrayContains(n, e);\n        });\n      }, t.ArrayGetIntegerEdgeValues = function (e) {\n        var n = t.CollectionToArray(e);\n        return t.ArrayIntegerAscendingSort(n), {\n          start: n[0],\n          end: n[n.length - 1]\n        };\n      }, t.ArrayIntegerAscendingSort = function (e) {\n        t.ArrayIntegerSort(e, !1);\n      }, t.ArrayIntegerSort = function (t, e) {\n        t.sort(function (t, n) {\n          var o = 0;\n          return t > n ? o = 1 : t < n && (o = -1), e && (o *= -1), o;\n        });\n      }, t.CollectionsUnionToArray = function (t, e) {\n        for (var n = [], o = t.length, i = e.length, r = 0; r < o + i; r++) r < o ? n.push(t[r]) : n.push(e[r - o]);\n\n        return n;\n      }, t.CollectionToArray = function (t) {\n        for (var e = [], n = 0; n < t.length; n++) e.push(t[n]);\n\n        return e;\n      }, t.CreateHashTableFromArray = function (t) {\n        for (var e = [], n = 0; n < t.length; n++) e[t[n]] = 1;\n\n        return e;\n      }, t.CreateIndexHashTableFromArray = function (t) {\n        for (var e = [], n = 0; n < t.length; n++) e[t[n]] = n;\n\n        return e;\n      }, t.ArrayToHash = function (t, e, n) {\n        return t instanceof Array ? t.reduce(function (t, o, i) {\n          var r = e(o, i),\n              s = n(o, i);\n          return t[r] = s, t;\n        }, {}) : {};\n      }, t.Sum = function (t, e) {\n        return t instanceof Array ? t.reduce(function (t, n) {\n          var o = e ? e(n) : n;\n          return i(o) || (o = 0), t + o;\n        }, 0) : 0;\n      }, t.Min = function (e, n) {\n        return t.CalculateArrayMinMax(e, n, !1);\n      }, t.Max = function (e, n) {\n        return t.CalculateArrayMinMax(e, n, !0);\n      }, t.NearestLeftBinarySearchComparer = function (t, e, n) {\n        var o = t[e],\n            i = o < n;\n        return i && e === t.length - 1 || i && t[e + 1] >= n ? 0 : o < n ? -1 : 1;\n      }, t.ArrayBinarySearch = function (e, n, i, r, s) {\n        i || (i = t.defaultBinarySearchComparer), o.isDefined(r) || (r = 0), o.isDefined(s) || (s = e.length - r);\n\n        for (var a = r + s - 1; r <= a;) {\n          var c = r + (a - r >> 1),\n              u = i(e, c, n);\n          if (0 === u) return c;\n          u < 0 ? r = c + 1 : a = c - 1;\n        }\n\n        return -(r + 1);\n      }, t.ArrayFlatten = function (t) {\n        var e = [];\n        return t.forEach(function (t) {\n          e = e.concat(t);\n        }), e;\n      }, t.GetDistinctArray = function (e) {\n        for (var n = [], o = 0; o < e.length; o++) {\n          var i = e[o];\n          -1 === t.ArrayIndexOf(n, i) && n.push(i);\n        }\n\n        return n;\n      }, t.ForEach = function (t, e) {\n        if (Array.prototype.forEach) Array.prototype.forEach.call(t, e);else for (var n = 0, o = t.length; n < o; n++) e(t[n], n, t);\n      }, t.MergeHashTables = function (t, e) {\n        if (!e || \"string\" == typeof e) return t;\n\n        for (var n in t || (t = {}), e) !n || n in t || (t[n] = e[n]);\n\n        return t;\n      }, t.Range = function (t, e) {\n        return (t = parseInt(t) || 0) < 0 && (t = 0), (e = parseInt(e) || 0) < 0 && (e = 0), Array(t).map(function (t, n) {\n          return e + n;\n        });\n      }, t.CalculateArrayMinMax = function (t, e, n) {\n        if (!(t instanceof Array)) return 0;\n        var o = n ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY;\n        return t.reduce(function (t, r) {\n          var s = e ? e(r) : r;\n          return i(s) || (s = o), (n ? Math.max : Math.min)(s, t);\n        }, o);\n      }, t.byRange = function (t, e, n) {\n        return Math.min(Math.max(t, e), n);\n      }, t.defaultBinarySearchComparer = function (t, e, n) {\n        var o = t[e];\n        return o === n ? 0 : o < n ? -1 : 1;\n      }, t.cssTextToObject = function (t) {\n        return t ? (t = t.replace(/\\/\\*(.|\\s)*?\\*\\//g, \"\").replace(/\\s+/g, \" \")).split(\";\").reduce(function (t, e) {\n          if (e) {\n            var n = /\\s*([^:]+?)\\s*:\\s*([^;]*)\\s*$/.exec(e);\n\n            if (n) {\n              var o = n[1],\n                  i = n[2];\n              o && i && (t[o.trim()] = i.trim());\n            }\n\n            return t;\n          }\n\n          return t;\n        }, {}) : {};\n      }, t.objectToCssText = function (t) {\n        return t ? Object.keys(t).reduce(function (e, n) {\n          var o = n.trim(),\n              i = t[n];\n          return o && i && e.push(o + \": \" + i.toString().trim()), e;\n        }, []).join(\"; \") : \"\";\n      }, t;\n    }();\n\n    e.Data = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImageInfo = void 0;\n\n    var o = n(83),\n        i = function () {\n      function t(t) {\n        this.url = void 0, this.base64 = void 0, t && (o.Base64Utils.checkPrependDataUrl(t) ? this.base64 = t : this.url = t), this.loadFailed = !1;\n      }\n\n      return t.prototype.clone = function () {\n        var e = new t();\n        return e.url = this.url, e.base64 = this.base64, e;\n      }, Object.defineProperty(t.prototype, \"isEmpty\", {\n        get: function get() {\n          return void 0 === this.url && void 0 === this.base64;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"unableToLoad\", {\n        get: function get() {\n          return this.loadFailed;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"renderUrl\", {\n        get: function get() {\n          return this.base64 || \"\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"exportUrl\", {\n        get: function get() {\n          return this.base64 ? this.base64 : this.url;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"actualUrl\", {\n        get: function get() {\n          return this.url ? this.url : this.base64;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t, \"transparentOnePixelImage\", {\n        get: function get() {\n          return this.transparentWhiteImage1_1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.loadBase64Content = function (t) {\n        this.base64 = o.Base64Utils.normalizeToDataUrl(t, \"image/png\");\n      }, t.prototype.setUnableToLoadFlag = function () {\n        this.loadFailed = !0;\n      }, t.transparentWhiteImage1_1 = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAANSURBVBhXY/j///9/AAn7A/0FQ0XKAAAAAElFTkSuQmCC\", t;\n    }();\n\n    e.ImageInfo = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalSideCalculatorBase = void 0;\n\n    var o = n(11),\n        i = n(9),\n        r = n(6),\n        s = function () {\n      function t(t) {\n        this.parent = t;\n      }\n\n      return Object.defineProperty(t.prototype, \"connector\", {\n        get: function get() {\n          return this.parent.connector;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"beginRect\", {\n        get: function get() {\n          return this.parent.beginRect;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"endRect\", {\n        get: function get() {\n          return this.parent.endRect;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getBeginOffsetPoints = function (t, e, n, o) {\n        if (e = this.getCorrectOriginPoint(e, o), t !== i.ConnectionPointSide.Undefined) {\n          if (this.isBeginEndSame()) return this.getSameShapeOffsetPoints(t, e, n, o);\n          if (this.isBeginEndOverlappedPoints(e, n)) return this.getOverlappedPointsOffsetPoints(t, e, n, o);\n          if (this.isBeginEndOverlapped()) return this.getBeginOverlappedShapeOffsetPoints(t, e, n, o);\n        } else if (this.isOriginRectContainsTargetPoint(o, n)) return this.getOverlappedPointsOffsetPoints(t, e, n, o);\n\n        return this.isOnSidePoint(e, n) ? this.getBeginOnSideOffsetPoints(t, e, n, o) : this.getBeginOffSideOffsetPoints(t, e, n, o);\n      }, t.prototype.getEndOffsetPoints = function (t, e, n, o) {\n        if (e = this.getCorrectOriginPoint(e, o), t !== i.ConnectionPointSide.Undefined) {\n          if (this.isBeginEndSame()) return this.getSameShapeOffsetPoints(t, e, n, o);\n          if (this.isBeginEndOverlappedPoints(n, e)) return this.getOverlappedPointsOffsetPoints(t, e, n, o);\n          if (this.isBeginEndOverlapped()) return this.getEndOverlappedShapeOffsetPoints(t, e, n, o);\n        } else if (this.isOriginRectContainsTargetPoint(o, n)) return this.getOverlappedPointsOffsetPoints(t, e, n, o);\n\n        return this.isOnSidePoint(e, n) ? this.getEndOnSideOffsetPoints(t, e, n, o) : this.getEndOffSideOffsetPoints(t, e, n, o);\n      }, t.prototype.getSide = function (t, e) {\n        return Math.abs(e.x - t.x) > Math.abs(e.y - t.y) ? e.x > t.x ? i.ConnectionPointSide.East : i.ConnectionPointSide.West : e.y > t.y ? i.ConnectionPointSide.South : i.ConnectionPointSide.North;\n      }, t.prototype.getSideCalculator = function (t, e) {\n        return this.parent.getSideCalculator(this.getSide(t, e));\n      }, t.prototype.getMinOffset = function () {\n        return r.Connector.minOffset;\n      }, t.prototype.isBeginEndSame = function () {\n        return this.connector.beginItem === this.connector.endItem;\n      }, t.prototype.isBeginEndOverlapped = function () {\n        return this.beginRect && this.endRect && o.Rectangle.areIntersected(this.beginRect, this.endRect);\n      }, t.prototype.isBeginEndOverlappedX = function () {\n        return this.beginRect && this.endRect && !!o.Rectangle.getHorizIntersection(this.beginRect, this.endRect);\n      }, t.prototype.isBeginEndOverlappedY = function () {\n        return this.beginRect && this.endRect && !!o.Rectangle.getVertIntersection(this.beginRect, this.endRect);\n      }, t.prototype.isBeginEndOverlappedPoints = function (t, e) {\n        return this.beginRect && this.endRect && (this.beginRect.containsPoint(e) || this.endRect.containsPoint(t));\n      }, t.prototype.isOriginRectContainsTargetPoint = function (t, e) {\n        return t && e && t.containsPoint(e);\n      }, t;\n    }();\n\n    e.ConnectorPointsOrthogonalSideCalculatorBase = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o18,\n        i = this && this.__extends || (_o18 = function o(t, e) {\n      return (_o18 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o18(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AddShapeHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(13),\n        a = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this) || this;\n        return r.shapeDescription = e, r.position = n, r.text = o, r.dataKey = i, r;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = new s.Shape(this.shapeDescription, this.position);\n        \"string\" == typeof this.text && (e.text = this.text), void 0 !== this.dataKey && (e.dataKey = this.dataKey), t.addShape(e, this.shapeKey), this.shapeKey = e.key;\n      }, e.prototype.undo = function (t) {\n        t.deleteShape(t.model.findShape(this.shapeKey), !0);\n      }, e;\n    }(r.HistoryItem);\n\n    e.AddShapeHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o19,\n        i = this && this.__extends || (_o19 = function o(t, e) {\n      return (_o19 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o19(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EllipsePrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s, a) {\n        var c = t.call(this, r, s, void 0, a) || this;\n        return c.cx = e, c.cy = n, c.rx = o, c.ry = i, c;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"ellipse\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"cx\", this.cx), this.setUnitAttribute(e, \"cy\", this.cy), this.setUnitAttribute(e, \"rx\", this.rx), this.setUnitAttribute(e, \"ry\", this.ry), this.setPositionCorrectionAttribute(e), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.EllipsePrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o20,\n        i = this && this.__extends || (_o20 = function o(t, e) {\n      return (_o20 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o20(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ClipPathPrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.id = e, o.children = n, o;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        var t = document.createElementNS(r.svgNS, \"clipPath\");\n        return t.setAttribute(\"id\", this.id), t;\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.id && e.setAttribute(\"id\", this.id), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.ClipPathPrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o21,\n        i = this && this.__extends || (_o21 = function o(t, e) {\n      return (_o21 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o21(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportImportCommandBase = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ExportImportCommandBase = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"__extends\", function () {\n      return i;\n    }), n.d(e, \"__assign\", function () {\n      return _r;\n    }), n.d(e, \"__rest\", function () {\n      return s;\n    }), n.d(e, \"__decorate\", function () {\n      return a;\n    }), n.d(e, \"__param\", function () {\n      return c;\n    }), n.d(e, \"__metadata\", function () {\n      return u;\n    }), n.d(e, \"__awaiter\", function () {\n      return h;\n    }), n.d(e, \"__generator\", function () {\n      return p;\n    }), n.d(e, \"__createBinding\", function () {\n      return l;\n    }), n.d(e, \"__exportStar\", function () {\n      return d;\n    }), n.d(e, \"__values\", function () {\n      return f;\n    }), n.d(e, \"__read\", function () {\n      return y;\n    }), n.d(e, \"__spread\", function () {\n      return g;\n    }), n.d(e, \"__spreadArrays\", function () {\n      return m;\n    }), n.d(e, \"__await\", function () {\n      return v;\n    }), n.d(e, \"__asyncGenerator\", function () {\n      return P;\n    }), n.d(e, \"__asyncDelegator\", function () {\n      return C;\n    }), n.d(e, \"__asyncValues\", function () {\n      return S;\n    }), n.d(e, \"__makeTemplateObject\", function () {\n      return b;\n    }), n.d(e, \"__importStar\", function () {\n      return I;\n    }), n.d(e, \"__importDefault\", function () {\n      return _;\n    }), n.d(e, \"__classPrivateFieldGet\", function () {\n      return w;\n    }), n.d(e, \"__classPrivateFieldSet\", function () {\n      return T;\n    });\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    \n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    \n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n\n    var _o22 = function o(t, e) {\n      return (_o22 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      })(t, e);\n    };\n\n    function i(t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o22(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    }\n\n    var _r = function r() {\n      return (_r = Object.assign || function (t) {\n        for (var e, n = 1, o = arguments.length; n < o; n++) for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n\n        return t;\n      }).apply(this, arguments);\n    };\n\n    function s(t, e) {\n      var n = {};\n\n      for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && e.indexOf(o) < 0 && (n[o] = t[o]);\n\n      if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n\n        for (o = Object.getOwnPropertySymbols(t); i < o.length; i++) e.indexOf(o[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, o[i]) && (n[o[i]] = t[o[i]]);\n      }\n\n      return n;\n    }\n\n    function a(t, e, n, o) {\n      var i,\n          r = arguments.length,\n          s = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) s = Reflect.decorate(t, e, n, o);else for (var a = t.length - 1; a >= 0; a--) (i = t[a]) && (s = (r < 3 ? i(s) : r > 3 ? i(e, n, s) : i(e, n)) || s);\n      return r > 3 && s && Object.defineProperty(e, n, s), s;\n    }\n\n    function c(t, e) {\n      return function (n, o) {\n        e(n, o, t);\n      };\n    }\n\n    function u(t, e) {\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(t, e);\n    }\n\n    function h(t, e, n, o) {\n      return new (n || (n = Promise))(function (i, r) {\n        function s(t) {\n          try {\n            c(o.next(t));\n          } catch (t) {\n            r(t);\n          }\n        }\n\n        function a(t) {\n          try {\n            c(o.throw(t));\n          } catch (t) {\n            r(t);\n          }\n        }\n\n        function c(t) {\n          var e;\n          t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(s, a);\n        }\n\n        c((o = o.apply(t, e || [])).next());\n      });\n    }\n\n    function p(t, e) {\n      var n,\n          o,\n          i,\n          r,\n          s = {\n        label: 0,\n        sent: function sent() {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return r = {\n        next: a(0),\n        throw: a(1),\n        return: a(2)\n      }, \"function\" == typeof Symbol && (r[Symbol.iterator] = function () {\n        return this;\n      }), r;\n\n      function a(r) {\n        return function (a) {\n          return function (r) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; s;) try {\n              if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;\n\n              switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {\n                case 0:\n                case 1:\n                  i = r;\n                  break;\n\n                case 4:\n                  return s.label++, {\n                    value: r[1],\n                    done: !1\n                  };\n\n                case 5:\n                  s.label++, o = r[1], r = [0];\n                  continue;\n\n                case 7:\n                  r = s.ops.pop(), s.trys.pop();\n                  continue;\n\n                default:\n                  if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {\n                    s = 0;\n                    continue;\n                  }\n\n                  if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {\n                    s.label = r[1];\n                    break;\n                  }\n\n                  if (6 === r[0] && s.label < i[1]) {\n                    s.label = i[1], i = r;\n                    break;\n                  }\n\n                  if (i && s.label < i[2]) {\n                    s.label = i[2], s.ops.push(r);\n                    break;\n                  }\n\n                  i[2] && s.ops.pop(), s.trys.pop();\n                  continue;\n              }\n\n              r = e.call(t, s);\n            } catch (t) {\n              r = [6, t], o = 0;\n            } finally {\n              n = i = 0;\n            }\n\n            if (5 & r[0]) throw r[1];\n            return {\n              value: r[0] ? r[1] : void 0,\n              done: !0\n            };\n          }([r, a]);\n        };\n      }\n    }\n\n    var l = Object.create ? function (t, e, n, o) {\n      void 0 === o && (o = n), Object.defineProperty(t, o, {\n        enumerable: !0,\n        get: function get() {\n          return e[n];\n        }\n      });\n    } : function (t, e, n, o) {\n      void 0 === o && (o = n), t[o] = e[n];\n    };\n\n    function d(t, e) {\n      for (var n in t) \"default\" === n || Object.prototype.hasOwnProperty.call(e, n) || l(e, t, n);\n    }\n\n    function f(t) {\n      var e = \"function\" == typeof Symbol && Symbol.iterator,\n          n = e && t[e],\n          o = 0;\n      if (n) return n.call(t);\n      if (t && \"number\" == typeof t.length) return {\n        next: function next() {\n          return t && o >= t.length && (t = void 0), {\n            value: t && t[o++],\n            done: !t\n          };\n        }\n      };\n      throw new TypeError(e ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n    }\n\n    function y(t, e) {\n      var n = \"function\" == typeof Symbol && t[Symbol.iterator];\n      if (!n) return t;\n      var o,\n          i,\n          r = n.call(t),\n          s = [];\n\n      try {\n        for (; (void 0 === e || e-- > 0) && !(o = r.next()).done;) s.push(o.value);\n      } catch (t) {\n        i = {\n          error: t\n        };\n      } finally {\n        try {\n          o && !o.done && (n = r.return) && n.call(r);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    }\n\n    function g() {\n      for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(y(arguments[e]));\n\n      return t;\n    }\n\n    function m() {\n      for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;\n\n      var o = Array(t),\n          i = 0;\n\n      for (e = 0; e < n; e++) for (var r = arguments[e], s = 0, a = r.length; s < a; s++, i++) o[i] = r[s];\n\n      return o;\n    }\n\n    function v(t) {\n      return this instanceof v ? (this.v = t, this) : new v(t);\n    }\n\n    function P(t, e, n) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var o,\n          i = n.apply(t, e || []),\n          r = [];\n      return o = {}, s(\"next\"), s(\"throw\"), s(\"return\"), o[Symbol.asyncIterator] = function () {\n        return this;\n      }, o;\n\n      function s(t) {\n        i[t] && (o[t] = function (e) {\n          return new Promise(function (n, o) {\n            r.push([t, e, n, o]) > 1 || a(t, e);\n          });\n        });\n      }\n\n      function a(t, e) {\n        try {\n          (n = i[t](e)).value instanceof v ? Promise.resolve(n.value.v).then(c, u) : h(r[0][2], n);\n        } catch (t) {\n          h(r[0][3], t);\n        }\n\n        var n;\n      }\n\n      function c(t) {\n        a(\"next\", t);\n      }\n\n      function u(t) {\n        a(\"throw\", t);\n      }\n\n      function h(t, e) {\n        t(e), r.shift(), r.length && a(r[0][0], r[0][1]);\n      }\n    }\n\n    function C(t) {\n      var e, n;\n      return e = {}, o(\"next\"), o(\"throw\", function (t) {\n        throw t;\n      }), o(\"return\"), e[Symbol.iterator] = function () {\n        return this;\n      }, e;\n\n      function o(o, i) {\n        e[o] = t[o] ? function (e) {\n          return (n = !n) ? {\n            value: v(t[o](e)),\n            done: \"return\" === o\n          } : i ? i(e) : e;\n        } : i;\n      }\n    }\n\n    function S(t) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var e,\n          n = t[Symbol.asyncIterator];\n      return n ? n.call(t) : (t = f(t), e = {}, o(\"next\"), o(\"throw\"), o(\"return\"), e[Symbol.asyncIterator] = function () {\n        return this;\n      }, e);\n\n      function o(n) {\n        e[n] = t[n] && function (e) {\n          return new Promise(function (o, i) {\n            (function (t, e, n, o) {\n              Promise.resolve(o).then(function (e) {\n                t({\n                  value: e,\n                  done: n\n                });\n              }, e);\n            })(o, i, (e = t[n](e)).done, e.value);\n          });\n        };\n      }\n    }\n\n    function b(t, e) {\n      return Object.defineProperty ? Object.defineProperty(t, \"raw\", {\n        value: e\n      }) : t.raw = e, t;\n    }\n\n    var x = Object.create ? function (t, e) {\n      Object.defineProperty(t, \"default\", {\n        enumerable: !0,\n        value: e\n      });\n    } : function (t, e) {\n      t.default = e;\n    };\n\n    function I(t) {\n      if (t && t.__esModule) return t;\n      var e = {};\n      if (null != t) for (var n in t) \"default\" !== n && Object.prototype.hasOwnProperty.call(t, n) && l(e, t, n);\n      return x(e, t), e;\n    }\n\n    function _(t) {\n      return t && t.__esModule ? t : {\n        default: t\n      };\n    }\n\n    function w(t, e) {\n      if (!e.has(t)) throw new TypeError(\"attempted to get private field on non-instance\");\n      return e.get(t);\n    }\n\n    function T(t, e, n) {\n      if (!e.has(t)) throw new TypeError(\"attempted to set private field on non-instance\");\n      return e.set(t, n), n;\n    }\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t(t, e) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), this.x = t, this.y = e;\n      }\n\n      return Object.defineProperty(t.prototype, \"length\", {\n        get: function get() {\n          return Math.sqrt(this.x * this.x + this.y * this.y);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.fromPoints = function (e, n) {\n        return new t(n.x - e.x, n.y - e.y);\n      }, t.fromSegment = function (e) {\n        return new t(e.endPoint.x - e.startPoint.x, e.endPoint.y - e.startPoint.y);\n      }, t.prototype.normalize = function () {\n        var t = this.length;\n        return 0 !== t && (this.x /= t, this.y /= t), this;\n      }, t.prototype.negative = function () {\n        return this.x *= -1, this.y *= -1, this;\n      }, Object.defineProperty(t, \"axisX\", {\n        get: function get() {\n          return new t(1, 0);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t, \"axisY\", {\n        get: function get() {\n          return new t(0, 1);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.angleBetween = function (e, n) {\n        var o = t.scalarProduct(e, n) / (e.length * n.length);\n        return Math.acos(o);\n      }, t.scalarProduct = function (t, e) {\n        return t.x * e.x + t.y * e.y;\n      }, t;\n    }();\n\n    e.Vector = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var o;\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Diagnostics = void 0, function (t) {\n      t[t.Disabled = 0] = \"Disabled\", t[t.Console = 1] = \"Console\", t[t.Document = 2] = \"Document\";\n    }(o || (o = {}));\n\n    var i = function () {\n      function t() {}\n\n      return t.beginAverage = function (t) {\n        this.enableLogsAndTimers && (this.lastAverageGroupName = t);\n      }, t.endAverage = function () {\n        this.enableLogsAndTimers && (this.lastAverageGroupName = null);\n      }, t.tryLogAverage = function (t) {\n        var e = this;\n\n        if (this.lastAverageGroupName !== t) {\n          var n = Object.keys(this.timers).map(function (t) {\n            return e.timers[t];\n          }).filter(function (e) {\n            return e.groupName === t;\n          });\n\n          if (!n.filter(function (t) {\n            return !t.endTime;\n          }).length) {\n            var o = n.reduce(function (t, e) {\n              return t + (e.endTime - e.startTime);\n            }, 0) / n.length;\n            this.log(\"average: \" + o);\n          }\n        }\n      }, t.timer = function (t) {\n        this.enableLogsAndTimers && (this.lastCreatedTimer = {\n          message: t,\n          startTime: performance.now(),\n          groupName: this.lastAverageGroupName\n        });\n      }, t.endTimer = function () {\n        var t = this;\n\n        if (this.enableLogsAndTimers) {\n          var e = this.lastCreatedTimer,\n              n = setTimeout(function () {\n            e.endTime = performance.now(), t.showMessage('timer \"' + e.message + '\": ' + (e.endTime - e.startTime)), e.groupName && t.tryLogAverage(e.groupName);\n          }, 0);\n          this.timers[n] = e, this.lastCreatedTimer = null;\n        }\n      }, t.logPerfInfo = function () {\n        var t = document.querySelector(\".dxdi-control > svg\").querySelectorAll(\"*\").length,\n            e = performance.memory;\n        this.log(\"nodes: \" + t.toLocaleString() + (e ? \" memory: \" : \"\") + (e ? e.usedJSHeapSize.toLocaleString() : \"\"));\n      }, t.log = function (t) {\n        this.showMessage(t);\n      }, t.showMessage = function (e) {\n        switch (t.mode) {\n          case o.Console:\n            console.log(e);\n            break;\n\n          case o.Document:\n            var n = this.getElement().value;\n\n            if (this.lastMessage === e) {\n              var i = n.indexOf(\"\\r\\n\");\n              i < 0 && (i = n.indexOf(\"\\n\"));\n              var r = n.substr(0, i);\n              /( \\()([0-9]+)(\\))$/.test(r) ? r = r.replace(/( \\()([0-9]+)(\\))$/, function (t, e, n, o) {\n                return e + ++n + o;\n              }) : r += \" (1)\", this.getElement().value = r + n.substr(i);\n            } else this.getElement().value = e + \"\\r\\n\" + n, this.lastMessage = e;\n\n        }\n      }, t.getElement = function () {\n        var t = this;\n\n        if (!this.el) {\n          this.el = document.createElement(\"textarea\"), this.el.style.top = \"0px\", this.el.style.right = \"0px\", this.el.style.position = \"fixed\", this.el.style.background = \"transparent\", this.el.style.fontSize = \"11px\", this.el.style.fontFamily = \"monospace\", this.el.style.overflow = \"auto\", this.el.style.width = \"400px\", document.body.appendChild(this.el);\n          var e = document.createElement(\"button\");\n          e.innerHTML = \"x\", e.addEventListener(\"click\", function () {\n            t.el.value = \"\", t.lastMessage = \"\";\n          }), e.style.top = \"0px\", e.style.right = \"400px\", e.style.position = \"fixed\", e.style.opacity = \"0.1\", document.body.appendChild(e);\n        }\n\n        return this.el;\n      }, t.mode = o.Document, t.optimizeUsingRAF = !0, t.optimizeLayers = !0, t.timers = {}, t.enableLogsAndTimers = !1, t;\n    }();\n\n    e.Diagnostics = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(19),\n        i = n(27),\n        r = n(24),\n        s = n(174),\n        a = function () {\n      function t() {}\n\n      return t.preventEvent = function (t) {\n        t.cancelable && (t.preventDefault ? t.preventDefault() : t.returnValue = !1);\n      }, t.getEventSource = function (e) {\n        return i.isDefined(e) ? t.getEventSourceCore(e) : null;\n      }, t.getEventSourceByPosition = function (e) {\n        if (!i.isDefined(e)) return null;\n        if (!document.elementFromPoint) return t.getEventSourceCore(e);\n        var n = t.getEventX(e),\n            o = t.getEventY(e);\n        return void 0 === n || void 0 === o ? t.getEventSourceCore(e) : document.elementFromPoint(n, o);\n      }, t.getEventSourceCore = function (t) {\n        return t.srcElement ? t.srcElement : t.target;\n      }, t.getMouseWheelEventName = function () {\n        return o.Browser.Safari ? \"mousewheel\" : o.Browser.NetscapeFamily && o.Browser.MajorVersion < 17 ? \"DOMMouseScroll\" : \"wheel\";\n      }, t.isLeftButtonPressed = function (e) {\n        return !!s.TouchUtils.isTouchEvent(e) || !!(e = o.Browser.IE && i.isDefined(event) ? event : e) && (o.Browser.IE && o.Browser.Version < 11 ? !!o.Browser.MSTouchUI || e.button % 2 == 1 : o.Browser.WebKitFamily ? \"pointermove\" === e.type ? 1 === e.buttons : 1 === e.which : o.Browser.NetscapeFamily || o.Browser.Edge || o.Browser.IE && o.Browser.Version >= 11 ? t.isMoveEventName(e.type) ? 1 === e.buttons : 1 === e.which : !o.Browser.Opera || 0 === e.button);\n      }, t.isMoveEventName = function (e) {\n        return e === s.TouchUtils.touchMouseMoveEventName || e === t.getMoveEventName();\n      }, t.getMoveEventName = function () {\n        return window.PointerEvent ? \"pointermove\" : o.Browser.TouchUI ? \"touchmove\" : \"mousemove\";\n      }, t.preventEventAndBubble = function (e) {\n        t.preventEvent(e), e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0;\n      }, t.clientEventRequiresDocScrollCorrection = function () {\n        var t = o.Browser.Safari && o.Browser.Version < 3,\n            e = o.Browser.MacOSMobilePlatform && o.Browser.Version < 5.1;\n        return o.Browser.AndroidDefaultBrowser || o.Browser.AndroidChromeBrowser || !(t || e);\n      }, t.getEventX = function (e) {\n        return s.TouchUtils.isTouchEvent(e) ? s.TouchUtils.getEventX(e) : e.clientX + (t.clientEventRequiresDocScrollCorrection() ? r.DomUtils.getDocumentScrollLeft() : 0);\n      }, t.getEventY = function (e) {\n        return s.TouchUtils.isTouchEvent(e) ? s.TouchUtils.getEventY(e) : e.clientY + (t.clientEventRequiresDocScrollCorrection() ? r.DomUtils.getDocumentScrollTop() : 0);\n      }, t.cancelBubble = function (t) {\n        t.cancelBubble = !0;\n      }, t.getWheelDelta = function (t) {\n        var e;\n        return e = o.Browser.NetscapeFamily && o.Browser.MajorVersion < 17 ? -t.detail : o.Browser.Safari ? t.wheelDelta : -t.deltaY, o.Browser.Opera && o.Browser.Version < 9 && (e = -e), e;\n      }, t;\n    }();\n\n    e.EvtUtils = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramModel = void 0;\n\n    var o = n(13),\n        i = n(6),\n        r = n(3),\n        s = n(11),\n        a = n(2),\n        c = n(1),\n        u = n(46),\n        h = n(22),\n        p = n(47),\n        l = n(4),\n        d = function () {\n      function t(e) {\n        void 0 === e && (e = new a.Size(8391, 11906)), this.items = [], this.itemIndexByKey = {}, this.keyCounter = 0, this.pageSize = new a.Size(8391, 11906), this.pageLandscape = !1, this.pageColor = t.defaultPageColor, this.units = p.DiagramUnit.In, this.snapStartPoint = new c.Point(0, 0), this.pageSize = e, this.size = this.pageSize.clone(), this.rectangle = s.Rectangle.fromGeometry(new c.Point(0, 0), new a.Size(0, 0)), this.initializeKeyCounter();\n      }\n\n      return Object.defineProperty(t.prototype, \"pageWidth\", {\n        get: function get() {\n          return this.pageLandscape ? this.pageSize.height : this.pageSize.width;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"pageHeight\", {\n        get: function get() {\n          return this.pageLandscape ? this.pageSize.width : this.pageSize.height;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getRectangle = function (t) {\n        return t && (this.rectangle = l.ModelUtils.createRectangle(this.items)), this.rectangle;\n      }, t.prototype.pushItem = function (t) {\n        var e = this.items.push(t);\n        this.itemIndexByKey[t.key] = e - 1, t instanceof o.Shape && !t.image.isEmpty && this.cacheShapeImage(t);\n      }, t.prototype.removeItem = function (t) {\n        var e = this.getItemIndex(t);\n        delete this.itemIndexByKey[t.key], this.items.splice(e, 1), this.updateIndicesHash(e);\n      }, t.prototype.updateIndicesHash = function (t) {\n        for (var e = t; e < this.items.length; e++) this.itemIndexByKey[this.items[e].key] = e;\n      }, t.prototype.getItemIndex = function (t) {\n        return this.itemIndexByKey[t.key];\n      }, t.prototype.findShape = function (t) {\n        var e = this.findItem(t);\n        return e instanceof o.Shape ? e : void 0;\n      }, t.prototype.findShapesCore = function (t) {\n        var e = [];\n        return this.items.forEach(function (n) {\n          n instanceof o.Shape && t(n) && e.push(n);\n        }), e;\n      }, t.prototype.findShapeCore = function (t) {\n        for (var e = 0; e < this.items.length; e++) {\n          var n = this.items[e];\n          if (n instanceof o.Shape && t(n)) return n;\n        }\n      }, t.prototype.findShapeAtPosition = function (t) {\n        return this.findShapeCore(function (e) {\n          return e.position.equals(t);\n        });\n      }, t.prototype.findShapeByDataKey = function (t) {\n        return this.findShapeCore(function (e) {\n          return e.dataKey === t;\n        });\n      }, t.prototype.findShapesByImageUrl = function (t) {\n        return this.findShapesCore(function (e) {\n          return e.image.url === t;\n        });\n      }, t.prototype.findShapesByDescription = function (t) {\n        return this.findShapesCore(function (e) {\n          return e.description.key === t.key;\n        });\n      }, t.prototype.cacheShapeImage = function (t) {\n        var e = u.ImageCache.instance.createUnloadedInfoByShapeImageInfo(t.image);\n        e.isLoaded && t.image.loadBase64Content(e.base64);\n      }, t.prototype.loadAllImages = function (t) {\n        u.ImageCache.instance.loadAllImages(t);\n      }, t.prototype.findContainer = function (t) {\n        var e = this.findShape(t);\n        return e && e.enableChildren ? e : void 0;\n      }, t.prototype.findNearestContainer = function (t) {\n        var e = this.findShape(t);\n        return e ? e.enableChildren ? e : e.container : void 0;\n      }, t.prototype.getChildren = function (t) {\n        var e = this;\n        return t.children.map(function (t) {\n          return e.findItem(t.key);\n        }).filter(function (t) {\n          return t;\n        });\n      }, t.prototype.findChild = function (t, e, n) {\n        var i,\n            r = this;\n        return void 0 === n && (n = !0), t.children.forEach(function (t) {\n          i || (t.key !== e ? n && t instanceof o.Shape && (i = r.findChild(t, e, n)) : i = t);\n        }), i;\n      }, t.prototype.findItemContainerCore = function (t, e) {\n        for (var n = t.container; n && e && !e(n);) n = n.container;\n\n        return n;\n      }, t.prototype.findItemContainer = function (t) {\n        return this.findItemContainerCore(t);\n      }, t.prototype.findItemCollapsedContainer = function (t) {\n        return this.findItemContainerCore(t, function (t) {\n          return !t.expanded;\n        });\n      }, t.prototype.findItemTopCollapsedContainer = function (t) {\n        for (var e, n = t.container; n;) n.expanded || (e = n), n = n.container;\n\n        return e;\n      }, t.prototype.isContainerItem = function (t, e) {\n        return void 0 !== this.findItemContainerCore(e, function (e) {\n          return e.key === t.key;\n        });\n      }, t.prototype.findConnector = function (t) {\n        var e = this.findItem(t);\n        return e instanceof i.Connector ? e : void 0;\n      }, t.prototype.findConnectorCore = function (t) {\n        for (var e = 0; e < this.items.length; e++) {\n          var n = this.items[e];\n          if (n instanceof i.Connector && t(n)) return n;\n        }\n      }, t.prototype.findConnectorAtPoints = function (t) {\n        return this.findConnectorCore(function (e) {\n          return r.GeometryUtils.arePointsEqual(e.points, t);\n        });\n      }, t.prototype.findConnectorByDataKey = function (t) {\n        return this.findConnectorCore(function (e) {\n          return e.dataKey === t;\n        });\n      }, t.prototype.findConnectorByBeginEndDataKeys = function (t, e) {\n        return this.findConnectorCore(function (n) {\n          return n.beginItem && n.beginItem.dataKey === t && n.endItem && n.endItem.dataKey === e;\n        });\n      }, t.prototype.findConnectorsCore = function (t) {\n        var e = [];\n        return this.items.forEach(function (n) {\n          n instanceof i.Connector && t(n) && e.push(n);\n        }), e;\n      }, t.prototype.findConnectorsWithoutBeginItem = function () {\n        return this.findConnectorsCore(function (t) {\n          return !t.beginItem;\n        });\n      }, t.prototype.findConnectorsWithoutEndItem = function () {\n        return this.findConnectorsCore(function (t) {\n          return !t.endItem;\n        });\n      }, t.prototype.findItem = function (t) {\n        return this.items[this.itemIndexByKey[t]];\n      }, t.prototype.findItemByDataKey = function (t) {\n        return this.findItemCore(function (e) {\n          return e.dataKey === t;\n        });\n      }, t.prototype.findItemCore = function (t) {\n        for (var e = 0; e < this.items.length; e++) if (t(this.items[e])) return this.items[e];\n      }, t.isIntersectedItems = function (t, e) {\n        var n = !1;\n        return t instanceof o.Shape ? n = e.intersectedByRect(t.rectangle) : t instanceof i.Connector && t.getSegments().forEach(function (t) {\n          e instanceof o.Shape ? n = n || t.isIntersectedByRect(e.rectangle) : e instanceof i.Connector && e.getSegments().forEach(function (e) {\n            n = n || t.isIntersected(e);\n          });\n        }), n;\n      }, t.prototype.getIntersectItems = function (e) {\n        var n = [];\n        return this.items.forEach(function (o) {\n          o.container === e.container && (e === o || o instanceof i.Connector && -1 !== e.attachedConnectors.indexOf(o) || !t.isIntersectedItems(o, e) || n.push(o));\n        }), n;\n      }, t.prototype.getIntersectItemsMinZIndex = function (t) {\n        return this.getIntersectItems(t).map(function (t) {\n          return t.zIndex;\n        }).reduce(function (t, e) {\n          return Math.min(t, e);\n        }, Number.MAX_VALUE);\n      }, t.prototype.getIntersectItemsMaxZIndex = function (t) {\n        return this.getIntersectItems(t).map(function (t) {\n          return t.zIndex;\n        }).reduce(function (t, e) {\n          return Math.max(t, e);\n        }, -Number.MAX_VALUE);\n      }, t.prototype.iterateItems = function (t) {\n        this.items.forEach(t);\n      }, t.prototype.getNextKey = function () {\n        return (this.keyCounter++).toString();\n      }, t.prototype.initializeKeyCounter = function () {\n        this.keyCounter = this.items.reduce(function (t, e) {\n          var n = parseInt(e.key);\n          return Math.max(t, isNaN(n) ? 0 : n + 1);\n        }, this.items.length);\n      }, t.defaultPageColor = h.ColorUtils.LIGHT_COLOR, t;\n    }();\n\n    e.DiagramModel = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o23,\n        i = this && this.__extends || (_o23 = function o(t, e) {\n      return (_o23 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o23(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextPrimitive270degRenderHelper = e.TextPrimitive180degRenderHelper = e.TextPrimitive90degRenderHelper = e.TextPrimitiveRenderHelper = e.TextPrimitive = e.TextAngle = void 0;\n    var r,\n        s = n(12),\n        a = n(15),\n        c = n(25),\n        u = n(17),\n        h = n(63);\n    !function (t) {\n      t[t.Angle0deg = 0] = \"Angle0deg\", t[t.Angle90deg = 90] = \"Angle90deg\", t[t.Angle180deg = 180] = \"Angle180deg\", t[t.Angle270deg = 270] = \"Angle270deg\";\n    }(r = e.TextAngle || (e.TextAngle = {}));\n\n    var p = function (t) {\n      function e(e, n, o, i, r, s, a, c, u, p, l, d, f) {\n        var y = t.call(this, c, \"\", p, f) || this;\n        return y.x = e, y.y = n, y.text = o, y.owner = i, y.textWidth = r, y.textHeight = s, y.textSpacing = a, y.reverseTextAhchor = u, y.angle = d, y.filterId = l, y.textSegmens = h.textToParagraphs(y.text), y.renderHelper = y.createRenderHelper(), void 0 !== y.textWidth && void 0 !== y.textWidth && (y.x = y.renderHelper.getTextX(y.x), y.y = y.renderHelper.getTextY(y.y)), y;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(a.svgNS, \"text\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"x\", this.x), this.setUnitAttribute(e, \"y\", this.y), this.filterId && e.setAttribute(\"filter\", u.RenderUtils.getUrlPathById(this.filterId)), t.prototype.applyElementProperties.call(this, e, n), e.getAttribute(\"appliedText\") !== this.text || e.getAttribute(\"appliedSize\") !== (this.fitToSize && this.fitToSize.toString()) ? (this.createTSpanElements(e, n), e.setAttribute(\"appliedText\", this.text), e.setAttribute(\"appliedSize\", this.fitToSize && this.fitToSize.toString())) : this.prepareTSpanElements(e), this.renderHelper.prepareMainElement(e, this.x, this.y);\n      }, e.prototype.createTSpanElements = function (t, e) {\n        var n = this;\n        u.RenderUtils.removeContent(t), this.textSegmens.forEach(function (o, i) {\n          if (!o && n.textSegmens.length > 1) n.createTSpanElement(t).textContent = \" \";else if (n.fitToSize) {\n            var r = h.textToWords(o),\n                a = h.wordsByLines(s.UnitConverter.twipsToPixels(n.fitToSize), r, function () {\n              return e.measureWords(r, n.style, n.owner);\n            });\n            if (a.forEach(function (e) {\n              n.createTSpanElement(t).textContent = e;\n            }), !a.length) n.createTSpanElement(t).textContent = \" \";\n          } else {\n            n.createTSpanElement(t).textContent = o;\n          }\n        });\n        var o = t.firstChild;\n        o && this.prepareFirstTSpanElement(o, t.childNodes.length);\n      }, e.prototype.createTSpanElement = function (t) {\n        var e = document.createElementNS(a.svgNS, \"tspan\");\n        return t.appendChild(e), this.prepareTSpanElement(e), e;\n      }, e.prototype.prepareTSpanElements = function (t) {\n        for (var e = 0; e < t.childNodes.length; e++) {\n          var n = t.childNodes[e];\n          this.prepareTSpanElement(n);\n        }\n\n        var o = t.firstChild;\n        o && this.prepareFirstTSpanElement(o, t.childNodes.length);\n      }, e.prototype.prepareTSpanElement = function (t) {\n        this.renderHelper.prepareTSpanElement(t, this.x, this.y);\n      }, e.prototype.prepareFirstTSpanElement = function (t, e) {\n        this.renderHelper.prepareFirstTSpanElement(t, e);\n      }, e.prototype.applyElementStyleProperties = function (t) {\n        this.applyElementStylePropertiesCore(t, this.reverseTextAhchor);\n      }, Object.defineProperty(e.prototype, \"fitToSize\", {\n        get: function get() {\n          return this.renderHelper.fitToSize;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createRenderHelper = function () {\n        switch (this.angle) {\n          case r.Angle90deg:\n            return new d(this);\n\n          case r.Angle180deg:\n            return new f(this);\n\n          case r.Angle270deg:\n            return new y(this);\n\n          default:\n            return new l(this);\n        }\n      }, e.baselineCorrection = .35, e;\n    }(c.SvgPrimitive);\n\n    e.TextPrimitive = p;\n\n    var l = function () {\n      function t(t) {\n        this.primitive = t;\n      }\n\n      return Object.defineProperty(t.prototype, \"textWidth\", {\n        get: function get() {\n          return this.primitive.textWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"textHeight\", {\n        get: function get() {\n          return this.primitive.textHeight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"fitToSize\", {\n        get: function get() {\n          return this.textWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"textAnchor\", {\n        get: function get() {\n          return this.primitive.style[\"text-anchor\"];\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"textSpacing\", {\n        get: function get() {\n          return this.primitive.textSpacing;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"angle\", {\n        get: function get() {},\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"needRotation\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.prepareMainElement = function (t, e, n) {\n        this.needRotation && t.setAttribute(\"transform\", \"rotate(\" + this.angle + \", \" + s.UnitConverter.twipsToPixels(e) + \", \" + s.UnitConverter.twipsToPixels(n) + \")\");\n      }, t.prototype.prepareTSpanElement = function (t, e, n) {\n        this.primitive.setUnitAttribute(t, \"x\", e), t.setAttribute(\"dy\", h.LINE_HEIGHT + \"em\");\n      }, t.prototype.prepareFirstTSpanElement = function (t, e) {\n        var n = -(e - 1) / 2 + p.baselineCorrection;\n        t.setAttribute(\"dy\", n.toFixed(2) + \"em\");\n      }, t.prototype.getTextX = function (t) {\n        return this.textAnchor && \"middle\" !== this.textAnchor ? \"end\" === this.textAnchor ? t + this.textWidth - this.textSpacing : \"start\" === this.textAnchor ? t + this.textSpacing : t : t + this.textWidth / 2;\n      }, t.prototype.getTextY = function (t) {\n        return t + this.textHeight / 2;\n      }, t.prototype.setUnitAttribute = function (t, e, n) {\n        this.primitive.setUnitAttribute(t, e, n);\n      }, t;\n    }();\n\n    e.TextPrimitiveRenderHelper = l;\n\n    var d = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"fitToSize\", {\n        get: function get() {\n          return this.textHeight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"angle\", {\n        get: function get() {\n          return 90;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"needRotation\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getTextX = function (t) {\n        return t + this.textWidth / 2;\n      }, e.prototype.getTextY = function (t) {\n        return this.textAnchor && \"middle\" !== this.textAnchor ? \"end\" === this.textAnchor ? t + this.textHeight - this.textSpacing : \"start\" === this.textAnchor ? t + this.textSpacing : t : t + this.textHeight / 2;\n      }, e;\n    }(l);\n\n    e.TextPrimitive90degRenderHelper = d;\n\n    var f = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"angle\", {\n        get: function get() {\n          return 180;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"needRotation\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getTextX = function (t) {\n        return this.textAnchor && \"middle\" !== this.textAnchor ? \"start\" === this.textAnchor ? t + this.textWidth - this.textSpacing : \"end\" === this.textAnchor ? t + this.textSpacing : t : t + this.textWidth / 2;\n      }, e;\n    }(l);\n\n    e.TextPrimitive180degRenderHelper = f;\n\n    var y = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"angle\", {\n        get: function get() {\n          return 270;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getTextY = function (t) {\n        return this.textAnchor && \"middle\" !== this.textAnchor ? \"start\" === this.textAnchor ? t + this.textHeight - this.textSpacing : \"end\" === this.textAnchor ? t + this.textSpacing : t : t + this.textHeight / 2;\n      }, e;\n    }(d);\n\n    e.TextPrimitive270degRenderHelper = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.getLineHeight = e.getTextHeight = e.getTextLineSize = e.getOptimalTextRectangle = e.TEXTRECT_RATIO_EPS = e.textToParagraphs = e.textToWords = e.wordsByLines = e.LINE_HEIGHT = void 0;\n    var o = n(3),\n        i = n(2),\n        r = n(50),\n        s = /\\s/gm;\n\n    function a(t, e, n) {\n      if (1 === e.length) return e;\n\n      for (var o = n(), i = o.words[\" \"].width, r = [], s = 0, a = -1, c = 0; c < e.length; c++) {\n        var u = e[c],\n            h = o.words[u].width;\n        -1 === a || s + i + h > t ? (a = r.push(u) - 1, s = h) : (s += i + h, r[a] += \" \" + u);\n      }\n\n      return r;\n    }\n\n    function c(t) {\n      return t.split(s).filter(function (t) {\n        return t.length;\n      });\n    }\n\n    function u(t) {\n      return t.split(\"\\n\");\n    }\n\n    e.LINE_HEIGHT = 1.05, e.wordsByLines = a, e.textToWords = c, e.textToParagraphs = u, e.TEXTRECT_RATIO_EPS = 1.2;\n    var h = 1;\n\n    function p(t, e, n) {\n      var o = t < 1 ? 1 / t : t,\n          i = e < 1 ? 1 / e : e,\n          r = o / i;\n      return (r < 1 ? 1 / r : r) <= n ? 0 : i > o ? 1 : -1;\n    }\n\n    function l(t, e, n, o) {\n      return d(y(t, e, n, !1), o);\n    }\n\n    function d(t, e) {\n      return [r.Data.byRange(t, e.from, e.to), t <= e.to];\n    }\n\n    function f(t, e) {\n      return c(t).reduce(function (t, n, o) {\n        var i = e.words[n];\n        return t.width += i.width, t.height = Math.max(t.height, i.height), o > 0 && (t.width += e.words[\" \"].width), t;\n      }, new i.Size(0, 0));\n    }\n\n    function y(t, e, n, o) {\n      var i = Array.isArray(t) ? t : u(t);\n      return !o || i.length && (1 !== i.length || i[0].length) ? i.reduce(function (t, o) {\n        return t + a(e, c(o), function () {\n          return n;\n        }).length;\n      }, 0) * g(n) : g(n);\n    }\n\n    function g(t) {\n      return t.fontSize * e.LINE_HEIGHT;\n    }\n\n    e.getOptimalTextRectangle = function (t, n, s, a, c, g, m, v, P, C) {\n      if (void 0 === m && (m = 0), void 0 === v && (v = Number.MAX_SAFE_INTEGER || Number.MAX_VALUE), void 0 === P && (P = 0), void 0 === C && (C = Number.MAX_SAFE_INTEGER || Number.MAX_VALUE), !t) return new i.Size(r.Data.byRange(c.width, m, v), r.Data.byRange(c.height, P, C));\n      if (m > v || P > C) throw new Error(\"Min size cannot exceed max size\");\n      if (m === v && P === C) return new i.Size(m, P);\n\n      var S = a.measureWords(t, n, s),\n          b = u(t),\n          x = Object.keys(S.words).reduce(function (t, e) {\n        return Math.max(t, S.words[e].width);\n      }, 0),\n          I = new o.Range(r.Data.byRange(Math.max(c.width, x), m, v), v),\n          _ = new o.Range(r.Data.byRange(c.height, P, C), C);\n\n      if (x <= c.width && y(b, c.width, S, !1) <= c.height && I.includes(c.width) && _.includes(c.height)) return c;\n      var w = c.width / c.height;\n      return function (t, n, o, s, a, c) {\n        for (var u, y, g = t.reduce(function (t, e) {\n          return Math.max(t, f(e, n).width);\n        }, 0), m = new i.Size(0, 0), v = new i.Size(0, 0), P = 0, C = 0, S = 0; S < 5; S++) {\n          if (0 === S) v.width = d(g, s)[0];else {\n            if (!(Math.abs(P) > h)) break;\n            v.width = d(m.width + P, s)[0];\n          }\n          if (u = l(t, v.width, n, a), v.height = u[0], y = u[1], 0 === S && (m = v.clone(), C = m.width / m.height / o), 0 === S && !y) break;\n          var b = v.width / v.height,\n              x = b / o;\n          if (0 === S) P = (v.width / x - v.width) / 2;else if (y) {\n            if (!p(o, b, e.TEXTRECT_RATIO_EPS)) {\n              m = v.clone(), C = x;\n              break;\n            }\n\n            if (!(p(C, x, 1) < 0)) break;\n            m = v.clone(), C = x, P = (v.width / x - v.width) / 2, x < 1 && (P /= 2);\n          } else P /= 2;\n        }\n\n        return c && (m.height = r.Data.byRange(m.width / o, m.height, a.to)), m;\n      }(b, S, w, I, _, g);\n    }, e.getTextLineSize = f, e.getTextHeight = y, e.getLineHeight = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o24,\n        i = this && this.__extends || (_o24 = function o(t, e) {\n      return (_o24 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o24(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AddConnectorHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(6),\n        a = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.points = e, i.dataKey = n, i.renderPointsContext = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = new s.Connector(this.points);\n        void 0 !== this.dataKey && (e.dataKey = this.dataKey), void 0 !== this.renderPointsContext && e.replaceRenderPoints(this.renderPointsContext), t.addConnector(e, this.connectorKey), this.connectorKey = e.key;\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.deleteConnector(e);\n      }, e;\n    }(r.HistoryItem);\n\n    e.AddConnectorHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o25,\n        i = this && this.__extends || (_o25 = function o(t, e) {\n      return (_o25 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o25(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteConnectionHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(6),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.connectorKey = e.key, o.position = n, o.itemKey = e.getExtremeItem(o.position).key, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        this.oldConnectionPointIndex = this.position === s.ConnectorPosition.Begin ? e.beginConnectionPointIndex : e.endConnectionPointIndex, t.deleteConnection(e, this.position);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey),\n            n = t.model.findItem(this.itemKey);\n        t.addConnection(e, n, this.oldConnectionPointIndex, this.position);\n      }, e;\n    }(r.HistoryItem);\n\n    e.DeleteConnectionHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o26,\n        i = this && this.__extends || (_o26 = function o(t, e) {\n      return (_o26 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o26(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SetSelectionHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.selectedKeys = n, i.selection = e, i.forceChange = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function () {\n        this.oldSelection = this.selection.getKeys().slice(0), this.selection.set(this.selectedKeys, this.forceChange);\n      }, e.prototype.undo = function () {\n        this.selection.set(this.oldSelection, this.forceChange);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.SetSelectionHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o27,\n        i = this && this.__extends || (_o27 = function o(t, e) {\n      return (_o27 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o27(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorTextHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connectorKey = e.key, i.text = o, i.position = n, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        this.oldText = e.getText(this.position), t.changeConnectorText(e, this.text, this.position);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.changeConnectorText(e, this.oldText, this.position);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeConnectorTextHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o28,\n        i = this && this.__extends || (_o28 = function o(t, e) {\n      return (_o28 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o28(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStyleTextHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        return t.call(this, e, n, o) || this;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.oldStyleValue = e.styleText[this.styleProperty], t.changeStyleText(e, this.styleProperty, this.styleValue);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.changeStyleText(e, this.styleProperty, this.oldStyleValue);\n      }, e;\n    }(n(119).ChangeStyleHistoryItemBase);\n\n    e.ChangeStyleTextHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o29,\n        i = this && this.__extends || (_o29 = function o(t, e) {\n      return (_o29 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o29(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.GraphIterator = e.FastGraph = e.Graph = void 0;\n\n    var r = n(39),\n        s = n(13),\n        a = n(42),\n        c = n(90),\n        u = function () {\n      function t(t, e) {\n        this.nodeMap = {}, this.edgeMap = {}, this.nodes = [], this.edges = [], this.onInit(), t.forEach(this.addNode.bind(this)), e.forEach(this.addEdge.bind(this));\n      }\n\n      return Object.defineProperty(t.prototype, \"items\", {\n        get: function get() {\n          return this.nodes.map(this.getNode.bind(this));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.onInit = function () {}, t.prototype.addEdge = function (t) {\n        this.edgeMap[t.key] = t, this.edges.push(t);\n      }, t.prototype.addNode = function (t) {\n        this.nodeMap[t.key] = t, this.nodes.push(t.key);\n      }, t.prototype.getNode = function (t) {\n        return this.nodeMap[t];\n      }, t.prototype.getEdge = function (t) {\n        return this.edgeMap[t];\n      }, t.prototype.isEmpty = function () {\n        return !this.nodes.length && !this.edges.length;\n      }, t.prototype.getAdjacentEdges = function (t, e) {\n        return void 0 === e && (e = r.ConnectionMode.OutgoingAndIncoming), this.edges.filter(function (n) {\n          return e & r.ConnectionMode.Incoming && n.to === t || e & r.ConnectionMode.Outgoing && n.from === t;\n        });\n      }, t;\n    }(),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.cast = function (t, n) {\n        var o = this;\n        return new e(this.nodes.map(function (e) {\n          return t(o.getNode(e));\n        }), this.edges.map(function (t) {\n          return n ? n(t) : t;\n        }));\n      }, e.prototype.getConnectedComponents = function () {\n        var t = this.createIterator(r.ConnectionMode.OutgoingAndIncoming);\n        t.visitEachEdgeOnce = !0;\n\n        for (var n = [], o = function o(_o30) {\n          var r = [],\n              s = [];\n          t.onNode = function (t) {\n            return r.push(t);\n          }, t.onEdge = function (t) {\n            return s.push(t);\n          }, t.iterate(i.nodes[_o30]), r.length && n.push(new e(r, s));\n        }, i = this, s = 0; s < this.nodes.length; s++) o(s);\n\n        return n;\n      }, e.prototype.createIterator = function (t) {\n        var e = new l(this, t);\n        return e.comparer = function (t, e) {\n          return t.weight - e.weight;\n        }, e;\n      }, e.prototype.getSpanningGraph = function (t, n, o) {\n        var i = this;\n        if (void 0 === o && (o = void 0), !this.nodes.length) return new e([], []);\n        o || (o = function o(t) {\n          return t.weight;\n        });\n        var r = [],\n            s = new c.HashSet(),\n            a = new c.HashSet([], function (t) {\n          return t.getHashKey();\n        });\n\n        for (this.addNodeToSpanningGraph(t, n, r, s, a, o); r.length && s.length !== this.nodes.length;) {\n          var u = r.shift();\n          a.tryPush(u);\n          var h = s.contains(u.from) ? u.to : u.from;\n          this.addNodeToSpanningGraph(h, n, r, s, a, o), r = r.filter(function (t) {\n            return !s.contains(t.from) || !s.contains(t.to);\n          });\n        }\n\n        return new e(s.list().map(function (t) {\n          return i.getNode(t);\n        }), a.list());\n      }, e.prototype.addNodeToSpanningGraph = function (t, e, n, o, i, s) {\n        o.tryPush(t), this.getAdjacentEdges(t, e).filter(function (t) {\n          return !i.contains(t);\n        }).forEach(function (t) {\n          var e = s(t),\n              o = a.SearchUtils.binaryIndexOf(n, function (t) {\n            return t.weight - e;\n          });\n\n          for (o = o < 0 ? ~o : o; o < n.length && s(n[o]) === e;) o++;\n\n          n.splice(o, 0, new r.Edge(t.key, t.from, t.to, e));\n        });\n      }, e.create = function (t, n) {\n        return new e(t, n.filter(function (t) {\n          return t.beginItem && t.endItem instanceof s.Shape && t.endItem && t.endItem instanceof s.Shape && t.beginItem !== t.endItem;\n        }).map(function (t) {\n          return new r.Edge(t.key, t.beginItem && t.beginItem.key, t.endItem && t.endItem.key);\n        }));\n      }, e;\n    }(u);\n\n    e.Graph = h;\n\n    var p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.onInit = function () {\n        this.parentToChildren = {}, this.childToParents = {};\n      }, e.prototype.addEdge = function (e) {\n        t.prototype.addEdge.call(this, e), (this.parentToChildren[e.from] || (this.parentToChildren[e.from] = [])).push(e.to), (this.childToParents[e.to] || (this.childToParents[e.to] = [])).push(e.from);\n      }, e.prototype.getChildren = function (t) {\n        return this.parentToChildren[t] || [];\n      }, e.prototype.getParents = function (t) {\n        return this.childToParents[t] || [];\n      }, e.prototype.createIterator = function (t) {\n        return new l(this, t);\n      }, e;\n    }(u);\n\n    e.FastGraph = p;\n\n    var l = function () {\n      function t(t, e) {\n        void 0 === e && (e = r.ConnectionMode.OutgoingAndIncoming), this.graph = t, this.connectionMode = e, this.visitEachEdgeOnce = !0, this.visitEachNodeOnce = !0, this.visitedNodes = {}, this.visitedEdges = {};\n      }\n\n      return t.prototype.iterate = function (t) {\n        if (!this.visitEachNodeOnce && !this.visitEachEdgeOnce && !this.skipNode) throw \"skipNode or visitEachNodeOnce or visitEachEdgeOnce must be set to avoid SOF\";\n        this.iterateCore(t);\n      }, t.prototype.iterateCore = function (t) {\n        var e = this,\n            n = this.graph.getNode(t);\n\n        if (!(!n || this.skipNode && this.skipNode(n) || this.visitEachNodeOnce && this.isNodeVisited(t))) {\n          this.visitedNodes[t] = !0, this.onNode && this.onNode(n);\n          var o = this.graph.getAdjacentEdges(t, this.connectionMode);\n\n          if (this.skipEdge && (o = o.filter(function (t) {\n            return !e.skipEdge(t);\n          })), this.connectionMode & r.ConnectionMode.Outgoing) {\n            var i = o.filter(function (e) {\n              return e.from === t;\n            });\n            this.comparer && i.sort(this.comparer), i.forEach(function (t) {\n              e.visitEachEdgeOnce && e.visitedEdges[t.key] || (e.visitedEdges[t.key] = !0, e.onEdge && e.onEdge(t, !0), e.iterateCore(t.to), e.onAfterEdge && e.onAfterEdge(t, !0));\n            });\n          }\n\n          if (this.onAllEdges && this.onAllEdges(n, !0), this.connectionMode & r.ConnectionMode.Incoming) {\n            var s = o.filter(function (e) {\n              return e.to === t;\n            });\n            this.comparer && s.sort(this.comparer), s.forEach(function (t) {\n              e.visitEachEdgeOnce && e.visitedEdges[t.key] || (e.visitedEdges[t.key] = !0, e.onEdge && e.onEdge(t, !1), e.iterateCore(t.from), e.onAfterEdge && e.onAfterEdge(t, !1));\n            });\n          }\n\n          this.onAllEdges && this.onAllEdges(n, !1);\n        }\n      }, t.prototype.isNodeVisited = function (t) {\n        return !!this.visitedNodes[t];\n      }, t.prototype.isEdgeVisited = function (t) {\n        return !!this.visitedEdges[t];\n      }, t;\n    }();\n\n    e.GraphIterator = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Margin = e.EdgeLayout = e.NodeLayout = e.NodeInfo = void 0;\n\n    var o = n(11),\n        i = function () {\n      return function (t, e, n, o) {\n        void 0 === o && (o = []), this.key = t, this.margin = e, this.size = n, this.connectionPoints = o;\n      };\n    }();\n\n    e.NodeInfo = i;\n\n    var r = function () {\n      function t(t, e) {\n        this.info = t, this.position = e;\n      }\n\n      return Object.defineProperty(t.prototype, \"key\", {\n        get: function get() {\n          return this.info.key;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"rectangle\", {\n        get: function get() {\n          return o.Rectangle.fromGeometry(this.position, this.info.size);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t;\n    }();\n\n    e.NodeLayout = r;\n\n    var s = function () {\n      return function (t, e, n) {\n        this.key = t, this.beginIndex = e, this.endIndex = n;\n      };\n    }();\n\n    e.EdgeLayout = s;\n\n    var a = function () {\n      function t(t, e, n, o) {\n        void 0 === e && (e = t), void 0 === n && (n = t), void 0 === o && (o = t), this.top = t, this.right = e, this.bottom = n, this.left = o;\n      }\n\n      return t.empty = function () {\n        return new t(0);\n      }, t;\n    }();\n\n    e.Margin = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o31,\n        i = this && this.__extends || (_o31 = function o(t, e) {\n      return (_o31 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o31(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EllipseShapeDescription = void 0;\n\n    var r = n(7),\n        s = n(2),\n        a = n(54),\n        c = n(0),\n        u = n(3),\n        h = n(11),\n        p = function (t) {\n      function e(e) {\n        return t.call(this, new s.Size(r.ShapeDefaultDimension, .75 * r.ShapeDefaultDimension), e) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return c.ShapeTypes.Ellipse;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getTextRectangle = function (t) {\n        var e = u.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);\n        return h.Rectangle.fromGeometry(t.position.clone().offset((t.size.width - e.width) / 2, (t.size.height - e.height) / 2), e);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return u.GeometryUtils.getEllipseByEnscribedRectangle(t);\n      }, e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.width,\n            o = e.height,\n            i = e.center,\n            r = i.x,\n            s = i.y;\n        return [new a.EllipsePrimitive(r, s, n / 2, o / 2, t.style)];\n      }, e;\n    }(r.ShapeDescription);\n\n    e.EllipseShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Exporter = void 0;\n\n    var o = n(13),\n        i = n(6),\n        r = n(3),\n        s = function () {\n      function t() {}\n\n      return t.prototype.export = function (t) {\n        var e = {\n          page: {},\n          connectors: [],\n          shapes: []\n        };\n        return e.page = {\n          width: t.size.width,\n          height: t.size.height,\n          pageColor: t.pageColor,\n          pageWidth: t.pageSize.width,\n          pageHeight: t.pageSize.height,\n          pageLandscape: t.pageLandscape\n        }, this.exportItemsCore(t.items, e), JSON.stringify(e);\n      }, t.prototype.exportItems = function (t) {\n        var e = {\n          connectors: [],\n          shapes: []\n        };\n        return this.exportItemsCore(t, e), JSON.stringify(e);\n      }, t.prototype.exportItemsCore = function (t, e) {\n        var n = this;\n        t.forEach(function (t) {\n          if (t instanceof o.Shape) e.shapes.push(n.exportShape(t));else if (t instanceof i.Connector) {\n            var r = n.exportConnector(t);\n            t.beginItem && (r.beginItemKey = t.beginItem.key, r.beginConnectionPointIndex = t.beginConnectionPointIndex), t.endItem && (r.endItemKey = t.endItem.key, r.endConnectionPointIndex = t.endConnectionPointIndex), e.connectors.push(r);\n          }\n        });\n      }, t.prototype.exportItem = function (t) {\n        return {\n          key: t.key,\n          dataKey: t.dataKey,\n          customData: r.ObjectUtils.cloneObject(t.customData),\n          locked: t.locked,\n          zIndex: t.zIndex\n        };\n      }, t.prototype.exportShape = function (t) {\n        var e = this.exportItem(t);\n        e.type = t.description.key, e.text = t.text, t.image.isEmpty || (e.imageUrl = t.image.exportUrl), e.x = t.position.x, e.y = t.position.y, e.width = t.size.width, e.height = t.size.height;\n        var n = t.parameters.toObject();\n        n && (e.parameters = n);\n        var o = t.style.toObject();\n        o && (e.style = o);\n        var i = t.styleText.toObject();\n        return i && (e.styleText = i), t.children.length && (e.childKeys = t.children.map(function (t) {\n          return t.key;\n        })), t.expanded || (e.expanded = !1), t.expandedSize && (e.expandedWidth = t.expandedSize.width, e.expandedHeight = t.expandedSize.height), e;\n      }, t.prototype.exportConnector = function (t) {\n        var e = this.exportItem(t);\n        e.points = t.points.map(function (t) {\n          return {\n            x: t.x,\n            y: t.y\n          };\n        });\n        var n = t.texts.toObject();\n        n && (e.texts = n);\n        var o = t.properties.toObject();\n        o && (e.properties = o);\n        var i = t.style.toObject();\n        i && (e.style = i);\n        var r = t.styleText.toObject();\n        return r && (e.styleText = r), e;\n      }, t.prototype.exportSvg = function (t, e, n, o) {\n        n.exportSvgImage(t, e, o);\n      }, t.prototype.exportPng = function (t, e, n, o, i) {\n        n.exportPngImage(t, e, o, i);\n      }, t.prototype.exportJpg = function (t, e, n, o, i) {\n        n.exportJpgImage(t, e, o, i);\n      }, t;\n    }();\n\n    e.Exporter = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o32,\n        i = this && this.__extends || (_o32 = function o(t, e) {\n      return (_o32 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o32(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleStyleTextPropertyCommand = void 0;\n\n    var r = n(135),\n        s = n(68),\n        a = n(28),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.selection.inputPosition.getCurrentTextStylePropertyValue(this.getStyleProperty()) === this.getStylePropertyValue();\n      }, e.prototype.executeCore = function (t) {\n        var e = this;\n        this.control.history.beginTransaction();\n        var n = this.getStyleProperty(),\n            o = t.value ? a.TextStyle.defaultInstance[n] : this.getStylePropertyValue();\n        return this.control.selection.getSelectedItems().forEach(function (t) {\n          e.control.history.addAndRedo(new s.ChangeStyleTextHistoryItem(t.key, n, o));\n        }), this.control.selection.inputPosition.setTextStylePropertyValue(this.getStyleProperty(), o), this.control.history.endTransaction(), !0;\n      }, e.prototype.getStyleObj = function (t) {\n        return t.styleText;\n      }, e.prototype.getDefaultStyleObj = function () {\n        return new a.TextStyle();\n      }, e;\n    }(r.StylePropertyCommandBase);\n\n    e.ToggleStyleTextPropertyCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o33,\n        i = this && this.__extends || (_o33 = function o(t, e) {\n      return (_o33 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o33(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStylePropertyCommand = void 0;\n\n    var r = n(136),\n        s = n(89),\n        a = n(28),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.selection.inputPosition.getCurrentStylePropertyValue(this.getStyleProperty());\n      }, e.prototype.getStyleObj = function (t) {\n        return t.style;\n      }, e.prototype.getDefaultStyleObj = function () {\n        return new a.Style();\n      }, e.prototype.createHistoryItem = function (t, e, n) {\n        return new s.ChangeStyleHistoryItem(t.key, e, n);\n      }, e.prototype.updateInputPosition = function (t) {\n        this.control.selection.inputPosition.setStylePropertyValue(this.getStyleProperty(), t);\n      }, e;\n    }(r.ChangeStylePropertyCommandBase);\n\n    e.ChangeStylePropertyCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o34,\n        i = this && this.__extends || (_o34 = function o(t, e) {\n      return (_o34 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o34(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutCommandBase = void 0;\n\n    var r = n(4),\n        s = n(10),\n        a = n(13),\n        c = n(6),\n        u = n(3),\n        h = n(11),\n        p = n(251),\n        l = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        var n = this;\n        this.control.history.beginTransaction();\n        var o = this.getAffectedShapes(),\n            i = this.getAffectedConnectors(),\n            s = this.createLayoutSettings(),\n            a = r.ModelUtils.getGraphInfoByItems(this.control.model, o, i, !1);\n\n        if (a.length) {\n          var c,\n              l = this.control.model,\n              d = u.GeometryUtils.getCommonRectangle(u.Utils.flatten(a.map(function (t) {\n            return t.graph.items.map(function (t) {\n              return l.findItem(t.key);\n            });\n          })).concat(a.map(function (t) {\n            return t.container;\n          })).filter(function (t) {\n            return t;\n          }).map(function (t) {\n            return t.rectangle;\n          }));\n          this.control.history.addAndRedo(new p.ScrollIntoViewOnUndoHistoryItem(this.control.view, d)), a.forEach(function (t) {\n            var e = n.createLayout(s, t.graph),\n                a = r.ModelUtils.getNonGraphItems(n.control.model, t.container, e.nodeToLayout, o, i),\n                u = r.ModelUtils.applyLayout(n.control.history, n.control.model, t.container, t.graph, e, a, s, n.control.settings.snapToGrid, n.control.settings.gridSize, !1);\n            c = c && h.Rectangle.union(c, u) || u;\n          }), r.ModelUtils.tryUpdateModelRectangle(this.control.history), this.control.history.addAndRedo(new p.ScrollIntoViewOnRedoHistoryItem(this.control.view, c));\n        }\n\n        return this.control.history.endTransaction(), !0;\n      }, e.prototype.getAffectedShapes = function () {\n        return this.control.selection.isEmpty() ? this.control.model.items.filter(function (t) {\n          return t instanceof a.Shape && !t.locked;\n        }) : this.control.selection.getSelectedShapes(!1, !0);\n      }, e.prototype.getAffectedConnectors = function () {\n        return this.control.selection.isEmpty() ? this.control.model.items.filter(function (t) {\n          return t instanceof c.Connector && !t.locked;\n        }) : this.control.selection.getSelectedConnectors(!1, !0);\n      }, e;\n    }(s.SimpleCommandBase);\n\n    e.AutoLayoutCommandBase = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o35,\n        i = this && this.__extends || (_o35 = function o(t, e) {\n      return (_o35 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o35(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePagePropertyCommand = void 0;\n\n    var r = n(4),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        var n = this;\n        return this.control.history.beginTransaction(), this.createHistoryItems(e).forEach(function (t) {\n          n.control.history.addAndRedo(t);\n        }), r.ModelUtils.tryUpdateModelRectangle(this.control.history), this.control.history.endTransaction(), !0;\n      }, e.prototype.getItems = function () {\n        return null;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ChangePagePropertyCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o36,\n        i = this && this.__extends || (_o36 = function o(t, e) {\n      return (_o36 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o36(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasItemsManager = e.CONNECTOR_CAN_MOVE = e.NOT_VALID_CSSCLASS = void 0;\n    var r = n(99),\n        s = n(14),\n        a = n(40),\n        c = n(17),\n        u = n(13),\n        h = n(6),\n        p = n(24),\n        l = n(141),\n        d = n(4);\n    e.NOT_VALID_CSSCLASS = \"not-valid\", e.CONNECTOR_CAN_MOVE = \"can-move\";\n\n    var f = function (t) {\n      function n(e, n, o) {\n        var i = t.call(this, n, o) || this;\n        return i.itemSelectorGroupContainers = {}, i.itemSelectorElements = {}, i.itemGroupContainers = {}, i.itemElements = {}, i.itemChildElements = {}, i.primitives = {}, i.selectorPrimitives = {}, i.selectedItems = {}, i.initializeContainerElements(e), i;\n      }\n\n      return i(n, t), n.prototype.initializeContainerElements = function (t) {\n        this.itemSelectorsContainer = this.createAndChangePrimitiveElement(new a.GroupPrimitive([], null), t), this.itemsContainer = this.createAndChangePrimitiveElement(new a.GroupPrimitive([], null), t);\n      }, n.prototype.clear = function () {\n        this.primitives = {}, this.selectorPrimitives = {}, c.RenderUtils.removeContent(this.itemSelectorsContainer), c.RenderUtils.removeContent(this.itemsContainer), this.itemSelectorGroupContainers = {}, this.itemSelectorElements = {}, this.itemGroupContainers = {}, this.itemElements = {}, this.itemChildElements = {}, this.selectedItems = {};\n      }, n.prototype.applyChange = function (t) {\n        var e = t.item;\n        return !!this.getItemParent(e.zIndex, e.container && e.container.key) && (e instanceof u.Shape ? this.applyShapeChange(e, t.type, t.isValid) : e instanceof h.Connector && this.applyConnectorChange(e, t.type, t.isValid), !0);\n      }, n.prototype.setPointerEventsNone = function (t, e) {\n        var n = t.style;\n        void 0 !== n && void 0 !== n.pointerEvents && (n.pointerEvents = e ? \"none\" : \"\");\n\n        for (var o = t.childNodes, i = 0; i < o.length; i++) this.setPointerEventsNone(o[i], e);\n      }, n.prototype.notifyDragStart = function (t) {\n        var e = this;\n        t.forEach(function (t) {\n          e.itemElements[t] && e.setPointerEventsNone(e.itemElements[t], !0), e.itemChildElements[t] && e.setPointerEventsNone(e.itemChildElements[t], !0), e.itemSelectorElements[t] && e.setPointerEventsNone(e.itemSelectorElements[t], !0);\n        });\n      }, n.prototype.notifyDragEnd = function (t) {\n        var e = this;\n        t.forEach(function (t) {\n          e.itemElements[t] && e.setPointerEventsNone(e.itemElements[t], !1), e.itemChildElements[t] && e.setPointerEventsNone(e.itemChildElements[t], !1), e.itemSelectorElements[t] && e.setPointerEventsNone(e.itemSelectorElements[t], !1);\n        });\n      }, n.prototype.notifyDragScrollStart = function () {}, n.prototype.notifyDragScrollEnd = function () {}, n.prototype.notifyTextInputStart = function (t, e, n, o) {\n        var i = this.itemElements[t.key];\n        p.DomUtils.addClassName(i, \"text-input\");\n      }, n.prototype.notifyTextInputEnd = function (t) {\n        var e = this.itemElements[t.key];\n        p.DomUtils.removeClassName(e, \"text-input\");\n      }, n.prototype.notifyTextInputPermissionsCheck = function (t, n) {\n        var o = this.itemElements[t.key];\n        n ? p.DomUtils.removeClassName(o, e.NOT_VALID_CSSCLASS) : p.DomUtils.addClassName(o, e.NOT_VALID_CSSCLASS);\n      }, n.prototype.notifyActualZoomChanged = function (t) {\n        var e = \"scale(\" + t + \")\";\n        this.dom.changeByFunc(this.itemsContainer, function (t) {\n          return t.setAttribute(\"transform\", e);\n        }), this.dom.changeByFunc(this.itemSelectorsContainer, function (t) {\n          return t.setAttribute(\"transform\", e);\n        }), this.actualZoom = t;\n      }, n.prototype.notifyViewAdjusted = function (t) {}, n.prototype.invalidatePrimitives = function (t) {\n        this.primitives[t.key] && (this.primitives[t.key].forEach(function (t) {\n          t.dispose();\n        }), delete this.primitives[t.key]), this.selectorPrimitives[t.key] && (this.selectorPrimitives[t.key].forEach(function (t) {\n          t.dispose();\n        }), delete this.selectorPrimitives[t.key]);\n      }, n.prototype.getPrimitives = function (t) {\n        return this.primitives[t.key] || (this.primitives[t.key] = t.createPrimitives()), this.primitives[t.key];\n      }, n.prototype.getSelectorPrimitives = function (t) {\n        return this.selectorPrimitives[t.key] || (this.selectorPrimitives[t.key] = t.createSelectorPrimitives()), this.selectorPrimitives[t.key];\n      }, n.prototype.getShapeSelectorClassName = function (t) {\n        var e = \"shape\";\n        return t.enableChildren && (e += \" container\"), t.isLocked && (e += \" locked\"), e;\n      }, n.prototype.getShapeClassName = function (t, n) {\n        var o = this.getShapeSelectorClassName(t);\n        return n ? o : o + \" \" + e.NOT_VALID_CSSCLASS;\n      }, n.prototype.applyShapeChange = function (t, e, n) {\n        var o = t.key,\n            i = t.container && t.container.key,\n            a = this.getItemSelectorGroupContainer(t.zIndex, i),\n            c = this.getItemGroupContainer(t.zIndex, i),\n            u = this.getShapeClassName(t, n);\n\n        switch (e) {\n          case r.ItemChangeType.Create:\n            this.itemSelectorElements[o] = this.createItemElements(o, this.getSelectorPrimitives(t), a, this.getShapeSelectorClassName(t), s.MouseEventElementType.Shape), this.itemElements[o] = this.createItemElements(o, this.getPrimitives(t), c, u, s.MouseEventElementType.Shape), t.enableChildren && (this.itemChildElements[o] = this.createItemElements(o, [], c, \"container-children\", s.MouseEventElementType.Undefined), this.changeItemChildrenVisibility(this.itemChildElements[o], t.expanded));\n            break;\n\n          case r.ItemChangeType.Remove:\n            this.removeItemCustomContent(this.itemSelectorElements[o], this.getSelectorPrimitives(t)), this.removeItemCustomContent(this.itemElements[o], this.getPrimitives(t)), this.invalidatePrimitives(t), this.removeItemElements(this.itemSelectorElements[o]), delete this.itemSelectorElements[o], this.removeItemElements(this.itemElements[o]), delete this.itemElements[o], this.itemChildElements[o] && (this.removeItemElements(this.itemChildElements[o]), delete this.itemChildElements[o], delete this.itemGroupContainers[o], delete this.itemSelectorGroupContainers[o]);\n            break;\n\n          case r.ItemChangeType.UpdateStructure:\n          case r.ItemChangeType.UpdateProperties:\n          case r.ItemChangeType.Update:\n            e !== r.ItemChangeType.Update && (e === r.ItemChangeType.UpdateStructure && (this.removeItemCustomContent(this.itemSelectorElements[o], this.getSelectorPrimitives(t)), this.removeItemCustomContent(this.itemElements[o], this.getPrimitives(t))), this.invalidatePrimitives(t)), this.changeItemElements(this.getSelectorPrimitives(t), this.itemSelectorElements[o], e === r.ItemChangeType.UpdateStructure), this.changeItemElements(this.getPrimitives(t), this.itemElements[o], e === r.ItemChangeType.UpdateStructure), this.changeItemClassName(this.itemElements[o], u), this.itemChildElements[o] && this.changeItemChildrenVisibility(this.itemChildElements[o], t.expanded), a !== (this.itemSelectorElements[o] && this.itemSelectorElements[o].parentNode) && this.moveItemElements(a, this.itemSelectorElements[o]), c !== (this.itemElements[o] && this.itemElements[o].parentNode) && this.moveItemElements(c, this.itemElements[o]), this.itemChildElements[o] && c !== this.itemChildElements[o].parentNode && this.moveItemElements(c, this.itemChildElements[o]);\n            break;\n\n          case r.ItemChangeType.UpdateClassName:\n            this.changeItemClassName(this.itemElements[o], u);\n        }\n      }, n.prototype.getConnectorSelectorClassName = function (t) {\n        return d.ModelUtils.canMoveConnector(this.selectedItems, t) ? \"connector \" + e.CONNECTOR_CAN_MOVE : \"connector\";\n      }, n.prototype.getConnectorClassName = function (t, n) {\n        var o = this.getConnectorSelectorClassName(t);\n        return n ? o : o + \" \" + e.NOT_VALID_CSSCLASS;\n      }, n.prototype.applyConnectorChange = function (t, e, n) {\n        var o = t.key,\n            i = t.container && t.container.key,\n            a = this.getItemSelectorGroupContainer(t.zIndex, i),\n            c = this.getItemGroupContainer(t.zIndex, i),\n            u = this.getConnectorClassName(t, n);\n\n        switch (e) {\n          case r.ItemChangeType.Create:\n            this.itemSelectorElements[o] = this.createItemElements(o, this.getSelectorPrimitives(t), a, this.getConnectorSelectorClassName(t), s.MouseEventElementType.Connector), this.itemElements[o] = this.createItemElements(o, this.getPrimitives(t), c, u, s.MouseEventElementType.Connector);\n            break;\n\n          case r.ItemChangeType.Remove:\n            this.removeItemCustomContent(this.itemSelectorElements[o], this.getSelectorPrimitives(t)), this.removeItemCustomContent(this.itemElements[o], this.getPrimitives(t)), this.invalidatePrimitives(t), this.removeItemElements(this.itemSelectorElements[o]), delete this.itemSelectorElements[o], this.removeItemElements(this.itemElements[o]), delete this.itemElements[o];\n            break;\n\n          case r.ItemChangeType.UpdateStructure:\n          case r.ItemChangeType.UpdateProperties:\n          case r.ItemChangeType.Update:\n            e !== r.ItemChangeType.Update && (e === r.ItemChangeType.UpdateStructure && (this.removeItemCustomContent(this.itemSelectorElements[o], this.getSelectorPrimitives(t)), this.removeItemCustomContent(this.itemElements[o], this.getPrimitives(t))), this.invalidatePrimitives(t)), this.changeItemElements(this.getSelectorPrimitives(t), this.itemSelectorElements[o], e === r.ItemChangeType.UpdateStructure), this.changeItemClassName(this.itemSelectorElements[o], this.getConnectorSelectorClassName(t)), this.changeItemElements(this.getPrimitives(t), this.itemElements[o], e === r.ItemChangeType.UpdateStructure), this.changeItemClassName(this.itemElements[o], u), a !== (this.itemSelectorElements[o] && this.itemSelectorElements[o].parentNode) && this.moveItemElements(a, this.itemSelectorElements[o]), c !== (this.itemElements[o] && this.itemElements[o].parentNode) && this.moveItemElements(c, this.itemElements[o]);\n            break;\n\n          case r.ItemChangeType.UpdateClassName:\n            this.changeItemClassName(this.itemSelectorElements[o], this.getConnectorSelectorClassName(t)), this.changeItemClassName(this.itemElements[o], u);\n        }\n      }, n.prototype.createItemElements = function (t, e, n, o, i) {\n        var r = this.createAndChangePrimitiveElement(new a.GroupPrimitive([], o, void 0, void 0, function (e) {\n          return c.RenderUtils.setElementEventData(e, i, t);\n        }), n);\n        return this.createAndChangePrimitivesElements(e, r), r;\n      }, n.prototype.changeItemElements = function (t, e, n) {\n        n || t.length !== e.childNodes.length ? (c.RenderUtils.removeContent(e), this.createAndChangePrimitivesElements(t, e)) : this.dom.changeChildrenByPrimitives(t, e);\n      }, n.prototype.changeItemClassName = function (t, e) {\n        e && t && this.changePrimitiveElement(new a.GroupPrimitive([], e), t);\n      }, n.prototype.removeItemElements = function (t) {\n        t && t.parentNode && t.parentNode.removeChild(t);\n      }, n.prototype.removeItemCustomContent = function (t, e) {\n        t && e && e.length === t.childNodes.length && e.forEach(function (e, n) {\n          e.destroyCustomContent(t.childNodes[n]);\n        });\n      }, n.prototype.moveItemElements = function (t, e, n) {\n        e && t && (n ? t.insertBefore(e, n) : t.appendChild(e));\n      }, n.prototype.changeItemChildrenVisibility = function (t, e) {\n        t.style.display = e ? \"\" : \"none\";\n      }, n.prototype.getItemGroupContainerKey = function (t, e) {\n        return void 0 !== e ? t + \"_\" + e : t.toString();\n      }, n.prototype.getItemGroupContainer = function (t, e) {\n        var n = void 0 !== e ? this.getItemParent(t, e) : this.itemsContainer,\n            o = e || \"Main\";\n        return void 0 !== this.itemGroupContainers[o] && void 0 !== this.itemGroupContainers[o][t] || (void 0 === this.itemGroupContainers[o] && (this.itemGroupContainers[o] = []), this.itemGroupContainers[o][t] = this.createAndChangePrimitiveElement(new a.GroupPrimitive([], null, t), n, this.itemGroupContainers[o][t + 1])), this.itemGroupContainers[o][t];\n      }, n.prototype.getItemSelectorGroupContainer = function (t, e) {\n        var n = void 0 !== e ? this.getItemSelectorParent(t, e) : this.itemSelectorsContainer,\n            o = e || \"Main\";\n        return void 0 !== this.itemSelectorGroupContainers[o] && void 0 !== this.itemSelectorGroupContainers[o][t] || (void 0 === this.itemSelectorGroupContainers[o] && (this.itemSelectorGroupContainers[o] = []), this.itemSelectorGroupContainers[o][t] = this.createAndChangePrimitiveElement(new a.GroupPrimitive([], null, t), n, this.itemSelectorGroupContainers[o][t + 1])), this.itemSelectorGroupContainers[o][t];\n      }, n.prototype.getItemParent = function (t, e) {\n        return void 0 !== e ? this.itemChildElements[e] : this.getItemGroupContainer(t);\n      }, n.prototype.getItemSelectorParent = function (t, e) {\n        return void 0 !== e ? this.itemChildElements[e] : this.getItemSelectorGroupContainer(t);\n      }, n.prototype.notifySelectionChanged = function (t) {\n        var e = this,\n            n = d.ModelUtils.createSelectedItems(t),\n            o = [];\n        this.populateItems(o, n, this.selectedItems), this.populateItems(o, this.selectedItems, n), this.selectedItems = n, o.forEach(function (t) {\n          t instanceof h.Connector && e.applyOrPostponeChanges([new r.ItemChange(t, r.ItemChangeType.UpdateClassName, !0)]);\n        });\n      }, n.prototype.populateItems = function (t, e, n) {\n        Object.keys(e).forEach(function (o) {\n          n[o] || t.push(e[o]);\n        });\n      }, n;\n    }(l.CanvasManager);\n\n    e.CanvasItemsManager = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextMeasurer = void 0;\n\n    var o = n(2),\n        i = n(17),\n        r = n(13),\n        s = n(6),\n        a = n(44),\n        c = n(15),\n        u = n(63),\n        h = function () {\n      function t(t) {\n        this.cache = {}, this.fontSizeCache = {}, this.containers = {}, this.parent = t, this.createNodes();\n      }\n\n      return t.prototype.measureWords = function (t, e, n) {\n        var o = this,\n            i = {\n          words: {},\n          fontSize: -1\n        },\n            r = \"string\" == typeof t ? this.splitToWords(t, !1) : t.reduce(function (t, e) {\n          return t.concat(o.splitToWords(e, !1));\n        }, []);\n        r.push(\" \");\n        var s = this.getStyleHash(e, n),\n            a = this.tryLoadWordsToMeasurer(r, e, s, n, void 0, void 0, void 0, void 0, i);\n\n        if (a) {\n          var c = this.containers[n];\n          this.putElementsInDOM(c, a), this.beforeMeasureInDOM(), this.measureElementsInDOM(a, i), this.afterMeasureInDOM();\n        }\n\n        return i;\n      }, t.prototype.measureTextLine = function (t, e, n) {\n        var o = this.measureWords(t, e, n);\n        return u.getTextLineSize(t, o);\n      }, t.prototype.onNewModel = function (t, e) {\n        var n = this;\n        e.changeByFunc(null, function () {\n          return n.onNewModelCore(t);\n        });\n      }, t.prototype.onNewModelCore = function (t) {\n        var e = t.filter(function (t) {\n          return t instanceof r.Shape;\n        }),\n            n = t.filter(function (t) {\n          return t instanceof s.Connector;\n        }),\n            o = this.tryLoadShapeTexts(e),\n            i = this.tryLoadConnectorTexts(n);\n        (o || i) && (o && this.putElementsInDOM(this.containers[a.TextOwner.Shape], o), i && this.putElementsInDOM(this.containers[a.TextOwner.Connector], i), this.beforeMeasureInDOM(), o && this.measureElementsInDOM(o), i && this.measureElementsInDOM(i), this.afterMeasureInDOM());\n      }, t.prototype.replaceParent = function (t) {\n        this.parent !== t && (this.mainElement.parentNode && t.appendChild(this.mainElement), this.parent = t);\n      }, t.prototype.clean = function () {\n        i.RenderUtils.removeElement(this.mainElement);\n      }, t.prototype.tryLoadShapeTexts = function (t) {\n        var e = this,\n            n = {},\n            o = [],\n            i = [],\n            r = [];\n        return t.forEach(function (t) {\n          var s = e.getStyleHash(t.styleText, a.TextOwner.Shape);\n          e.tryLoadWordsToMeasurer(e.splitToWords(t.text, !0), t.styleText, s, a.TextOwner.Shape, n, o, i, r);\n        }), o.length ? {\n          elements: o,\n          hashes: i,\n          styleHashes: r\n        } : null;\n      }, t.prototype.tryLoadConnectorTexts = function (t) {\n        var e = this,\n            n = {},\n            o = [],\n            i = [],\n            r = [];\n        return t.forEach(function (t) {\n          var s = t.texts.map(function (t) {\n            return t.value;\n          }).reduce(function (t, n) {\n            return t.concat(e.splitToWords(n, !1));\n          }, []);\n\n          if (s.length) {\n            s.push(\" \");\n            var c = e.getStyleHash(t.styleText, a.TextOwner.Connector);\n            e.tryLoadWordsToMeasurer(s, t.styleText, c, a.TextOwner.Connector, n, o, i, r);\n          }\n        }), o.length ? {\n          elements: o,\n          hashes: i,\n          styleHashes: r\n        } : null;\n      }, t.prototype.tryLoadWordsToMeasurer = function (t, e, n, o, i, r, s, a, c) {\n        var u = this,\n            h = [];\n        return r = r || [], s = s || [], a = a || [], i = i || {}, t.forEach(function (t) {\n          return u.tryLoadWordToMeasurer(t, e, n, o, i, r, s, a, h, c);\n        }), r.length ? {\n          elements: r,\n          hashes: s,\n          styleHashes: a,\n          newWords: h\n        } : null;\n      }, t.prototype.putElementsInDOM = function (t, e) {\n        for (t.parentNode && t.parentNode.removeChild(t); t.firstChild;) t.removeChild(t.firstChild);\n\n        e.elements.forEach(function (e) {\n          return t.appendChild(e);\n        }), this.svgElement.appendChild(t);\n      }, t.prototype.measureElementsInDOM = function (t, e) {\n        for (var n = t.hashes, o = t.elements, i = t.newWords, r = n.length, s = 0; s < r; s++) {\n          var a = this.getDomElementSize(o[s]);\n          a && (a.isEmpty() || (this.cache[n[s]] = a), e && (e.words[i[s]] = a));\n          var c = t.styleHashes[s];\n          void 0 === this.fontSizeCache[c] && (this.fontSizeCache[c] = this.getDomFontSize(o[s])), e && e.fontSize < 0 && (e.fontSize = this.fontSizeCache[c]);\n        }\n      }, t.prototype.beforeMeasureInDOM = function () {\n        this.parent.appendChild(this.mainElement);\n      }, t.prototype.afterMeasureInDOM = function () {\n        this.mainElement.parentNode && this.mainElement.parentNode.removeChild(this.mainElement);\n      }, t.prototype.tryLoadWordToMeasurer = function (t, e, n, o, i, r, s, a, c, u) {\n        var h = this.getHash(t, e, o),\n            p = this.cache[h];\n        p || i[h] ? p && u && (u.words[t] = p, u.fontSize = this.fontSizeCache[n]) : (i[h] = !0, s.push(h), r.push(this.createElement(t, e)), a.push(n), c.push(t));\n      }, t.prototype.getHash = function (t, e, n) {\n        return n + \"|\" + (e && e.toHash()) + \"|\" + t;\n      }, t.prototype.getStyleHash = function (t, e) {\n        return this.getHash(\" \", t, e);\n      }, t.prototype.createElement = function (t, e) {\n        var n = document.createElementNS(c.svgNS, \"text\");\n        return \" \" === t && n.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\"), n.textContent = t, e && i.RenderUtils.applyStyleToElement(e, n), n;\n      }, t.prototype.splitToWords = function (t, e) {\n        var n = u.textToWords(t);\n        return e && n.push(\" \"), n;\n      }, t.prototype.getDomFontSize = function (t) {\n        return parseFloat(window.getComputedStyle(t).fontSize);\n      }, t.prototype.getDomElementSize = function (t) {\n        var e;\n\n        try {\n          e = t.getBBox();\n        } catch (t) {}\n\n        return e ? new o.Size(e.width, e.height) : new o.Size(0, 0);\n      }, t.prototype.createNodes = function () {\n        this.mainElement = c.RenderHelper.createMainElement(void 0, !0), this.svgElement = c.RenderHelper.createSvgElement(this.mainElement, !1), this.createContainer(a.TextOwner.Shape, \"shape\"), this.createContainer(a.TextOwner.Connector, \"connector\"), this.createContainer(a.TextOwner.ExtensionLine, \"extension-line\"), this.createContainer(a.TextOwner.Resize, \"resize-info\");\n      }, t.prototype.createContainer = function (t, e) {\n        var n = document.createElementNS(c.svgNS, \"g\");\n        n.setAttribute(\"class\", e), this.containers[t] = n;\n      }, t;\n    }();\n\n    e.TextMeasurer = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o37,\n        i = this && this.__extends || (_o37 = function o(t, e) {\n      return (_o37 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o37(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EdgeOnLayer = e.NodeOnLayer = e.SugiyamaNodesOrderer = e.SugiyamaLayerDistributor = e.SugiyamaLayoutBuilder = void 0;\n\n    var r = n(140),\n        s = n(69),\n        a = n(70),\n        c = n(39),\n        u = n(90),\n        h = n(42),\n        p = n(1),\n        l = n(20),\n        d = n(139),\n        f = n(6),\n        y = n(270),\n        g = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.build = function () {\n        var t = this,\n            e = 0,\n            n = new d.GraphLayout(),\n            o = new v();\n        return this.graph.getConnectedComponents().forEach(function (i) {\n          var r = y.CycleRemover.removeCycles(i),\n              s = m.getLayers(r.graph),\n              a = o.orderNodes(r.graph, s),\n              c = Object.keys(r.removedEdges).map(function (t) {\n            return i.getEdge(t);\n          }),\n              u = o.assignAbsCoordinates(a),\n              h = t.createInfoGraphLayout(u, r.reversedEdges, c);\n          n.extend(t.setComponentOffset(h, e)), e += t.getComponentOffset(h);\n        }), n;\n      }, e.prototype.createInfoGraphLayout = function (t, e, n) {\n        for (var o = this, i = new p.Point(0, 0), r = t.items, s = new u.HashSet(r.map(function (t) {\n          return t.layer;\n        }).sort(function (t, e) {\n          return t - e;\n        })), a = this.getAbsOffsetInfo(t.items), c = {}, h = 0, f = Number.MAX_SAFE_INTEGER || Number.MAX_VALUE, y = Number.MIN_SAFE_INTEGER || Number.MAX_VALUE, g = function g(t) {\n          var e = s.item(t),\n              n = 0;\n          r.filter(function (t) {\n            return t.layer === e;\n          }).sort(function (t, e) {\n            return t.position - e.position;\n          }).forEach(function (t) {\n            var e = o.getDepthNodeSize(t),\n                r = o.chooseDirectionValue(0, e),\n                s = o.getAbsPosition(t.position, o.getBreadthNodeSize(t), a);\n            i = o.setBreadth(i, s);\n            var u = o.setDepthOffset(i, -r);\n\n            if (c[t.key] = u, !t.isDummy) {\n              var h = o.settings.orientation === l.DataLayoutOrientation.Horizontal ? u.y : u.x;\n              f = Math.min(f, h), y = Math.max(y, h + o.getBreadthNodeSize(t)), n = Math.max(n, o.getDepthNodeSize(t));\n            }\n          }), h += n, i = m.setBreadth(i, 0), i = m.setDepthOffset(i, m.getDirectionValue(n + m.settings.layerSpacing));\n        }, m = this, v = 0; v < s.length; v++) g(v);\n\n        h += (s.length - 1) * this.settings.layerSpacing;\n        var P = new d.GraphLayout();\n        return this.createNodesLayout(t, P, f, h, c), this.createEdgesLayout(t, P, e, n), P;\n      }, e.prototype.createNodesLayout = function (t, e, n, o, i) {\n        var r = this,\n            s = this.settings.orientation === l.DataLayoutOrientation.Vertical ? new p.Point(-n, this.chooseDirectionValue(0, o)) : new p.Point(this.chooseDirectionValue(0, o), -n);\n        t.items.forEach(function (t) {\n          if (!t.isDummy) {\n            var n = r.graph.getNode(t.key);\n            e.addNode(new a.NodeLayout(n, i[t.key].clone().offset(s.x, s.y)));\n          }\n        });\n      }, e.prototype.createEdgesLayout = function (t, e, n, o) {\n        var i = this.getDirectEdgeLayout(),\n            r = this.getDiffLevelEdgeLayout(!0),\n            s = this.getDiffLevelEdgeLayout(!1),\n            c = this.getSameLevelEdgeLayout(!0),\n            u = this.getSameLevelEdgeLayout(!1),\n            h = {};\n        t.edges.filter(function (t) {\n          return !t.isDummy;\n        }).concat(o.map(function (t) {\n          return new S(t.key, !1, t.from, t.to);\n        })).sort(function (e, n) {\n          return t.getNode(e.originFrom).layer - t.getNode(n.originFrom).layer || t.getNode(e.to).layer - t.getNode(n.to).layer;\n        }).forEach(function (o) {\n          var p = n[o.key],\n              l = t.getNode(p ? o.to : o.originFrom),\n              d = t.getNode(p ? o.originFrom : o.to);\n          if (d.layer - l.layer == 1) e.addEdge(new a.EdgeLayout(o.key, i.from, i.to));else {\n            var y = [];\n            if (d.position - l.position >= 1) y.push(r), y.push({\n              from: i.from,\n              to: r.to\n            }), y.push({\n              from: r.from,\n              to: i.to\n            });else if (d.position - l.position <= -1) y.push(s), y.push({\n              from: i.from,\n              to: s.to\n            }), y.push({\n              from: s.from,\n              to: i.to\n            });else {\n              var g = l.position === d.position && 0 === d.position ? [c, u] : [u, c];\n              g.forEach(function (t) {\n                return y.push(t);\n              }), g.forEach(function (t) {\n                y.push({\n                  from: t.from,\n                  to: i.to\n                }), y.push({\n                  from: i.from,\n                  to: t.to\n                });\n              });\n            }\n            y.push(i);\n\n            for (var m = 0, v = void 0; v = y[m]; m++) {\n              var P = l.key + \"_\" + v.from,\n                  C = d.key + \"_\" + v.to;\n\n              if (h[P] !== f.ConnectorPosition.End && h[C] !== f.ConnectorPosition.Begin) {\n                e.addEdge(new a.EdgeLayout(o.key, v.from, v.to)), h[P] = f.ConnectorPosition.Begin, h[C] = f.ConnectorPosition.End;\n                break;\n              }\n            }\n          }\n        });\n      }, e.prototype.getDirectEdgeLayout = function () {\n        return this.settings.orientation === l.DataLayoutOrientation.Horizontal ? this.settings.direction === l.LogicalDirectionKind.Forward ? {\n          from: 1,\n          to: 3\n        } : {\n          from: 3,\n          to: 1\n        } : this.settings.direction === l.LogicalDirectionKind.Forward ? {\n          from: 2,\n          to: 0\n        } : {\n          from: 0,\n          to: 2\n        };\n      }, e.prototype.getDiffLevelEdgeLayout = function (t) {\n        return this.settings.orientation === l.DataLayoutOrientation.Horizontal ? t ? {\n          from: 2,\n          to: 0\n        } : {\n          from: 0,\n          to: 2\n        } : t ? {\n          from: 3,\n          to: 1\n        } : {\n          from: 1,\n          to: 3\n        };\n      }, e.prototype.getSameLevelEdgeLayout = function (t) {\n        return this.settings.orientation === l.DataLayoutOrientation.Horizontal ? t ? {\n          from: 0,\n          to: 0\n        } : {\n          from: 2,\n          to: 2\n        } : t ? {\n          from: 3,\n          to: 3\n        } : {\n          from: 1,\n          to: 1\n        };\n      }, e.prototype.getAbsOffsetInfo = function (t) {\n        var e = this,\n            n = {},\n            o = function o(t, _o38) {\n          void 0 === n[_o38] && (n[_o38] = e.getBreadthNodeSize(t)), n[_o38] = Math.max(n[_o38], e.getBreadthNodeSize(t));\n        };\n\n        t.forEach(function (t) {\n          var e = b(t.position);\n          o(t, e), n[e] % 1 != 0 && o(t, e + 1);\n        });\n        var i = {},\n            r = 0;\n        return Object.keys(n).sort(function (t, e) {\n          return parseFloat(t) - parseFloat(e);\n        }).forEach(function (t) {\n          i[t] = {\n            leftOffset: r,\n            width: n[t]\n          }, r += n[t] + e.settings.columnSpacing;\n        }), i;\n      }, e.prototype.setBreadth = function (t, e) {\n        return this.settings.orientation === l.DataLayoutOrientation.Vertical ? new p.Point(e, t.y) : new p.Point(t.x, e);\n      }, e.prototype.setDepthOffset = function (t, e) {\n        return this.settings.orientation === l.DataLayoutOrientation.Horizontal ? new p.Point(t.x + e, t.y) : new p.Point(t.x, t.y + e);\n      }, e.prototype.getAbsPosition = function (t, e, n) {\n        var o = b(t),\n            i = n[o].leftOffset,\n            r = n[o].width;\n        return t % 1 == 0 ? i + (r - e) / 2 : i + r - (e - this.settings.columnSpacing) / 2;\n      }, e.prototype.getBreadthNodeSize = function (t) {\n        return t.isDummy ? 0 : this.getBreadthNodeSizeCore(this.graph.getNode(t.key));\n      }, e.prototype.getDepthNodeSize = function (t) {\n        return t.isDummy ? 0 : this.getDepthNodeSizeCore(this.graph.getNode(t.key));\n      }, e;\n    }(r.LayoutBuilder);\n\n    e.SugiyamaLayoutBuilder = g;\n\n    var m = function () {\n      function t() {}\n\n      return t.getLayers = function (t) {\n        var e = this.getFeasibleTree(t);\n        return this.calcNodesLayers(e);\n      }, t.getFeasibleTree = function (t) {\n        var e = this.initLayerAssignment(t);\n        return t.getSpanningGraph(t.nodes[0], c.ConnectionMode.OutgoingAndIncoming, function (t) {\n          return e[t.to] - e[t.from];\n        });\n      }, t.initLayerAssignment = function (t) {\n        for (var e = {}, n = 0, o = {}, i = t.nodes.filter(function (e) {\n          return !t.getAdjacentEdges(e, c.ConnectionMode.Incoming).length;\n        }), r = function r() {\n          i.forEach(function (t) {\n            e[t] = n, o[t] = !0;\n          }), Object.keys(o).forEach(function (n) {\n            0 === t.getAdjacentEdges(n, c.ConnectionMode.Outgoing).filter(function (t) {\n              return void 0 === e[t.to];\n            }).length && delete o[n];\n          });\n          var r = {};\n          Object.keys(o).forEach(function (n) {\n            t.getAdjacentEdges(n, c.ConnectionMode.Outgoing).map(function (t) {\n              return t.to;\n            }).filter(function (n) {\n              return void 0 === e[n] && t.getAdjacentEdges(n, c.ConnectionMode.Incoming).reduce(function (t, n) {\n                return t && void 0 !== e[n.from];\n              }, !0);\n            }).forEach(function (t) {\n              return r[t] = !0;\n            });\n          }), i = Object.keys(r), n++;\n        }; i.length;) r();\n\n        return e;\n      }, t.calcNodesLayers = function (t) {\n        var e = {},\n            n = Number.MAX_SAFE_INTEGER || Number.MAX_VALUE,\n            o = 0,\n            i = t.createIterator(c.ConnectionMode.OutgoingAndIncoming);\n\n        for (var r in i.visitEachEdgeOnce = !1, i.onNode = function (t) {\n          e[t.key] = o, n = Math.min(n, o);\n        }, i.skipNode = function (t) {\n          return void 0 !== e[t.key];\n        }, i.skipEdge = function (t) {\n          return void 0 !== e[t.from] && void 0 !== e[t.to];\n        }, i.onEdge = function (t, n) {\n          o = n ? e[t.from] + 1 : e[t.to] - 1;\n        }, i.iterate(t.nodes[0]), e) Object.prototype.hasOwnProperty.call(e, r) && (e[r] -= n);\n\n        return e;\n      }, t;\n    }();\n\n    e.SugiyamaLayerDistributor = m;\n\n    var v = function () {\n      function t() {\n        this.idCounter = -1e4;\n      }\n\n      return t.prototype.orderNodes = function (t, e) {\n        for (var n = 1, o = this.initGraphInfo(t, e), i = o.items, r = this.initOrder(i), s = this.getNodeToPositionMap(i), a = this.getCrossCount(r, o), c = !0; n < 14 && 0 !== a;) {\n          r = this.getNodesOrder(r, o, c);\n          var u = this.getCrossCount(r, o);\n          u < a && (s = this.getNodeToPositionMap(o.items), a = u), c = !c, n++;\n        }\n\n        return o.items.forEach(function (t) {\n          return t.position = s[t.key];\n        }), o;\n      }, t.prototype.getNodesOrder = function (t, e, n) {\n        var o = this,\n            i = {},\n            r = function r(_r2) {\n          if (!Object.prototype.hasOwnProperty.call(t, _r2)) return \"continue\";\n          var a = {},\n              c = [];\n          t[_r2].forEach(function (t) {\n            var i = (n ? e.getChildren(t.key) : e.getParents(t.key)).map(function (t) {\n              return e.getNode(t).position;\n            });\n            c.push(t.key), a[t.key] = o.getNodePosition(i);\n          }), i[_r2] = s.sortNodes(c, a, e);\n        },\n            s = this;\n\n        for (var a in t) r(a);\n\n        return i;\n      }, t.prototype.sortNodes = function (t, e, n) {\n        return t.sort(function (t, n) {\n          return e[t] - e[n];\n        }).map(function (t, e) {\n          var o = n.getNode(t);\n          return o.position = e, o;\n        });\n      }, t.prototype.getNodePosition = function (t) {\n        if (!(t = t.sort(function (t, e) {\n          return t - e;\n        })).length) return 0;\n        var e = Math.floor(t.length / 2);\n        if (2 === t.length || t.length % 2 == 1) return t[e];\n        var n = t[e - 1] - t[0],\n            o = t[t.length - 1] - t[e];\n        return Math.floor((t[e - 1] * o + t[e] * n) / (n + o));\n      }, t.prototype.initOrder = function (t) {\n        var e = {};\n        return t.forEach(function (t) {\n          return (e[t.layer] || (e[t.layer] = [])).push(t);\n        }), e;\n      }, t.prototype.getCrossCount = function (t, e) {\n        var n = 0,\n            o = function o(_o39) {\n          if (!Object.prototype.hasOwnProperty.call(t, _o39)) return \"continue\";\n          var i = [];\n\n          t[_o39].forEach(function (t) {\n            var o = e.getChildren(t.key).map(function (t) {\n              return e.getNode(t).position;\n            });\n            o.forEach(function (t) {\n              n += i.filter(function (e) {\n                return t < e;\n              }).length;\n            }), i = i.concat(o);\n          });\n        };\n\n        for (var i in t) o(i);\n\n        return n;\n      }, t.prototype.initGraphInfo = function (t, e) {\n        var n = this,\n            o = {},\n            i = {},\n            r = [],\n            a = [];\n        return t.nodes.forEach(function (t) {\n          var n = e[t];\n          void 0 === o[n] && (o[n] = 0);\n          var s = new P(t, !1, n, o[n]++);\n          i[t] = s, r.push(s);\n        }), t.edges.forEach(function (t) {\n          var s = e[t.to] - e[t.from];\n\n          if (s > 1) {\n            for (var c = i[t.from], u = 1; u < s; u++) {\n              var h = new P(n.createDummyID(), !0, e[t.from] + u, o[e[t.from] + u]++);\n              a.push(new S(n.createDummyID(), !0, c.key, h.key)), r.push(h), c = h;\n            }\n\n            a.push(new S(t.key, !1, c.key, i[t.to].key, i[t.from].key));\n          } else a.push(new S(t.key, !1, i[t.from].key, i[t.to].key));\n        }), new s.FastGraph(r, a);\n      }, t.prototype.createDummyID = function () {\n        return \"dummy_\" + --this.idCounter;\n      }, t.prototype.getNodeToPositionMap = function (t) {\n        return t.reduce(function (t, e) {\n          return t[e.key] = e.position, t;\n        }, {});\n      }, t.prototype.assignAbsCoordinates = function (t) {\n        var e = this.getAbsCoodinate(t);\n        return new s.FastGraph(t.items.map(function (t) {\n          return new P(t.key, t.isDummy, t.layer, e[t.key]);\n        }), t.edges.slice(0));\n      }, t.prototype.getAbsCoodinate = function (t) {\n        var e = this,\n            n = t.items.reduce(function (t, e) {\n          t[e.layer] = t[e.layer] || [];\n          var n = h.SearchUtils.binaryIndexOf(t[e.layer], function (t) {\n            return t.position - e.position;\n          });\n          return t[e.layer].splice(n < 0 ? ~n : n, 0, e), t;\n        }, {}),\n            o = [C.TopLeft, C.TopRight, C.BottomLeft, C.BottomRight].map(function (o) {\n          return e.getPositionByMedian(t, o, n);\n        }),\n            i = {};\n        return t.items.forEach(function (t) {\n          var e = o.map(function (e) {\n            return e[t.key];\n          }).sort(function (t, e) {\n            return t - e;\n          });\n          i[t.key] = (e[1] + e[2]) / 2;\n        }), i;\n      }, t.prototype.getPositionByMedian = function (t, e, n) {\n        var o = t.items,\n            i = this.getNodeToPositionMap(o),\n            r = this.getMedians(t, o, e);\n        return r = this.resolveMedianConflicts(t, n, r, e), this.getSortedBlocks(t, o, r, e).forEach(function (t) {\n          var e = t.reduce(function (t, e) {\n            return i[e.key] > t ? i[e.key] : t;\n          }, -2);\n          t.forEach(function (t) {\n            var o = e - i[t.key];\n            o > 0 && n[t.layer].filter(function (e) {\n              return e.position > t.position;\n            }).forEach(function (t) {\n              return i[t.key] += o;\n            }), i[t.key] = e;\n          });\n        }), i;\n      }, t.prototype.getSortedBlocks = function (t, e, n, o) {\n        for (var i = [], r = o === C.BottomLeft || o === C.BottomRight, s = new u.HashSet(e.slice(0).sort(function (t, e) {\n          return r ? t.layer - e.layer : e.layer - t.layer;\n        }), function (t) {\n          return t.key;\n        }); s.length;) {\n          var a = s.item(0),\n              c = this.getBlock(t, a, n, o);\n          i.push(c), c.forEach(function (t) {\n            return s.remove(t);\n          });\n        }\n\n        return i.sort(function (t, e) {\n          var n = t.reduce(function (t, e) {\n            return e.position < t.position ? e : t;\n          }, t[0]),\n              o = e.filter(function (t) {\n            return t.layer === n.layer;\n          })[0];\n          if (o) return n.position > o.position ? 1 : -1;\n          var i = e.reduce(function (t, e) {\n            return e.position < t.position ? e : t;\n          }, e[0]),\n              r = t.filter(function (t) {\n            return t.layer === i.layer;\n          })[0];\n          return r ? r.position > i.position ? 1 : -1 : n.layer > i.layer ? 1 : -1;\n        }), i;\n      }, t.prototype.getBlock = function (t, e, n, o) {\n        var i = [],\n            r = null;\n\n        do {\n          r && (e = o === C.TopLeft || o === C.TopRight ? t.getNode(r.from) : t.getNode(r.to)), i.push(e), r = n[e.key];\n        } while (r);\n\n        return i;\n      }, t.prototype.resolveMedianConflicts = function (t, e, n, o) {\n        var i = this,\n            r = {},\n            s = function s(_s) {\n          if (!Object.prototype.hasOwnProperty.call(e, _s)) return \"continue\";\n          var a,\n              c,\n              u = e[_s];\n          o !== C.TopRight && o !== C.BottomRight || (u = u.slice(0).sort(function (t, e) {\n            return e.position - t.position;\n          })), u.forEach(function (e) {\n            var s = n[e.key];\n\n            if (s) {\n              var u = o === C.TopLeft || o === C.TopRight ? s.from : s.to,\n                  h = t.getNode(u).position;\n              i.checkMedianConfict(a, c, h, o) ? r[e.key] = null : (a = void 0 === a ? h : Math.min(a, h), c = void 0 === c ? h : Math.max(c, h), r[e.key] = s);\n            } else r[e.key] = null;\n          });\n        };\n\n        for (var a in e) s(a);\n\n        return r;\n      }, t.prototype.checkMedianConfict = function (t, e, n, o) {\n        return void 0 !== t && void 0 !== e && (o === C.TopLeft || o === C.BottomLeft ? e >= n : t <= n);\n      }, t.prototype.getMedians = function (t, e, n) {\n        var o = this,\n            i = {};\n        return e.forEach(function (e) {\n          var r = o.getActualAdjacentEdges(t, e, n),\n              s = o.getMedianPosition(r.length, n);\n          i[e.key] = r[s];\n        }), i;\n      }, t.prototype.getMedianPosition = function (t, e) {\n        if (0 === t) return -1;\n        if (t % 2 != 0) return Math.floor(t / 2);\n        if (e === C.TopLeft || e === C.BottomLeft) return Math.floor(t / 2) - 1;\n        if (e === C.TopRight || e === C.BottomRight) return Math.floor(t / 2);\n        throw new Error(\"Invalid Operation\");\n      }, t.prototype.getActualAdjacentEdges = function (t, e, n) {\n        return n === C.TopLeft || n === C.TopRight ? t.getAdjacentEdges(e.key, c.ConnectionMode.Incoming).sort(function (e, n) {\n          return t.getNode(e.from).position - t.getNode(n.from).position;\n        }) : t.getAdjacentEdges(e.key, c.ConnectionMode.Outgoing).sort(function (e, n) {\n          return t.getNode(e.to).position - t.getNode(n.to).position;\n        });\n      }, t;\n    }();\n\n    e.SugiyamaNodesOrderer = v;\n\n    var P = function () {\n      function t(t, e, n, o) {\n        this.key = t, this.isDummy = e, this.layer = n, this.position = o;\n      }\n\n      return t.prototype.getHashCode = function () {\n        return this.key.toString();\n      }, t;\n    }();\n\n    e.NodeOnLayer = P;\n\n    var C,\n        S = function () {\n      function t(t, e, n, o, i) {\n        this.key = t, this.isDummy = e, this.from = n, this.to = o, this._originFrom = i;\n      }\n\n      return t.prototype.getHashCode = function () {\n        return this.from + \"-\" + this.to;\n      }, Object.defineProperty(t.prototype, \"originFrom\", {\n        get: function get() {\n          return void 0 !== this._originFrom ? this._originFrom : this.from;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t;\n    }();\n\n    function b(t) {\n      return Math.trunc ? Math.trunc(t) : isFinite(t) ? t - t % 1 || (t < 0 ? -0 : 0 === t ? t : 0) : t;\n    }\n\n    e.EdgeOnLayer = S, function (t) {\n      t[t.TopLeft = 0] = \"TopLeft\", t[t.TopRight = 1] = \"TopRight\", t[t.BottomLeft = 2] = \"BottomLeft\", t[t.BottomRight = 3] = \"BottomRight\";\n    }(C || (C = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {\n        this.suspendUpdateCount = 0, this.occurredEvents = 0;\n      }\n\n      return t.prototype.beginUpdate = function () {\n        0 === this.suspendUpdateCount && this.onUpdateLocked(), this.suspendUpdateCount < 0 ? this.suspendUpdateCount-- : this.suspendUpdateCount++;\n      }, t.prototype.endUpdate = function () {\n        if (this.suspendUpdateCount < 0 ? this.suspendUpdateCount++ : this.suspendUpdateCount > 0 && this.suspendUpdateCount--, !this.isUpdateLocked()) {\n          var t = this.occurredEvents;\n          this.occurredEvents = 0, this.onUpdateUnlocked(t);\n        }\n      }, t.prototype.suspendUpdate = function () {\n        if (this.suspendUpdateCount > 0) {\n          this.suspendUpdateCount *= -1;\n          var t = this.occurredEvents;\n          this.occurredEvents = 0, this.onUpdateUnlocked(t);\n        }\n      }, t.prototype.continueUpdate = function () {\n        this.suspendUpdateCount < 0 && (this.suspendUpdateCount *= -1);\n      }, t.prototype.isUpdateLocked = function () {\n        return this.suspendUpdateCount > 0;\n      }, t.prototype.onUpdateLocked = function () {}, t.prototype.registerOccurredEvent = function (t) {\n        this.occurredEvents |= t;\n      }, t.prototype.resetOccurredEvents = function () {\n        this.occurredEvents = 0;\n      }, t.prototype.isLocked = function () {\n        return 0 !== this.suspendUpdateCount;\n      }, t;\n    }();\n\n    e.BatchUpdatableObject = o;\n\n    var i = function () {\n      function t() {}\n\n      return t.prototype.beginUpdate = function () {}, t.prototype.endUpdate = function () {}, t;\n    }();\n\n    e.EmptyBatchUpdatableObject = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramModelOperation = e.Diagnostics = e.RenderHelper = e.DiagramLocalizationService = e.NativeConnector = e.NativeShape = e.ShapeType = e.ColorUtils = e.PageOrientation = e.ConnectorPosition = e.ConnectorLineOption = e.ConnectorLineEnding = e.AutoZoomMode = e.Browser = e.UnitConverter = e.EventDispatcher = e.DataLayoutOrientation = e.DataLayoutType = e.ShapeCategories = e.ShapeTypes = e.DiagramUnit = e.default = e.DiagramControl = e.DiagramCommand = e.Point = e.Size = void 0;\n    var o = n(82);\n    Object.defineProperty(e, \"DiagramCommand\", {\n      enumerable: !0,\n      get: function get() {\n        return o.DiagramCommand;\n      }\n    });\n    var i = n(301);\n    Object.defineProperty(e, \"DiagramControl\", {\n      enumerable: !0,\n      get: function get() {\n        return i.DiagramControl;\n      }\n    }), Object.defineProperty(e, \"default\", {\n      enumerable: !0,\n      get: function get() {\n        return i.DiagramControl;\n      }\n    });\n    var r = n(2);\n    Object.defineProperty(e, \"Size\", {\n      enumerable: !0,\n      get: function get() {\n        return r.Size;\n      }\n    });\n    var s = n(1);\n    Object.defineProperty(e, \"Point\", {\n      enumerable: !0,\n      get: function get() {\n        return s.Point;\n      }\n    });\n    var a = n(3);\n    Object.defineProperty(e, \"EventDispatcher\", {\n      enumerable: !0,\n      get: function get() {\n        return a.EventDispatcher;\n      }\n    });\n    var c = n(0);\n    Object.defineProperty(e, \"ShapeTypes\", {\n      enumerable: !0,\n      get: function get() {\n        return c.ShapeTypes;\n      }\n    }), Object.defineProperty(e, \"ShapeCategories\", {\n      enumerable: !0,\n      get: function get() {\n        return c.ShapeCategories;\n      }\n    }), Object.defineProperty(e, \"ShapeType\", {\n      enumerable: !0,\n      get: function get() {\n        return c.ShapeType;\n      }\n    });\n    var u = n(12);\n    Object.defineProperty(e, \"UnitConverter\", {\n      enumerable: !0,\n      get: function get() {\n        return u.UnitConverter;\n      }\n    });\n    var h = n(19);\n    Object.defineProperty(e, \"Browser\", {\n      enumerable: !0,\n      get: function get() {\n        return h.Browser;\n      }\n    });\n    var p = n(29);\n    Object.defineProperty(e, \"AutoZoomMode\", {\n      enumerable: !0,\n      get: function get() {\n        return p.AutoZoomMode;\n      }\n    });\n    var l = n(103);\n    Object.defineProperty(e, \"DataLayoutType\", {\n      enumerable: !0,\n      get: function get() {\n        return l.DataLayoutType;\n      }\n    });\n    var d = n(20);\n    Object.defineProperty(e, \"DataLayoutOrientation\", {\n      enumerable: !0,\n      get: function get() {\n        return d.DataLayoutOrientation;\n      }\n    }), n(387);\n    var f = n(31);\n    Object.defineProperty(e, \"ConnectorLineEnding\", {\n      enumerable: !0,\n      get: function get() {\n        return f.ConnectorLineEnding;\n      }\n    }), Object.defineProperty(e, \"ConnectorLineOption\", {\n      enumerable: !0,\n      get: function get() {\n        return f.ConnectorLineOption;\n      }\n    });\n    var y = n(22);\n    Object.defineProperty(e, \"ColorUtils\", {\n      enumerable: !0,\n      get: function get() {\n        return y.ColorUtils;\n      }\n    });\n    var g = n(59);\n    Object.defineProperty(e, \"Diagnostics\", {\n      enumerable: !0,\n      get: function get() {\n        return g.Diagnostics;\n      }\n    });\n    var m = n(84);\n    Object.defineProperty(e, \"NativeShape\", {\n      enumerable: !0,\n      get: function get() {\n        return m.NativeShape;\n      }\n    }), Object.defineProperty(e, \"NativeConnector\", {\n      enumerable: !0,\n      get: function get() {\n        return m.NativeConnector;\n      }\n    });\n    var v = n(37);\n    Object.defineProperty(e, \"DiagramLocalizationService\", {\n      enumerable: !0,\n      get: function get() {\n        return v.DiagramLocalizationService;\n      }\n    });\n    var P = n(15);\n    Object.defineProperty(e, \"RenderHelper\", {\n      enumerable: !0,\n      get: function get() {\n        return P.RenderHelper;\n      }\n    });\n    var C = n(47);\n    Object.defineProperty(e, \"DiagramUnit\", {\n      enumerable: !0,\n      get: function get() {\n        return C.DiagramUnit;\n      }\n    }), Object.defineProperty(e, \"PageOrientation\", {\n      enumerable: !0,\n      get: function get() {\n        return C.PageOrientation;\n      }\n    });\n    var S = n(16);\n    Object.defineProperty(e, \"DiagramModelOperation\", {\n      enumerable: !0,\n      get: function get() {\n        return S.DiagramModelOperation;\n      }\n    });\n    var b = n(6);\n    Object.defineProperty(e, \"ConnectorPosition\", {\n      enumerable: !0,\n      get: function get() {\n        return b.ConnectorPosition;\n      }\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CommandManager = e.DiagramCommand = void 0;\n\n    var o,\n        i = n(162),\n        r = n(199),\n        s = n(200),\n        a = n(201),\n        c = n(238),\n        u = n(239),\n        h = n(240),\n        p = n(241),\n        l = n(242),\n        d = n(243),\n        f = n(244),\n        y = n(245),\n        g = n(246),\n        m = n(247),\n        v = n(248),\n        P = n(249),\n        C = n(250),\n        S = n(26),\n        b = n(138),\n        x = n(253),\n        I = n(254),\n        _ = n(255),\n        w = n(257),\n        T = n(259),\n        O = n(261),\n        E = n(262),\n        M = n(263),\n        D = n(264),\n        A = n(265),\n        R = n(268),\n        L = n(271),\n        N = n(272),\n        j = n(143),\n        z = n(273),\n        U = n(274),\n        k = n(275),\n        B = n(276),\n        H = n(144),\n        K = n(145),\n        V = n(277),\n        F = n(278),\n        W = n(279),\n        G = n(280),\n        Z = n(282),\n        q = n(284),\n        X = n(285),\n        Y = n(286),\n        J = n(287),\n        Q = n(288),\n        $ = n(289),\n        tt = n(290),\n        et = n(292),\n        nt = n(293),\n        ot = n(294),\n        it = n(295),\n        rt = n(296),\n        st = n(297),\n        at = n(298),\n        ct = n(299),\n        ut = n(300);\n\n    !function (t) {\n      t[t.Undo = 0] = \"Undo\", t[t.Redo = 1] = \"Redo\", t[t.Cut = 2] = \"Cut\", t[t.Copy = 3] = \"Copy\", t[t.Paste = 4] = \"Paste\", t[t.PasteInPosition = 5] = \"PasteInPosition\", t[t.SelectAll = 6] = \"SelectAll\", t[t.Delete = 7] = \"Delete\", t[t.Import = 8] = \"Import\", t[t.ImportBPMN = 9] = \"ImportBPMN\", t[t.Export = 10] = \"Export\", t[t.ExportSvg = 11] = \"ExportSvg\", t[t.ExportPng = 12] = \"ExportPng\", t[t.ExportJpg = 13] = \"ExportJpg\", t[t.BindDocument = 14] = \"BindDocument\", t[t.UnbindDocument = 15] = \"UnbindDocument\", t[t.Bold = 16] = \"Bold\", t[t.Italic = 17] = \"Italic\", t[t.Underline = 18] = \"Underline\", t[t.FontName = 19] = \"FontName\", t[t.FontSize = 20] = \"FontSize\", t[t.FontColor = 21] = \"FontColor\", t[t.FillColor = 22] = \"FillColor\", t[t.StrokeColor = 23] = \"StrokeColor\", t[t.TextLeftAlign = 24] = \"TextLeftAlign\", t[t.TextCenterAlign = 25] = \"TextCenterAlign\", t[t.TextRightAlign = 26] = \"TextRightAlign\", t[t.ConnectorLineOption = 27] = \"ConnectorLineOption\", t[t.ConnectorStartLineEnding = 28] = \"ConnectorStartLineEnding\", t[t.ConnectorEndLineEnding = 29] = \"ConnectorEndLineEnding\", t[t.BringToFront = 30] = \"BringToFront\", t[t.SendToBack = 31] = \"SendToBack\", t[t.MoveLeft = 32] = \"MoveLeft\", t[t.MoveStepLeft = 33] = \"MoveStepLeft\", t[t.MoveRight = 34] = \"MoveRight\", t[t.MoveStepRight = 35] = \"MoveStepRight\", t[t.MoveUp = 36] = \"MoveUp\", t[t.MoveStepUp = 37] = \"MoveStepUp\", t[t.MoveDown = 38] = \"MoveDown\", t[t.MoveStepDown = 39] = \"MoveStepDown\", t[t.CloneLeft = 40] = \"CloneLeft\", t[t.CloneRight = 41] = \"CloneRight\", t[t.CloneUp = 42] = \"CloneUp\", t[t.CloneDown = 43] = \"CloneDown\", t[t.AutoLayoutTree = 44] = \"AutoLayoutTree\", t[t.AutoLayoutFlow = 45] = \"AutoLayoutFlow\", t[t.AutoLayoutTreeVertical = 46] = \"AutoLayoutTreeVertical\", t[t.AutoLayoutTreeHorizontal = 47] = \"AutoLayoutTreeHorizontal\", t[t.AutoLayoutLayeredVertical = 48] = \"AutoLayoutLayeredVertical\", t[t.AutoLayoutLayeredHorizontal = 49] = \"AutoLayoutLayeredHorizontal\", t[t.Lock = 50] = \"Lock\", t[t.Unlock = 51] = \"Unlock\", t[t.Units = 52] = \"Units\", t[t.ViewUnits = 53] = \"ViewUnits\", t[t.PageSize = 54] = \"PageSize\", t[t.PageLandscape = 55] = \"PageLandscape\", t[t.PageColor = 56] = \"PageColor\", t[t.GridSize = 57] = \"GridSize\", t[t.ShowGrid = 58] = \"ShowGrid\", t[t.SnapToGrid = 59] = \"SnapToGrid\", t[t.ZoomLevel = 60] = \"ZoomLevel\", t[t.Fullscreen = 61] = \"Fullscreen\", t[t.ToggleSimpleView = 62] = \"ToggleSimpleView\", t[t.ToggleReadOnly = 63] = \"ToggleReadOnly\", t[t.EditShapeImage = 64] = \"EditShapeImage\", t[t.FitToScreen = 65] = \"FitToScreen\", t[t.SwitchAutoZoom = 66] = \"SwitchAutoZoom\", t[t.ToggleAutoZoom = 67] = \"ToggleAutoZoom\", t[t.FitToWidth = 68] = \"FitToWidth\", t[t.ZoomLevelItems = 69] = \"ZoomLevelItems\", t[t.GridSizeItems = 70] = \"GridSizeItems\", t[t.PageSizeItems = 71] = \"PageSizeItems\", t[t.ImportXML = 72] = \"ImportXML\", t[t.InsertShapeImage = 73] = \"InsertShapeImage\", t[t.DeleteShapeImage = 74] = \"DeleteShapeImage\", t[t.StrokeStyle = 75] = \"StrokeStyle\", t[t.StrokeWidth = 76] = \"StrokeWidth\", t[t.AutoLayoutTreeVerticalBottomToTop = 77] = \"AutoLayoutTreeVerticalBottomToTop\", t[t.AutoLayoutTreeHorizontalRightToLeft = 78] = \"AutoLayoutTreeHorizontalRightToLeft\", t[t.AutoLayoutLayeredVerticalBottomToTop = 79] = \"AutoLayoutLayeredVerticalBottomToTop\", t[t.AutoLayoutLayeredHorizontalRightToLeft = 80] = \"AutoLayoutLayeredHorizontalRightToLeft\", t[t.Zoom25 = 81] = \"Zoom25\", t[t.Zoom50 = 82] = \"Zoom50\", t[t.Zoom75 = 83] = \"Zoom75\", t[t.Zoom100 = 84] = \"Zoom100\", t[t.Zoom125 = 85] = \"Zoom125\", t[t.Zoom150 = 86] = \"Zoom150\", t[t.Zoom200 = 87] = \"Zoom200\", t[t.AutoZoomToContent = 88] = \"AutoZoomToContent\", t[t.AutoZoomToWidth = 89] = \"AutoZoomToWidth\", t[t.ZoomLevelInPercentage = 90] = \"ZoomLevelInPercentage\", t[t.ConnectorRoutingMode = 91] = \"ConnectorRoutingMode\";\n    }(o = e.DiagramCommand || (e.DiagramCommand = {}));\n\n    var ht = function () {\n      function t(t) {\n        this.commands = {}, this.shortcutsToCommand = {}, this.lastCommandsChain = [], this.executingCommandsChain = [], this.executingCommandCounter = 0, this.isPublicApiCall = !1, this.createCommand(t, o.Undo, r.UndoCommand, S.ModifierKey.Ctrl | S.KeyCode.Key_z, S.ModifierKey.Meta | S.KeyCode.Key_z), this.createCommand(t, o.Redo, s.RedoCommand, S.ModifierKey.Ctrl | S.KeyCode.Key_y, S.ModifierKey.Ctrl | S.ModifierKey.Shift | S.KeyCode.Key_z, S.ModifierKey.Meta | S.ModifierKey.Shift | S.KeyCode.Key_z), this.createCommand(t, o.Cut, D.CutSelectionCommand, S.KeyCode.Key_x | S.ModifierKey.Ctrl, S.KeyCode.Key_x | S.ModifierKey.Meta, S.KeyCode.Delete | S.ModifierKey.Shift), this.createCommand(t, o.Copy, M.CopySelectionCommand, S.KeyCode.Key_c | S.ModifierKey.Ctrl, S.KeyCode.Key_c | S.ModifierKey.Meta, S.KeyCode.Insert | S.ModifierKey.Ctrl), this.createCommand(t, o.Paste, A.PasteSelectionCommand), this.createCommand(t, o.PasteInPosition, $.PasteSelectionInPositionCommand), this.createCommand(t, o.SelectAll, C.SelectAllCommand, S.KeyCode.Key_a | S.ModifierKey.Ctrl, S.KeyCode.Key_a | S.ModifierKey.Meta), this.createCommand(t, o.Delete, i.DeleteCommand, S.KeyCode.Delete, S.KeyCode.Backspace), this.createCommand(t, o.Import, a.ImportCommand), this.createCommand(t, o.ImportBPMN, R.ImportBPMNCommand), this.createCommand(t, o.ImportXML, tt.ImportXMLCommand), this.createCommand(t, o.Export, c.ExportCommand), this.createCommand(t, o.ExportSvg, O.ExportSvgCommand), this.createCommand(t, o.ExportPng, T.ExportPngCommand), this.createCommand(t, o.ExportJpg, E.ExportJpgCommand), this.createCommand(t, o.BindDocument, k.BindDocumentCommand), this.createCommand(t, o.UnbindDocument, B.UnbindDocumentCommand), this.createCommand(t, o.Bold, u.ToggleFontBoldCommand, S.ModifierKey.Ctrl | S.KeyCode.Key_b, S.ModifierKey.Meta | S.KeyCode.Key_b), this.createCommand(t, o.Italic, h.ToggleFontItalicCommand, S.ModifierKey.Ctrl | S.KeyCode.Key_i, S.ModifierKey.Meta | S.KeyCode.Key_i), this.createCommand(t, o.Underline, p.ToggleFontUnderlineCommand, S.ModifierKey.Ctrl | S.KeyCode.Key_u, S.ModifierKey.Meta | S.KeyCode.Key_u), this.createCommand(t, o.FontName, l.ChangeFontNameCommand), this.createCommand(t, o.FontSize, d.ChangeFontSizeCommand), this.createCommand(t, o.FontColor, f.ChangeFontColorCommand), this.createCommand(t, o.FillColor, y.ChangeFillColorCommand), this.createCommand(t, o.StrokeColor, g.ChangeStrokeColorCommand), this.createCommand(t, o.StrokeStyle, ot.ChangeStrokeStyleCommand), this.createCommand(t, o.StrokeWidth, it.ChangeStrokeWidthCommand), this.createCommand(t, o.TextLeftAlign, m.TextLeftAlignCommand), this.createCommand(t, o.TextCenterAlign, m.TextCenterAlignCommand), this.createCommand(t, o.TextRightAlign, m.TextRightAlignCommand), this.createCommand(t, o.ConnectorLineOption, P.ChangeConnectorLineOptionCommand), this.createCommand(t, o.ConnectorStartLineEnding, v.ChangeConnectorStartLineEndingCommand), this.createCommand(t, o.ConnectorEndLineEnding, v.ChangeConnectorEndLineEndingCommand), this.createCommand(t, o.BringToFront, N.BringToFrontCommand), this.createCommand(t, o.SendToBack, L.SendToBackCommand), this.createCommand(t, o.MoveLeft, z.MoveLeftCommand, S.ModifierKey.Ctrl | S.KeyCode.Left, S.ModifierKey.Ctrl | S.ModifierKey.Shift | S.KeyCode.Left), this.createCommand(t, o.MoveRight, z.MoveRightCommand, S.ModifierKey.Ctrl | S.KeyCode.Right, S.ModifierKey.Ctrl | S.ModifierKey.Shift | S.KeyCode.Right), this.createCommand(t, o.MoveUp, z.MoveUpCommand, S.ModifierKey.Ctrl | S.KeyCode.Up, S.ModifierKey.Ctrl | S.ModifierKey.Shift | S.KeyCode.Up), this.createCommand(t, o.MoveDown, z.MoveDownCommand, S.ModifierKey.Ctrl | S.KeyCode.Down, S.ModifierKey.Ctrl | S.ModifierKey.Shift | S.KeyCode.Down), this.createCommand(t, o.MoveStepLeft, z.MoveStepLeftCommand, S.KeyCode.Left, S.ModifierKey.Shift | S.KeyCode.Left), this.createCommand(t, o.MoveStepRight, z.MoveStepRightCommand, S.KeyCode.Right, S.ModifierKey.Shift | S.KeyCode.Right), this.createCommand(t, o.MoveStepUp, z.MoveStepUpCommand, S.KeyCode.Up, S.ModifierKey.Shift | S.KeyCode.Up), this.createCommand(t, o.MoveStepDown, z.MoveStepDownCommand, S.KeyCode.Down, S.ModifierKey.Shift | S.KeyCode.Down), this.createCommand(t, o.CloneLeft, W.CloneLeftCommand, S.ModifierKey.Alt | S.KeyCode.Left, S.ModifierKey.Alt | S.ModifierKey.Shift | S.KeyCode.Left), this.createCommand(t, o.CloneRight, W.CloneRightCommand, S.ModifierKey.Alt | S.KeyCode.Right, S.ModifierKey.Alt | S.ModifierKey.Shift | S.KeyCode.Right), this.createCommand(t, o.CloneUp, W.CloneUpCommand, S.ModifierKey.Alt | S.KeyCode.Up, S.ModifierKey.Alt | S.ModifierKey.Shift | S.KeyCode.Up), this.createCommand(t, o.CloneDown, W.CloneDownCommand, S.ModifierKey.Alt | S.KeyCode.Down, S.ModifierKey.Alt | S.ModifierKey.Shift | S.KeyCode.Down), this.createCommand(t, o.Lock, V.LockCommand), this.createCommand(t, o.Unlock, F.UnLockCommand), this.createCommand(t, o.AutoLayoutTree, b.AutoLayoutTreeVerticalCommand), this.createCommand(t, o.AutoLayoutFlow, j.AutoLayoutLayeredHorizontalCommand), this.createCommand(t, o.Units, G.ChangeUnitsCommand), this.createCommand(t, o.ViewUnits, G.ChangeViewUnitsCommand), this.createCommand(t, o.PageSize, w.ChangePageSizeCommand), this.createCommand(t, o.PageLandscape, _.ChangePageLandscapeCommand), this.createCommand(t, o.PageColor, Z.ChangePageColorCommand), this.createCommand(t, o.GridSize, I.ChangeGridSizeCommand), this.createCommand(t, o.ShowGrid, q.ChangeShowGridCommand), this.createCommand(t, o.SnapToGrid, x.ChangeSnapToGridCommand), this.createCommand(t, o.ZoomLevel, U.ChangeZoomLevelCommand), this.createCommand(t, o.ZoomLevelInPercentage, U.ChangeZoomLevelInPercentageCommand), this.createCommand(t, o.AutoLayoutTreeVertical, b.AutoLayoutTreeVerticalCommand), this.createCommand(t, o.AutoLayoutTreeVerticalBottomToTop, rt.AutoLayoutTreeVerticalBottomToTopCommand), this.createCommand(t, o.AutoLayoutTreeHorizontal, H.AutoLayoutTreeHorizontalCommand), this.createCommand(t, o.AutoLayoutTreeHorizontalRightToLeft, st.AutoLayoutTreeHorizontalRightToLeftCommand), this.createCommand(t, o.AutoLayoutLayeredVertical, K.AutoLayoutLayeredVerticalCommand), this.createCommand(t, o.AutoLayoutLayeredVerticalBottomToTop, at.AutoLayoutLayeredVerticalBottomToTopCommand), this.createCommand(t, o.AutoLayoutLayeredHorizontal, j.AutoLayoutLayeredHorizontalCommand), this.createCommand(t, o.AutoLayoutLayeredHorizontalRightToLeft, ct.AutoLayoutLayeredHorizontalRightToLeftCommand), this.createCommand(t, o.Fullscreen, X.ToggleFullscreenCommand, S.KeyCode.F11), this.createCommand(t, o.ToggleSimpleView, Y.ToggleSimpleViewCommand), this.createCommand(t, o.ToggleReadOnly, J.ToggleReadOnlyCommand), this.createCommand(t, o.InsertShapeImage, et.InsertShapeImageCommand), this.createCommand(t, o.EditShapeImage, Q.EditShapeImageCommand), this.createCommand(t, o.DeleteShapeImage, nt.DeleteShapeImageCommand), this.createCommand(t, o.FitToScreen, U.FitToScreenCommand), this.createCommand(t, o.FitToWidth, U.FitToWidthCommand), this.createCommand(t, o.SwitchAutoZoom, U.SwitchAutoZoomCommand), this.createCommand(t, o.ToggleAutoZoom, U.ToggleAutoZoomCommand), this.createCommand(t, o.ZoomLevelItems, U.ChangeZoomLevelItemsCommand), this.createCommand(t, o.GridSizeItems, I.ChangeGridSizeItemsCommand), this.createCommand(t, o.PageSizeItems, w.ChangePageSizeItemsCommand), this.createCommand(t, o.Zoom25, U.ChangeZoomLevelTo25Command), this.createCommand(t, o.Zoom50, U.ChangeZoomLevelTo50Command), this.createCommand(t, o.Zoom75, U.ChangeZoomLevelTo75Command), this.createCommand(t, o.Zoom100, U.ChangeZoomLevelTo100Command), this.createCommand(t, o.Zoom125, U.ChangeZoomLevelTo125Command), this.createCommand(t, o.Zoom150, U.ChangeZoomLevelTo150Command), this.createCommand(t, o.Zoom200, U.ChangeZoomLevelTo200Command), this.createCommand(t, o.AutoZoomToContent, U.ToggleAutoZoomToContentCommand), this.createCommand(t, o.AutoZoomToWidth, U.ToggleAutoZoomToWidthCommand), this.createCommand(t, o.ConnectorRoutingMode, ut.ChangeConnectorRoutingModeCommand);\n      }\n\n      return t.prototype.getCommand = function (t) {\n        return this.commands[t];\n      }, t.prototype.beforeExecuting = function (t) {\n        this.executingCommandsChain.push(t), this.executingCommandCounter++;\n      }, t.prototype.afterExecuting = function () {\n        this.executingCommandCounter--, 0 === this.executingCommandCounter && (this.lastCommandsChain = this.executingCommandsChain, this.executingCommandsChain = []);\n      }, t.prototype.processShortcut = function (t) {\n        var e = this.shortcutsToCommand[t];\n        return !!e && e.execute();\n      }, t.prototype.processPaste = function (t) {\n        var e = this.getCommand(o.Paste);\n        return e && e.isEnabled() && e.execute(t), !0;\n      }, t.prototype.notifySelectionChanged = function (t) {\n        this.lastCommandsChain = [];\n      }, t.prototype.notifyScrollPositionChanged = function () {}, t.prototype.createCommand = function (t, e, n) {\n        for (var o = [], i = 3; i < arguments.length; i++) o[i - 3] = arguments[i];\n\n        this.commands[e] = new n(t);\n\n        for (var r = 0; r < o.length; r++) {\n          var s = o[r];\n          \"number\" == typeof s && (this.shortcutsToCommand[s] = this.commands[e]);\n        }\n      }, t;\n    }();\n\n    e.CommandManager = ht;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(177),\n        i = n(178),\n        r = function () {\n      function t() {}\n\n      return t.normalizeToDataUrl = function (e, n) {\n        return t.checkPrependDataUrl(e) || (e = t.prependByDataUrl(e, n)), e;\n      }, t.prependByDataUrl = function (t, e) {\n        return \"data:\" + e + \";base64,\" + t;\n      }, t.checkPrependDataUrl = function (e) {\n        return t.dataUrl.test(e);\n      }, t.deleteDataUrlPrefix = function (e) {\n        return e.replace(t.dataUrl, \"\");\n      }, t.getUint8Array = function (t) {\n        for (var e = (t = atob(t)).length, n = new Uint8Array(e); e--;) n[e] = t.charCodeAt(e);\n\n        return n;\n      }, t.fromArrayBuffer = function (t) {\n        for (var e = [], n = new Uint8Array(t), o = n.byteLength, i = 0; i < o; i++) e.push(String.fromCharCode(n[i]));\n\n        return window.btoa(e.join(\"\"));\n      }, t.getFileFromBase64 = function (e, n, i) {\n        void 0 === n && (n = \"\");\n        var r = t.getUint8Array(e);\n        return o.FileUtils.createFile([r], n, i);\n      }, t.getMimeTypeAsString = function (e) {\n        var n = e.match(t.dataUrl);\n        return n ? n[1] : null;\n      }, t.getKnownMimeType = function (e) {\n        var n = e.match(t.dataUrl);\n        return n ? i.MimeTypeUtils.stringTypeToType(n[1]) : i.DxMimeType.Unknown;\n      }, t.fromBlobAsArrayBuffer = function (e, n) {\n        var o = new FileReader();\n        o.onloadend = function () {\n          return n(t.fromArrayBuffer(o.result));\n        }, o.readAsArrayBuffer(e);\n      }, t.fromBlobAsDataUrl = function (t, e) {\n        var n = new FileReader();\n        n.onloadend = function () {\n          return e(n.result);\n        }, n.readAsDataURL(t);\n      }, t.dataUrl = /^data:(.*?)(;(.*?))??(;base64)?,/, t;\n    }();\n\n    e.Base64Utils = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o40,\n        i = this && this.__extends || (_o40 = function o(t, e) {\n      return (_o40 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o40(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.NativeConnector = e.NativeShape = e.NativeItem = void 0;\n\n    var r = n(4),\n        s = function () {\n      function t(t, e) {\n        this.id = t, this.key = e, this.unitsApplied = !1;\n      }\n\n      return t.prototype.applyUnits = function (t) {\n        this.unitsApplied || void 0 === t || (this.applyUnitsCore(t), this.unitsApplied = !0);\n      }, t;\n    }();\n\n    e.NativeItem = s;\n\n    var a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.applyUnitsCore = function (t) {\n        this.position.x = r.ModelUtils.getlUnitValue(t, this.position.x), this.position.y = r.ModelUtils.getlUnitValue(t, this.position.y), this.size.width = r.ModelUtils.getlUnitValue(t, this.size.width), this.size.height = r.ModelUtils.getlUnitValue(t, this.size.height);\n      }, e;\n    }(s);\n\n    e.NativeShape = a;\n\n    var c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.applyUnitsCore = function (t) {\n        this.points.forEach(function (e) {\n          e.x = r.ModelUtils.getlUnitValue(t, e.x), e.y = r.ModelUtils.getlUnitValue(t, e.y);\n        });\n      }, e;\n    }(s);\n\n    e.NativeConnector = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorRenderPointsContext = void 0;\n\n    var o = function () {\n      return function (t, e, n) {\n        this.renderPoints = t, this.lockCreateRenderPoints = e, this.actualRoutingMode = n;\n      };\n    }();\n\n    e.ConnectorRenderPointsContext = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o41,\n        i = this && this.__extends || (_o41 = function o(t, e) {\n      return (_o41 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o41(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ReplaceConnectorPointsHistoryItem = e.ChangeConnectorPointsHistoryItem = e.UpdateConnectorPointsHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.connectorKey = e, o.newPoints = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        this.oldRenderContext = n.createRenderPointsContext(), this.oldPoints = n.points.map(function (t) {\n          return t.clone();\n        }), t.changeConnectorPoints(n, function (t) {\n          t.points = e.newPoints, e.updateRenderPoints(t);\n        });\n      }, e.prototype.undo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        t.changeConnectorPoints(n, function (t) {\n          t.points = e.oldPoints, t.replaceRenderPoints(e.oldRenderContext);\n        });\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.UpdateConnectorPointsHistoryItem = r;\n\n    var s = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e, n) || this;\n        return i.connectorKey = e, i.newPoints = n, i.newRenderContext = o, i;\n      }\n\n      return i(e, t), e.prototype.updateRenderPoints = function (t) {\n        t.replaceRenderPoints(this.newRenderContext);\n      }, e;\n    }(r);\n\n    e.ChangeConnectorPointsHistoryItem = s;\n\n    var a = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e, n) || this;\n        return o.connectorKey = e, o.newPoints = n, o;\n      }\n\n      return i(e, t), e.prototype.updateRenderPoints = function (t) {\n        t.clearRenderPoints();\n      }, e;\n    }(r);\n\n    e.ReplaceConnectorPointsHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t(t, e, n, o) {\n        this.left = t, this.right = e, this.top = n, this.bottom = o;\n      }\n\n      return t.empty = function () {\n        return new t(0, 0, 0, 0);\n      }, Object.defineProperty(t.prototype, \"horizontal\", {\n        get: function get() {\n          return this.left + this.right;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"vertical\", {\n        get: function get() {\n          return this.top + this.bottom;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.fromNumber = function (e) {\n        return new t(e, e, e, e);\n      }, t.fromOffsets = function (e) {\n        return new t(e.left, e.right, e.top, e.bottom);\n      }, t.fromSide = function (e, n) {\n        return new t(e, e, n, n);\n      }, t.prototype.normalize = function () {\n        return this.left = Math.max(0, this.left), this.right = Math.max(0, this.right), this.top = Math.max(0, this.top), this.bottom = Math.max(0, this.bottom), this;\n      }, t.prototype.toString = function () {\n        return JSON.stringify(this);\n      }, t.prototype.isEmpty = function () {\n        return 0 === this.left && 0 === this.right && 0 === this.top && 0 === this.bottom;\n      }, t.prototype.offset = function (t) {\n        return this.left += t.left, this.right += t.right, this.top += t.top, this.bottom += t.bottom, this;\n      }, t.prototype.multiply = function (t, e, n, o) {\n        switch (arguments.length) {\n          case 1:\n            return this.left *= t, this.right *= t, this.top *= t, this.bottom *= t, this;\n\n          case 2:\n            return this.left *= t, this.right *= t, this.top *= e, this.bottom *= e, this;\n\n          case 4:\n            return this.left *= t, this.right *= e, this.top *= n, this.bottom *= o, this;\n        }\n\n        return this;\n      }, t.prototype.clone = function () {\n        return new t(this.left, this.right, this.top, this.bottom);\n      }, t.prototype.copyFrom = function (t) {\n        this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom;\n      }, t.prototype.equals = function (t) {\n        return this.top === t.top && this.bottom === t.bottom && this.right === t.right && this.left === t.left;\n      }, t.prototype.applyConverter = function (t) {\n        return this.left = t(this.left), this.right = t(this.right), this.top = t(this.top), this.bottom = t(this.bottom), this;\n      }, t;\n    }();\n\n    e.Offsets = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o42,\n        i = this && this.__extends || (_o42 = function o(t, e) {\n      return (_o42 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o42(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorPropertyHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connectorKey = e, i.propertyName = n, i.value = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        this.oldValue = e.properties[this.propertyName], t.changeConnectorProperty(e, this.propertyName, this.value);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.changeConnectorProperty(e, this.propertyName, this.oldValue);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeConnectorPropertyHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o43,\n        i = this && this.__extends || (_o43 = function o(t, e) {\n      return (_o43 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o43(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStyleHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        return t.call(this, e, n, o) || this;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.oldStyleValue = e.style[this.styleProperty], t.changeStyle(e, this.styleProperty, this.styleValue);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.changeStyle(e, this.styleProperty, this.oldStyleValue);\n      }, e;\n    }(n(119).ChangeStyleHistoryItemBase);\n\n    e.ChangeStyleHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.HashSet = void 0;\n\n    var o = function () {\n      function t(t, e) {\n        var n = this;\n        void 0 === t && (t = []), void 0 === e && (e = function e(t) {\n          return t.toString();\n        }), this.items = [], this.map = {}, this.getHashCode = e, t.forEach(function (t) {\n          return n.tryPush(t);\n        });\n      }\n\n      return t.prototype.tryPush = function (t) {\n        var e = this.getHashCode(t);\n        return void 0 === this.map[e] && (this.map[e] = this.items.push(t) - 1, !0);\n      }, t.prototype.contains = function (t) {\n        return void 0 !== this.map[this.getHashCode(t)];\n      }, t.prototype.forEach = function (t) {\n        this.items.forEach(t);\n      }, t.prototype.filter = function (t) {\n        return this.items.filter(t);\n      }, t.prototype.list = function () {\n        return this.items.slice(0);\n      }, t.prototype.item = function (t) {\n        return this.items[t];\n      }, t.prototype.first = function () {\n        return this.items[0];\n      }, t.prototype.remove = function (t) {\n        var e = this.getHashCode(t),\n            n = this.map[e];\n        if (\"number\" != typeof n) throw \"Item not found\";\n        delete this.map[e], this.items.splice(n, 1);\n\n        for (var o = n; o < this.items.length; o++) this.map[this.getHashCode(this.items[o])]--;\n      }, Object.defineProperty(t.prototype, \"length\", {\n        get: function get() {\n          return this.items.length;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t;\n    }();\n\n    e.HashSet = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeDescriptionManager = void 0;\n\n    var o = n(202),\n        i = n(203),\n        r = n(204),\n        s = n(205),\n        a = n(206),\n        c = n(207),\n        u = n(208),\n        h = n(209),\n        p = n(210),\n        l = n(211),\n        d = n(121),\n        f = n(71),\n        y = n(212),\n        g = n(18),\n        m = n(122),\n        v = n(123),\n        P = n(124),\n        C = n(213),\n        S = n(214),\n        b = n(215),\n        x = n(216),\n        I = n(217),\n        _ = n(125),\n        w = n(126),\n        T = n(218),\n        O = n(219),\n        E = n(220),\n        M = n(221),\n        D = n(222),\n        A = n(223),\n        R = n(224),\n        L = n(225),\n        N = n(226),\n        j = n(227),\n        z = n(228),\n        U = n(229),\n        k = n(230),\n        B = n(127),\n        H = n(232),\n        K = n(233),\n        V = n(234),\n        F = n(0),\n        W = n(236),\n        G = n(3),\n        Z = n(237),\n        q = function () {\n      function t() {\n        this.descriptions = {}, this.descriptionTypes = {}, this.descriptionCategories = {}, this.onShapeDecriptionChanged = new G.EventDispatcher(), this.register(new m.TextShapeDescription(), F.ShapeCategories.General), this.register(new g.RectangleShapeDescription(), F.ShapeCategories.General), this.register(new f.EllipseShapeDescription(), F.ShapeCategories.General), this.register(new l.CrossShapeDescription(), F.ShapeCategories.General), this.register(new _.TriangleShapeDescription(), F.ShapeCategories.General), this.register(new d.DiamondShapeDescription(), F.ShapeCategories.General), this.register(new y.HeartShapeDescription(), F.ShapeCategories.General), this.register(new v.PentagonShapeDescription(), F.ShapeCategories.General), this.register(new P.HexagonShapeDescription(), F.ShapeCategories.General), this.register(new C.OctagonShapeDescription(), F.ShapeCategories.General), this.register(new S.StarShapeDescription(), F.ShapeCategories.General), this.register(new p.ArrowUpShapeDescription(), F.ShapeCategories.General), this.register(new b.ArrowDownShapeDescription(), F.ShapeCategories.General), this.register(new I.ArrowLeftShapeDescription(), F.ShapeCategories.General), this.register(new h.ArrowRightShapeDescription(), F.ShapeCategories.General), this.register(new u.ArrowUpDownShapeDescription(), F.ShapeCategories.General), this.register(new x.ArrowLeftRightShapeDescription(), F.ShapeCategories.General), this.register(new o.ProcessShapeDescription(), F.ShapeCategories.Flowchart), this.register(new i.DecisionShapeDescription(), F.ShapeCategories.Flowchart), this.register(new a.TerminatorShapeDescription(), F.ShapeCategories.Flowchart), this.register(new c.PredefinedProcessShapeDescription(), F.ShapeCategories.Flowchart), this.register(new w.DocumentShapeDescription(), F.ShapeCategories.Flowchart), this.register(new T.MultipleDocumentsShapeDescription(), F.ShapeCategories.Flowchart), this.register(new r.ManualInputShapeDescription(), F.ShapeCategories.Flowchart), this.register(new O.PreparationShapeDescription(), F.ShapeCategories.Flowchart), this.register(new s.DataShapeDescription(), F.ShapeCategories.Flowchart), this.register(new M.DatabaseShapeDescription(), F.ShapeCategories.Flowchart), this.register(new E.HardDiskShapeDescription(), F.ShapeCategories.Flowchart), this.register(new D.InternalStorageShapeDescription(), F.ShapeCategories.Flowchart), this.register(new A.PaperTapeShapeDescription(), F.ShapeCategories.Flowchart), this.register(new R.ManualOperationShapeDescription(), F.ShapeCategories.Flowchart), this.register(new L.DelayShapeDescription(), F.ShapeCategories.Flowchart), this.register(new N.StoredDataShapeDescription(), F.ShapeCategories.Flowchart), this.register(new z.DisplayShapeDescription(), F.ShapeCategories.Flowchart), this.register(new j.MergeShapeDescription(), F.ShapeCategories.Flowchart), this.register(new W.ConnectorShapeDescription(), F.ShapeCategories.Flowchart), this.register(new U.OrShapeDescription(), F.ShapeCategories.Flowchart), this.register(new k.SummingJunctionShapeDescription(), F.ShapeCategories.Flowchart), this.register(new Z.CardWithImageOnLeftDescription(), F.ShapeCategories.OrgChart), this.register(new Z.CardWithImageOnRightDescription(), F.ShapeCategories.OrgChart), this.register(new V.CardWithImageOnTopDescription(), F.ShapeCategories.OrgChart), this.register(new H.VerticalContainerDescription(), F.ShapeCategories.Containers), this.register(new K.HorizontalContainerDescription(), F.ShapeCategories.Containers);\n      }\n\n      return Object.defineProperty(t, \"default\", {\n        get: function get() {\n          return t.defaultInstance;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t, \"defaultContainer\", {\n        get: function get() {\n          return t.defaultContainerInstance;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.get = function (t) {\n        return this.descriptions[t];\n      }, t.prototype.getTypesByCategory = function (t) {\n        return this.descriptionTypes[t] || [];\n      }, t.prototype.getCategoryByType = function (t) {\n        return this.descriptionCategories[t];\n      }, t.prototype.getCategoryByDescription = function (t) {\n        return this.getCategoryByType(t.key);\n      }, t.prototype.register = function (t, e, n) {\n        if (void 0 === n && (n = t.key), void 0 !== this.descriptions[n]) throw Error(\"Description key is duplicated\");\n        this.descriptions[n] = t, this.descriptionTypes[e] || (this.descriptionTypes[e] = []), this.descriptionTypes[e].push(n), this.descriptionCategories[n] = e, t.onChanged.add(this);\n      }, t.prototype.registerCustomShape = function (t) {\n        if (void 0 === t.type) throw Error(\"Custom shape type is not defined\");\n        if (void 0 !== this.descriptions[t.type]) throw Error(\"Custom shape type is duplicated\");\n        var e = t.baseType && this.descriptions[t.baseType];\n        t.minWidth > t.maxWidth && (t.maxWidth = t.minWidth), t.minHeight > t.maxHeight && (t.maxHeight = t.minHeight), this.register(new B.CustomShapeDescription(t, e), t.category || F.ShapeCategories.Custom);\n      }, t.prototype.unregisterCustomShape = function (t) {\n        var e = this.descriptions[t];\n\n        if (e instanceof B.CustomShapeDescription) {\n          e.onChanged.remove(this);\n          var n = this.descriptionCategories[t];\n          delete this.descriptions[t], delete this.descriptionCategories[t];\n          var o = this.descriptionTypes[n].indexOf(t);\n          this.descriptionTypes[n].splice(o, 1), 0 === this.descriptionTypes[n].length && delete this.descriptionTypes[n];\n        }\n      }, t.prototype.unregisterAllCustomShapes = function () {\n        var t = this;\n        Object.keys(this.descriptions).forEach(function (e) {\n          t.unregisterCustomShape(e);\n        });\n      }, t.prototype.notifyShapeDescriptionChanged = function (t) {\n        this.onShapeDecriptionChanged.raise1(function (e) {\n          return e.notifyShapeDescriptionChanged(t);\n        });\n      }, t.defaultInstance = new g.RectangleShapeDescription(), t.defaultContainerInstance = new H.VerticalContainerDescription(), t;\n    }();\n\n    e.ShapeDescriptionManager = q;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o44,\n        i = this && this.__extends || (_o44 = function o(t, e) {\n      return (_o44 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o44(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowVerticalShapeDescription = e.ArrowVerticalLineWidthParameterName = e.ArrowVerticalTriangleHeightParameterName = void 0;\n    var r = n(7),\n        s = n(2),\n        a = n(38),\n        c = n(9);\n    e.ArrowVerticalTriangleHeightParameterName = \"th\", e.ArrowVerticalLineWidthParameterName = \"lw\";\n\n    var u = function (t) {\n      function n() {\n        return t.call(this, new s.Size(.375 * r.ShapeDefaultDimension, r.ShapeDefaultDimension)) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.createParameters = function (t) {\n        t.addRange([new a.ShapeParameter(e.ArrowVerticalTriangleHeightParameterName, Math.sqrt(Math.pow(this.defaultSize.width, 2) - Math.pow(this.defaultSize.width / 2, 2))), new a.ShapeParameter(e.ArrowVerticalLineWidthParameterName, this.defaultSize.width / 3)]);\n      }, n.prototype.normalizeParameters = function (t, n) {\n        this.changeParameterValue(n, e.ArrowVerticalTriangleHeightParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.height, e.value));\n        }), this.changeParameterValue(n, e.ArrowVerticalLineWidthParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.width, e.value));\n        });\n      }, n.prototype.processConnectionPoint = function (t, n) {\n        var o = (t.size.width - t.parameters.get(e.ArrowVerticalLineWidthParameterName).value) / 2,\n            i = t.getConnectionPointSide(n);\n        i === c.ConnectionPointSide.East ? n.x -= o : i === c.ConnectionPointSide.West && (n.x += o);\n      }, n.prototype.getTextRectangle = function (t) {\n        return t.rectangle.clone().inflate(-r.ShapeTextPadding, -r.ShapeTextPadding);\n      }, n.prototype.getSizeByText = function (t, e) {\n        return t.clone().offset(2 * r.ShapeTextPadding, 2 * r.ShapeTextPadding);\n      }, n;\n    }(r.ShapeDescription);\n\n    e.ArrowVerticalShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o45,\n        i = this && this.__extends || (_o45 = function o(t, e) {\n      return (_o45 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o45(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowHorizontalShapeDescription = e.ArrowVerticalLineHeightParameterName = e.ArrowVerticalTriangleWidthParameterName = void 0;\n    var r = n(7),\n        s = n(2),\n        a = n(38),\n        c = n(9);\n    e.ArrowVerticalTriangleWidthParameterName = \"tw\", e.ArrowVerticalLineHeightParameterName = \"lh\";\n\n    var u = function (t) {\n      function n() {\n        return t.call(this, new s.Size(r.ShapeDefaultDimension, .375 * r.ShapeDefaultDimension)) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.createParameters = function (t) {\n        t.addRange([new a.ShapeParameter(e.ArrowVerticalTriangleWidthParameterName, Math.sqrt(Math.pow(this.defaultSize.height, 2) - Math.pow(this.defaultSize.height / 2, 2))), new a.ShapeParameter(e.ArrowVerticalLineHeightParameterName, this.defaultSize.height / 3)]);\n      }, n.prototype.normalizeParameters = function (t, n) {\n        this.changeParameterValue(n, e.ArrowVerticalTriangleWidthParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.width, e.value));\n        }), this.changeParameterValue(n, e.ArrowVerticalLineHeightParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.height, e.value));\n        });\n      }, n.prototype.processConnectionPoint = function (t, n) {\n        var o = (t.size.height - t.parameters.get(e.ArrowVerticalLineHeightParameterName).value) / 2,\n            i = t.getConnectionPointSide(n);\n        i === c.ConnectionPointSide.North ? n.y += o : i === c.ConnectionPointSide.South && (n.y -= o);\n      }, n.prototype.getTextRectangle = function (t) {\n        return t.rectangle.clone().inflate(-r.ShapeTextPadding, -r.ShapeTextPadding);\n      }, n.prototype.getSizeByText = function (t, e) {\n        return t.clone().offset(2 * r.ShapeTextPadding, 2 * r.ShapeTextPadding);\n      }, n;\n    }(r.ShapeDescription);\n\n    e.ArrowHorizontalShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o46,\n        i = this && this.__extends || (_o46 = function o(t, e) {\n      return (_o46 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o46(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PolygonShapeDescription = void 0;\n\n    var r = n(7),\n        s = function (t) {\n      function e(e) {\n        var n = t.call(this, void 0, e) || this;\n        return n.defaultSize.height = n.calculateHeight(r.ShapeDefaultDimension), n;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"angle\", {\n        get: function get() {\n          return Math.PI * (this.angleCount - 2) / this.angleCount;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(r.ShapeDescription);\n\n    e.PolygonShapeDescription = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImportUtils = void 0;\n\n    var o = function () {\n      function t() {}\n\n      return t.parseJSON = function (t) {\n        if (!t || \"\" === t) return {};\n\n        try {\n          return JSON.parse(t);\n        } catch (t) {\n          return {};\n        }\n      }, t.createDocument = function (t) {\n        return new DOMParser().parseFromString(t, \"application/xml\");\n      }, t;\n    }();\n\n    e.ImportUtils = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o47,\n        i = this && this.__extends || (_o47 = function o(t, e) {\n      return (_o47 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o47(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStyleTextPropertyCommand = void 0;\n\n    var r = n(136),\n        s = n(68),\n        a = n(28),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.selection.inputPosition.getCurrentTextStylePropertyValue(this.getStyleProperty());\n      }, e.prototype.getStyleObj = function (t) {\n        return t.styleText;\n      }, e.prototype.getDefaultStyleObj = function () {\n        return new a.TextStyle();\n      }, e.prototype.createHistoryItem = function (t, e, n) {\n        return new s.ChangeStyleTextHistoryItem(t.key, e, n);\n      }, e.prototype.updateInputPosition = function (t) {\n        this.control.selection.inputPosition.setTextStylePropertyValue(this.getStyleProperty(), t);\n      }, e;\n    }(r.ChangeStylePropertyCommandBase);\n\n    e.ChangeStyleTextPropertyCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o48,\n        i = this && this.__extends || (_o48 = function o(t, e) {\n      return (_o48 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o48(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TreeLayoutBuilder = void 0;\n\n    var r = n(139),\n        s = n(252),\n        a = n(70),\n        c = n(3),\n        u = n(1),\n        h = n(140),\n        p = n(39),\n        l = n(9),\n        d = n(20),\n        f = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.nodeToLevel = {}, e.levelDepthSize = {}, e;\n      }\n\n      return i(e, t), e.prototype.build = function () {\n        var t = this,\n            e = new r.GraphLayout(),\n            n = 0;\n        return this.graph.getConnectedComponents().forEach(function (o) {\n          var i = s.Tree.createSpanningTree(o),\n              r = t.processTree(i);\n          e.extend(t.setComponentOffset(r, n)), n += t.getComponentOffset(r);\n        }), e;\n      }, e.prototype.preProcessTree = function (t, e, n) {\n        var o = this;\n\n        if ((e = e.filter(function (t) {\n          return (void 0 === o.nodeToLevel[t.key] ? o.nodeToLevel[t.key] = n : -1) >= 0;\n        })).length) {\n          var i = this.getMaxDepthSize(e);\n          this.levelDepthSize[n] = i, this.preProcessTree(t, [].concat.apply([], e.map(function (e) {\n            return t.getChildren(e);\n          })), n + 1);\n        }\n      }, e.prototype.loadNodes = function (t, e, n) {\n        return n ? t.getChildren(n.info).map(function (t) {\n          return e.hasNode(t.key) ? void 0 : e.addNode(new a.NodeLayout(t, u.Point.zero()));\n        }).filter(function (t) {\n          return t;\n        }) : [e.addNode(new a.NodeLayout(t.root, u.Point.zero()))];\n      }, e.prototype.processTree = function (t) {\n        var e = this,\n            n = new r.GraphLayout();\n\n        if (this.preProcessTree(t, [t.root], 0), this.processLevel(t, n, 0, new c.Range(0), 0), this.settings.direction === d.LogicalDirectionKind.Backward) {\n          var o = Object.keys(this.levelDepthSize).map(function (t) {\n            return e.levelDepthSize[t];\n          }),\n              i = o.reduce(function (t, e) {\n            return t + e;\n          }, 0) + (o.length - 1) * this.settings.layerSpacing;\n          n.forEachNode(function (t) {\n            return e.setDepthPos(t, e.getDepthPos(t) + i);\n          });\n        }\n\n        return n;\n      }, e.prototype.processLevel = function (t, e, n, o, i, r) {\n        var s,\n            a = this,\n            u = this.addNodes(t, e, i, r),\n            h = r ? this.graph.getAdjacentEdges(r.key, p.ConnectionMode.Outgoing) : [],\n            l = this.getDirectionValue(this.levelDepthSize[i]),\n            d = this.getDirectionValue(this.settings.layerSpacing);\n\n        if (u.forEach(function (r) {\n          var u = c.Range.fromLength(s ? s.to + a.settings.columnSpacing : o.from, a.getBreadthNodeSizeCore(r.info));\n          r.position = a.getNodePosition(u.from, n, l).clone().offset(r.info.margin.left, r.info.margin.top), a.processLevel(t, e, n + l + d, u, i + 1, r), a.updateEdgeConnections(e, h, r), o.extend(u), s = u;\n        }), r && u.length) {\n          var f = u[u.length - 1],\n              y = new c.Range(this.getBreadthPos(u[0]), this.getBreadthPos(f) + this.getBreadthNodeSizeCore(f.info, !0));\n          this.alignParent(r, y, o);\n        }\n      }, e.prototype.addNodes = function (t, e, n, o) {\n        var i = this;\n        return 0 === n ? [e.addNode(new a.NodeLayout(t.root, u.Point.zero()))] : t.getChildren(o.info).reduce(function (t, o) {\n          return i.nodeToLevel[o.key] !== n || e.hasNode(o.key) || t.push(e.addNode(new a.NodeLayout(o, u.Point.zero()))), t;\n        }, []);\n      }, e.prototype.getMaxDepthSize = function (t) {\n        var e = this;\n        return t.reduce(function (t, n) {\n          return Math.max(t, e.getDepthNodeSizeCore(n));\n        }, 0);\n      }, e.prototype.getNodePosition = function (t, e, n) {\n        return this.settings.direction === d.LogicalDirectionKind.Forward ? this.settings.orientation === d.DataLayoutOrientation.Vertical ? new u.Point(t, e) : new u.Point(e, t) : this.settings.orientation === d.DataLayoutOrientation.Vertical ? new u.Point(t, e + n) : new u.Point(e + n, t);\n      }, e.prototype.updateEdgeConnections = function (t, e, n) {\n        var o = this;\n        e.filter(function (t) {\n          return t.to === n.key;\n        }).forEach(function (e) {\n          var n = o.getBeginEdgeIndex(),\n              i = o.getEndEdgeIndex();\n          t.addEdge(new a.EdgeLayout(e.key, n, i));\n        });\n      }, e.prototype.getBeginEdgeIndex = function () {\n        return this.settings.direction === d.LogicalDirectionKind.Forward ? this.isVertical() ? l.ConnectionPointSide.South : l.ConnectionPointSide.East : this.isVertical() ? l.ConnectionPointSide.North : l.ConnectionPointSide.West;\n      }, e.prototype.getEndEdgeIndex = function () {\n        return this.settings.direction === d.LogicalDirectionKind.Forward ? this.isVertical() ? l.ConnectionPointSide.North : l.ConnectionPointSide.West : this.isVertical() ? l.ConnectionPointSide.South : l.ConnectionPointSide.East;\n      }, e.prototype.alignParent = function (t, e, n) {\n        if (this.settings.alignment === d.Alignment.Center) {\n          var o = e.from + e.length / 2 - this.getBreadthNodeSizeCore(t.info, !0) / 2;\n          this.settings.orientation === d.DataLayoutOrientation.Vertical ? (t.position.x = Math.max(n.from + t.info.margin.left, o), t.position.x = Math.min(n.to - t.info.size.width - t.info.margin.right, t.position.x)) : (t.position.y = Math.max(n.from + t.info.margin.top, o), t.position.y = Math.min(n.to - t.info.size.height - t.info.margin.bottom, t.position.y));\n        }\n      }, e.prototype.getDepthPos = function (t) {\n        return this.settings.orientation === d.DataLayoutOrientation.Vertical ? t.position.y : t.position.x;\n      }, e.prototype.getBreadthPos = function (t) {\n        return this.settings.orientation === d.DataLayoutOrientation.Vertical ? t.position.x : t.position.y;\n      }, e.prototype.setDepthPos = function (t, e) {\n        this.settings.orientation === d.DataLayoutOrientation.Vertical ? t.position.y = e : t.position.x = e;\n      }, e.prototype.isVertical = function () {\n        return this.settings.orientation === d.DataLayoutOrientation.Vertical;\n      }, e;\n    }(h.LayoutBuilder);\n\n    e.TreeLayoutBuilder = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o49,\n        i = this && this.__extends || (_o49 = function o(t, e) {\n      return (_o49 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o49(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportImageCommand = void 0;\n\n    var r = n(77),\n        s = n(260),\n        a = n(56),\n        c = n(72),\n        u = n(15),\n        h = n(78),\n        p = n(100),\n        l = n(46),\n        d = function (t) {\n      function e(e) {\n        var n = t.call(this, e) || this;\n        return n.exporter = new c.Exporter(), n;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return !l.ImageCache.instance.hasNonLoadedImages();\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n\n        try {\n          var o = this.getExportManager();\n          this.getExportFunc()(this.control.model.size.clone(), this.control.model.pageColor, o, function (t) {\n            e(t, n.getExtension()), n.tryDispose();\n          }, this.control.settings.useCanvgForExportToImage);\n        } catch (t) {\n          throw this.tryDispose(), t;\n        }\n\n        return !0;\n      }, e.prototype.getExportManager = function () {\n        var t = this.getOrCreateMeasurer(),\n            e = this.control.render && this.control.render.items || this.createItemsManager(t);\n        return this.exportManager || (this.exportManager = new s.CanvasExportManager(e.itemsContainer, t));\n      }, e.prototype.createItemsManager = function (t) {\n        this.svgElement = u.RenderHelper.createSvgElement(document.body, !0);\n        var e = new r.CanvasItemsManager(this.svgElement, 1, new p.ExportDOMManipulator(t));\n        return this.control.modelManipulator.onModelChanged.add(e), this.control.modelManipulator.commitItemsCreateChanges(), e;\n      }, e.prototype.tryDispose = function () {\n        this.svgElement && (document.body.removeChild(this.svgElement), delete this.svgElement), this.tempMeasurer && (this.tempMeasurer.clean(), this.tempMeasurer = void 0), this.exportManager = void 0;\n      }, e.prototype.getOrCreateMeasurer = function () {\n        return this.control.measurer || (this.tempMeasurer = new h.TextMeasurer(document.body));\n      }, e;\n    }(a.ExportImportCommandBase);\n\n    e.ExportImageCommand = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ItemChange = e.ItemChangeType = void 0, function (t) {\n      t[t.Create = 0] = \"Create\", t[t.UpdateProperties = 1] = \"UpdateProperties\", t[t.UpdateStructure = 2] = \"UpdateStructure\", t[t.Update = 3] = \"Update\", t[t.Remove = 4] = \"Remove\", t[t.UpdateClassName = 5] = \"UpdateClassName\";\n    }(e.ItemChangeType || (e.ItemChangeType = {}));\n\n    var o = function () {\n      function t(t, e, n) {\n        void 0 === n && (n = !0), this.item = t, this.type = e, this.isValid = n;\n      }\n\n      return Object.defineProperty(t.prototype, \"key\", {\n        get: function get() {\n          return this.item.key;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t;\n    }();\n\n    e.ItemChange = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o50,\n        i = this && this.__extends || (_o50 = function o(t, e) {\n      return (_o50 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o50(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportDOMManipulator = e.DOMManipulator = void 0;\n\n    var r = n(59),\n        s = function () {\n      function t(t) {\n        this.measurer = t, this.queue = [];\n      }\n\n      return t.prototype.createElement = function (t, e, n) {\n        return t.createElement(function (t) {\n          null != e && (void 0 !== n ? e.insertBefore(t, n) : e.appendChild(t));\n        });\n      }, t.prototype.changeChildrenByPrimitives = function (t, e) {\n        var n = this;\n        t.forEach(function (t, o) {\n          var i = e.childNodes[o];\n          n.changeByPrimitive(i, t);\n        });\n      }, t.prototype.changeByFunc = function (t, e) {\n        this.doChange(t, e);\n      }, t.prototype.changeByPrimitive = function (t, e) {\n        this.doChange(t, e);\n      }, t.prototype.cancelAnimation = function () {\n        void 0 !== this.rafId && (cancelAnimationFrame(this.rafId), this.queue = []);\n      }, t.prototype.doChange = function (t, e) {\n        r.Diagnostics.optimizeUsingRAF ? (this.queue.push([t, e]), this.requestAnimation()) : this.doChangeSync(t, e);\n      }, t.prototype.doChangeSync = function (t, e) {\n        \"function\" == typeof e ? e(t) : e.applyElementProperties(t, this.measurer);\n      }, t.prototype.requestAnimation = function () {\n        var t = this;\n\n        if (!this.rafRequested) {\n          this.rafRequested = !0;\n\n          var e = function e() {\n            t.queue.splice(0, 2e3).forEach(function (e) {\n              return t.doChangeSync(e[0], e[1]);\n            }), t.queue.length ? t.rafId = requestAnimationFrame(e) : (t.rafRequested = !1, t.rafId = void 0);\n          };\n\n          this.rafId = requestAnimationFrame(e);\n        }\n      }, t;\n    }();\n\n    e.DOMManipulator = s;\n\n    var a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.doChange = function (t, e) {\n        this.doChangeSync(t, e);\n      }, e;\n    }(s);\n\n    e.ExportDOMManipulator = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o51,\n        i = this && this.__extends || (_o51 = function o(t, e) {\n      return (_o51 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o51(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ClipboardCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.setClipboardData = function (t) {\n        this.control.render && this.control.render.input.setClipboardData(t), e.clipboardData = t;\n      }, e.prototype.getClipboardData = function (t) {\n        this.control.render && this.isPasteSupportedByBrowser() ? this.control.render.input.getClipboardData(t) : t(e.clipboardData);\n      }, e.prototype.isPasteSupportedByBrowser = function () {\n        return this.control.render && this.control.render.input.isPasteSupportedByBrowser();\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ClipboardCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o52,\n        i = this && this.__extends || (_o52 = function o(t, e) {\n      return (_o52 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o52(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeZindexHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.itemKey = e.key, o.zIndex = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.oldZIndex = e.zIndex, t.changeZIndex(e, this.zIndex);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.changeZIndex(e, this.oldZIndex);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeZindexHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DataLayoutParameters = e.DataLayoutType = void 0;\n    var o,\n        i = n(20),\n        r = n(97),\n        s = n(79);\n    !function (t) {\n      t[t.Tree = 0] = \"Tree\", t[t.Sugiyama = 1] = \"Sugiyama\";\n    }(o = e.DataLayoutType || (e.DataLayoutType = {}));\n\n    var a = function () {\n      function t(t, e) {\n        this.sizeSettings = t, e && (void 0 !== e.type && (this.layoutType = e.type, this.layoutSettings = this.layoutType === o.Sugiyama ? new i.LayoutSettings() : new i.TreeLayoutSettings()), void 0 !== e.orientation && (this.layoutSettings.orientation = e.orientation), this.skipPointIndices = e.skipPointIndices, this.autoSizeEnabled = e.autoSizeEnabled);\n      }\n\n      return Object.defineProperty(t.prototype, \"needAutoLayout\", {\n        get: function get() {\n          return void 0 !== this.layoutType;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getLayoutBuilder = function (t) {\n        return this.layoutType === o.Tree ? new r.TreeLayoutBuilder(this.layoutSettings, t) : new s.SugiyamaLayoutBuilder(this.layoutSettings, t);\n      }, t;\n    }();\n\n    e.DataLayoutParameters = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o53,\n        i = this && this.__extends || (_o53 = function o(t, e) {\n      return (_o53 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o53(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EditShapeImageCommandBase = void 0;\n\n    var r = n(147),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.getSelectedShape();\n        return t.prototype.isEnabled.call(this) && !!e && !e.locked && e.enableImage && e.allowEditImage;\n      }, e.prototype.getValue = function () {\n        var t = this.getSelectedShape();\n        return t ? t.image.exportUrl : void 0;\n      }, e.prototype.getSelectedShape = function () {\n        var t = this.control.selection.getSelectedShapes(!0);\n        return 1 === t.length ? t[0] : void 0;\n      }, e.prototype.executeCore = function (t, e) {\n        this.control.history.beginTransaction();\n        var n = this.control.selection.getSelectedShapes(!1);\n        return this.control.history.addAndRedo(new r.ChangeShapeImageHistoryItem(n[0], e)), this.control.history.endTransaction(), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.EditShapeImageCommandBase = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToolboxDragEventsHandlerBase = void 0;\n\n    var o = n(60),\n        i = n(1),\n        r = n(17),\n        s = function () {\n      function t(t) {\n        this.isTouchUIEnabled = t;\n      }\n\n      return t.prototype.attach = function (t) {\n        if (t && t.mainElement) {\n          t.dragEventsHandler = this, this.manager = t, this.onElementDownHandler = this.onElementDown.bind(this), this.onElementUpHandler = this.onElementUp.bind(this), this.onDownHandler = this.onDown.bind(this), this.onMoveHandler = this.onMove.bind(this), this.onUpHandler = this.onUp.bind(this);\n          var e = this.manager.mainElement;\n          e.addEventListener(this.downEventName, this.onElementDownHandler), e.addEventListener(this.upEventName, this.onElementUpHandler), e.addEventListener(this.downEventName, this.onDownHandler), document.addEventListener(this.moveEventName, this.onMoveHandler), document.addEventListener(this.upEventName, this.onUpHandler);\n        }\n      }, t.prototype.detach = function () {\n        var t = this.manager.mainElement;\n        t.removeEventListener(this.downEventName, this.onElementDownHandler), t.removeEventListener(this.upEventName, this.onElementUpHandler), t.removeEventListener(this.downEventName, this.onDownHandler), document.removeEventListener(this.moveEventName, this.onMoveHandler), document.removeEventListener(this.upEventName, this.onUpHandler), this.manager = void 0;\n      }, t.prototype.onElementDown = function (t) {\n        this.mouseDownShapeType = this.getDragShapeType(t);\n      }, t.prototype.onElementUp = function (t) {\n        var e = this.getDragShapeType(t);\n        e && e === this.mouseDownShapeType && this.manager.raiseNotifyToolboxClick(e), this.mouseDownShapeType = void 0;\n      }, t.prototype.onDown = function (t) {\n        this.manager.shouldPrepareDrag() && (void 0 === this.getDragShapeType(t) ? this.manager.finishDragging() : (this.manager.prepareDragging(this.createPoint(t), this.getDragShapeType(t)), this.onDownCore(t)));\n      }, t.prototype.onMove = function (t) {\n        this.onMoveCore(t, r.isLeftButtonPressed(t));\n      }, t.prototype.onUp = function (t) {\n        this.manager.finishDragging();\n      }, t.prototype.onMoveCore = function (t, e) {\n        e ? this.manager.shouldContinueDragging() && this.manager.continueDragging(this.createPoint(t)) : this.manager.finishDragging();\n      }, t.prototype.getDragShapeType = function (t) {\n        return this.manager.getDragShapeType(this.getEventSource(t));\n      }, t.prototype.createPoint = function (t) {\n        return new i.Point(o.EvtUtils.getEventX(t), o.EvtUtils.getEventY(t));\n      }, t.prototype.getEventSource = function (t) {\n        return o.EvtUtils.getEventSource(t);\n      }, t;\n    }();\n\n    e.ToolboxDragEventsHandlerBase = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RenderManagerDragEventsHandlerBase = void 0;\n\n    var o = n(19),\n        i = function () {\n      function t() {\n        this.isMoveLocked = !1, this.lockMoveTimer = -1;\n      }\n\n      return t.prototype.attach = function (t) {\n        if (t && t.svgElement) {\n          t.dragEventsHandler = this, this.manager = t, this.isMoveLocked = !1, this.lockMoveTimer = -1, this.onEnterHandler = this.onEnter.bind(this), this.onLeaveHandler = this.onLeave.bind(this), this.onDownHandler = this.onDown.bind(this), this.onMoveHandler = this.onMove.bind(this), this.onUpHandler = this.onUp.bind(this);\n          var e = this.manager.svgElement;\n          e.addEventListener(this.enterEventName, this.onEnterHandler, {\n            passive: !1\n          }), e.addEventListener(this.leaveEventName, this.onLeaveHandler, {\n            passive: !1\n          }), e.addEventListener(this.downEventName, this.onDownHandler, {\n            passive: !1\n          }), document.addEventListener(this.moveEventName, this.onMoveHandler, {\n            passive: !1\n          }), document.addEventListener(this.upEventName, this.onUpHandler, {\n            passive: !1\n          });\n        }\n      }, t.prototype.detach = function () {\n        var t = this.manager.svgElement;\n        t.removeEventListener(this.enterEventName, this.onEnterHandler), t.removeEventListener(this.leaveEventName, this.onLeaveHandler), t.removeEventListener(this.downEventName, this.onDownHandler), document.removeEventListener(this.moveEventName, this.onMoveHandler), document.removeEventListener(this.upEventName, this.onUpHandler), this.unLockMove(), this.manager = void 0;\n      }, t.prototype.onDown = function (t) {\n        this.lockMove(), this.onDownCore(t);\n      }, t.prototype.onUp = function (t) {\n        this.lockMove(), this.onUpCore(t);\n      }, t.prototype.onMove = function (t) {\n        this.isMoveLocked || (this.onMoveCore(t), o.Browser.IE && this.lockMove());\n      }, t.prototype.onEnter = function (t) {\n        this.manager.onMouseEnter(t);\n      }, t.prototype.onLeave = function (t) {\n        this.manager.onMouseLeave(t);\n      }, t.prototype.lockMove = function () {\n        var t = this;\n        this.isMoveLocked = !0, this.lockMoveTimer = setTimeout(function () {\n          t.isMoveLocked = !1, t.lockMoveTimer = -1;\n        }, 10);\n      }, t.prototype.unLockMove = function () {\n        -1 !== this.lockMoveTimer && (clearTimeout(this.lockMoveTimer), this.lockMoveTimer = -1);\n      }, t;\n    }();\n\n    e.RenderManagerDragEventsHandlerBase = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(165),\n        i = n(166),\n        r = function () {\n      function t() {}\n\n      return t.remove = function (t, e) {\n        var n = t.indexOf(e, 0);\n        n >= 0 && t.splice(n, 1);\n      }, t.removeBy = function (t, e) {\n        for (var n = t.length, o = 0; o < n; o++) if (e(t[o], o)) return t.splice(o, 1)[0];\n\n        return null;\n      }, t.shallowCopy = function (t) {\n        return t.slice();\n      }, t.deepCopy = function (e) {\n        return t.map(e, function (t) {\n          return t.clone();\n        });\n      }, t.initByValue = function (t, e) {\n        for (var n = []; t > 0; t--) n.push(e);\n\n        return n;\n      }, t.initByCallback = function (t, e) {\n        for (var n = [], o = 0; o < t; o++) n.push(e(o));\n\n        return n;\n      }, t.forEachOnInterval = function (t, e) {\n        for (var n = t.end, o = t.start; o < n; o++) e(o);\n      }, t.reverseForEachOnInterval = function (t, e) {\n        for (var n = t.start, o = t.end - 1; o >= n; o--) e(o);\n      }, t.reducedMap = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = [], r = n; r < o; r++) {\n          var s = e(t[r], r);\n          null !== s && i.push(s);\n        }\n\n        return i;\n      }, t.filter = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = [], r = n; r < o; r++) {\n          var s = t[r];\n          e(s, r) && i.push(s);\n        }\n\n        return i;\n      }, t.map = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = [], r = n; r < o; r++) i.push(e(t[r], r));\n\n        return i;\n      }, t.indexBy = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = n; i < o; i++) if (e(t[i], i)) return i;\n\n        return -1;\n      }, t.reverseIndexBy = function (t, e, n, o) {\n        void 0 === n && (n = t.length - 1), void 0 === o && (o = 0);\n\n        for (var i = n; i >= o; i--) if (e(t[i], i)) return i;\n\n        return -1;\n      }, t.elementBy = function (e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = e.length);\n        var r = t.indexBy(e, n, o, i);\n        return r < 0 ? null : e[r];\n      }, t.reverseElementBy = function (e, n, o, i) {\n        void 0 === o && (o = e.length - 1), void 0 === i && (i = 0);\n        var r = t.reverseIndexBy(e, n, o, i);\n        return r < 0 ? null : e[r];\n      }, t.last = function (t) {\n        return t[t.length - 1];\n      }, t.setLast = function (t, e) {\n        return t[t.length - 1] = e;\n      }, t.incLast = function (t) {\n        return ++t[t.length - 1];\n      }, t.decLast = function (t) {\n        return --t[t.length - 1];\n      }, t.equals = function (e, n) {\n        return e.length === n.length && t.allOf2(e, n, function (t, e) {\n          return t.equals(e);\n        });\n      }, t.equalsByReference = function (t, e) {\n        var n = t.length;\n        if (n !== t.length) return !1;\n\n        for (var o = 0; o < n; o++) if (t[o] !== e[o]) return !1;\n\n        return !0;\n      }, t.unique = function (e, n, o, i) {\n        void 0 === o && (o = n), void 0 === i && (i = function i() {});\n        var r = e.length;\n        if (0 === r) return [];\n        var s = (e = e.sort(n))[0],\n            a = t.reducedMap(e, function (t) {\n          return 0 !== o(s, t) ? (s = t, t) : (i(t), null);\n        }, 1, r);\n        return a.unshift(e[0]), a;\n      }, t.uniqueNumber = function (t) {\n        t = t.sort(i.Comparers.number);\n\n        for (var e = Number.NaN, n = t.length - 1; n >= 0; n--) e === t[n] ? t.splice(n, 1) : e = t[n];\n\n        return t;\n      }, t.forEach = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = n; i < o; i++) e(t[i], i);\n      }, t.forEach2 = function (t, e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = t.length);\n\n        for (var r = o; r < i; r++) n(t[r], e[r], r);\n      }, t.reverseForEach = function (t, e, n, o) {\n        void 0 === n && (n = t.length - 1), void 0 === o && (o = 0);\n\n        for (var i = n; i >= o; i--) e(t[i], i);\n      }, t.reverseIndexOf = function (t, e, n, o) {\n        void 0 === n && (n = t.length - 1), void 0 === o && (o = 0);\n\n        for (var i = n; i >= o; i--) if (t[i] === e) return i;\n\n        return -1;\n      }, t.accumulate = function (t, e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = t.length);\n\n        for (var r = e, s = o; s < i; s++) r = n(r, t[s], s);\n\n        return r;\n      }, t.accumulateNumber = function (t, e, n, o, i) {\n        void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === i && (i = t.length);\n\n        for (var r = n, s = o; s < i; s++) r += e(t[s], s, r);\n\n        return r;\n      }, t.anyOf = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = n; i < o; i++) if (e(t[i], i)) return !0;\n\n        return !1;\n      }, t.unsafeAnyOf = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = n; i < o; i++) {\n          var r = e(t[i], i);\n          if (r) return r;\n        }\n\n        return null;\n      }, t.reverseAnyOf = function (t, e, n, o) {\n        void 0 === n && (n = t.length - 1), void 0 === o && (o = 0);\n\n        for (var i = n; i >= o; i--) if (e(t[i], i)) return !0;\n\n        return !1;\n      }, t.unsafeReverseAnyOf = function (t, e, n, o) {\n        void 0 === n && (n = t.length - 1), void 0 === o && (o = 0);\n\n        for (var i = n; i >= o; i--) {\n          var r = e(t[i], i);\n          if (r) return r;\n        }\n\n        return null;\n      }, t.anyOf2 = function (t, e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = t.length);\n\n        for (var r = o; r < i; r++) if (n(t[r], e[r], r)) return !0;\n\n        return !1;\n      }, t.allOf = function (t, e, n, o) {\n        void 0 === n && (n = 0), void 0 === o && (o = t.length);\n\n        for (var i = n; i < o; i++) if (!e(t[i], i)) return !1;\n\n        return !0;\n      }, t.allOf2 = function (t, e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = t.length);\n\n        for (var r = o; r < i; r++) if (!n(t[r], e[r], r)) return !1;\n\n        return !0;\n      }, t.allOfOnInterval = function (t, e) {\n        for (var n = t.end, o = t.start; o < n; o++) if (!e(o)) return !1;\n\n        return !0;\n      }, t.addListOnTail = function (t, e) {\n        for (var n = 0, o = void 0; o = e[n]; n++) t.push(o);\n\n        return t;\n      }, t.joinLists = function (e) {\n        for (var n = [], o = 1; o < arguments.length; o++) n[o - 1] = arguments[o];\n\n        return t.accumulate(n, [], function (n, o) {\n          return t.addListOnTail(n, e(o)), n;\n        });\n      }, t.push = function (t, e) {\n        return t.push(e), t;\n      }, t.countIf = function (e, n) {\n        return t.accumulateNumber(e, function (t, e) {\n          return n(t, e) ? 1 : 0;\n        });\n      }, t.clear = function (t) {\n        t.splice(0);\n      }, t.merge = function (t, e, n, o, i, r) {\n        if (void 0 === i && (i = 0), void 0 === r && (r = t.length), t = t.slice(i, r), r - i < 2) return t;\n\n        for (var s = (t = t.sort(e))[i], a = [s], c = i + 1; c < r; c++) {\n          var u = t[c];\n          n(s, u) ? o(s, u) : (s = u, a.push(s));\n        }\n\n        return a;\n      }, t.min = function (e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = e.length);\n        var r = t.minExtended(e, n, o, i);\n        return r ? r.minElement : null;\n      }, t.max = function (e, n, o, i) {\n        void 0 === o && (o = 0), void 0 === i && (i = e.length);\n        var r = t.maxExtended(e, n, o, i);\n        return r ? r.maxElement : null;\n      }, t.minMax = function (e, n, i, r) {\n        void 0 === i && (i = 0), void 0 === r && (r = e.length);\n        var s = t.minMaxExtended(e, n, i, r);\n        return s ? new o.MinMax(s.minElement, s.maxElement) : null;\n      }, t.minExtended = function (t, e, n, i) {\n        if (void 0 === n && (n = 0), void 0 === i && (i = t.length), 0 === t.length) return null;\n\n        for (var r = t[n], s = e(r), a = n + 1; a < i; a++) {\n          var c = t[a],\n              u = e(c);\n          u < s && (s = u, r = c);\n        }\n\n        return new o.ExtendedMin(r, s);\n      }, t.maxExtended = function (t, e, n, i) {\n        if (void 0 === n && (n = 0), void 0 === i && (i = t.length), 0 === t.length) return null;\n\n        for (var r = t[n], s = e(r), a = n + 1; a < i; a++) {\n          var c = t[a],\n              u = e(c);\n          u > s && (s = u, r = c);\n        }\n\n        return new o.ExtendedMax(r, s);\n      }, t.minMaxExtended = function (t, e, n, i) {\n        if (void 0 === n && (n = 0), void 0 === i && (i = t.length), 0 === t.length) return null;\n\n        for (var r = t[n], s = r, a = e(r), c = a, u = n + 1; u < i; u++) {\n          var h = t[u],\n              p = e(h);\n          p < a ? (a = p, r = h) : p > c && (c = p, s = h);\n        }\n\n        return new o.ExtendedMinMax(r, a, s, c);\n      }, t.minByCmp = function (t, e, n, o) {\n        if (void 0 === n && (n = 0), void 0 === o && (o = t.length), 0 === t.length) return null;\n\n        for (var i = t[n], r = n + 1; r < o; r++) {\n          var s = t[r];\n          e(s, i) < 0 && (i = s);\n        }\n\n        return i;\n      }, t.maxByCmp = function (t, e, n, o) {\n        if (void 0 === n && (n = 0), void 0 === o && (o = t.length), 0 === t.length) return null;\n\n        for (var i = t[n], r = n + 1; r < o; r++) {\n          var s = t[r];\n          e(s, i) > 0 && (i = s);\n        }\n\n        return i;\n      }, t.minMaxByCmp = function (t, e, n, i) {\n        if (void 0 === n && (n = 0), void 0 === i && (i = t.length), 0 === t.length) return null;\n\n        for (var r = t[n], s = r, a = n + 1; a < i; a++) {\n          var c = t[a],\n              u = e(c, r);\n          u > 0 ? s = c : u < 0 && (r = c);\n        }\n\n        return new o.MinMax(r, s);\n      }, t;\n    }();\n\n    e.ListUtils = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(57),\n        i = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.start = e, o.length = n, o;\n      }\n\n      return o.__extends(e, t), Object.defineProperty(e.prototype, \"end\", {\n        get: function get() {\n          return this.start + this.length;\n        },\n        set: function set(t) {\n          this.length = t - this.start;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"center\", {\n        get: function get() {\n          return this.start + this.length / 2;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype.copyFrom = function (t) {\n        this.start = t.start, this.length = t.length;\n      }, e.prototype.equals = function (t) {\n        return t && this.start === t.start && this.length === t.length;\n      }, e.prototype.clone = function () {\n        return new e(this.start, this.length);\n      }, e.prototype.makeByStartEnd = function (t, n) {\n        return new e(t, n - t);\n      }, e.prototype.makeByStartLength = function (t, n) {\n        return new e(t, n);\n      }, e.prototype.makeByLengthEnd = function (t, n) {\n        return new e(n - t, t);\n      }, e.fromPositions = function (t, n) {\n        return new e(t, n - t);\n      }, e.makeByConstInterval = function (t) {\n        return new e(t.start, t.length);\n      }, e.prototype.expand = function (t) {\n        var e = Math.max(t.end, this.end);\n        return this.start = Math.min(t.start, this.start), this.end = e, this;\n      }, e;\n    }(n(167).MutableInterval);\n\n    e.FixedInterval = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t(t) {\n        this.sparseIntervals = t, this.intervalIndex = -1;\n      }\n\n      return Object.defineProperty(t.prototype, \"isStarted\", {\n        get: function get() {\n          return !!this.curr;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.moveNext = function () {\n        return this.curr && this.posInInterval + 1 < this.curr.length ? (this.posInInterval++, this.index++, this.initObject(), !0) : this.intervalIndex + 1 < this.sparseIntervals.numIntervals && (this.intervalIndex++, this.curr = this.sparseIntervals.getInterval(this.intervalIndex), this.curr.length ? (this.posInInterval = 0, this.index = this.curr.start, this.initObject(), !0) : this.moveNext());\n      }, t.prototype.movePrev = function () {\n        return this.curr && this.posInInterval - 1 >= this.curr.start ? (this.posInInterval--, this.index--, this.initObject(), !0) : (this.isStarted || (this.intervalIndex = this.sparseIntervals.numIntervals), this.intervalIndex - 1 >= 0 && (this.intervalIndex--, this.curr = this.sparseIntervals.getInterval(this.intervalIndex), this.posInInterval = Math.max(this.curr.length - 1, this.curr.start), this.index = this.curr.start, this.initObject(), !0));\n      }, t.prototype.initObject = function () {}, t;\n    }();\n\n    e.SparseIntervalsIterator = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o54,\n        i = this && this.__extends || (_o54 = function o(t, e) {\n      return (_o54 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o54(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.FilterPrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this) || this;\n        return s.id = e, s.x = n, s.y = o, s.width = i, s.height = r, s;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        var t = document.createElementNS(r.svgNS, \"filter\");\n        return t.setAttribute(\"id\", this.id), t;\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.id && e.setAttribute(\"id\", this.id), this.setUnitAttribute(e, \"x\", this.x), this.setUnitAttribute(e, \"y\", this.y), this.setUnitAttribute(e, \"width\", this.width), this.setUnitAttribute(e, \"height\", this.height), this.setPositionCorrectionAttribute(e), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.FilterPrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PrimitiveObject = void 0;\n\n    var o = n(12),\n        i = function () {\n      function t(t) {\n        this.style = t;\n      }\n\n      return Object.defineProperty(t.prototype, \"strokeWidthPx\", {\n        get: function get() {\n          return this.style ? this.style.strokeWidthPx : 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"strokeOffset\", {\n        get: function get() {\n          return this.style ? this.style.strokeOffset : 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getUnitVaue = function (t) {\n        return \"number\" == typeof t ? o.UnitConverter.twipsToPixels(t).toString() : t;\n      }, t.prototype.setUnitAttribute = function (t, e, n) {\n        null != n && t.setAttribute(e, this.getUnitVaue(n));\n      }, t.prototype.setPositionCorrectionAttribute = function (t) {\n        var e = this.strokeWidthPx % 2 == 1 ? \"translate(\" + this.strokeOffset + \", \" + this.strokeOffset + \")\" : \"\";\n        t.setAttribute(\"transform\", e);\n      }, t;\n    }();\n\n    e.PrimitiveObject = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.isColorProperty = void 0;\n    var o = {\n      stroke: !0,\n      fill: !0\n    };\n\n    e.isColorProperty = function (t) {\n      return o[t];\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsCalculatorBase = void 0;\n\n    var o = function () {\n      return function (t) {\n        this.connector = t;\n      };\n    }();\n\n    e.ConnectorPointsCalculatorBase = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o55,\n        i = this && this.__extends || (_o55 = function o(t, e) {\n      return (_o55 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o55(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeShapeParametersHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.shapeKey = e, o.parameters = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        this.oldParameters = e.parameters.clone(), t.changeShapeParameters(e, this.parameters);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.changeShapeParameters(e, this.oldParameters);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeShapeParametersHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o56,\n        i = this && this.__extends || (_o56 = function o(t, e) {\n      return (_o56 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o56(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteConnectorHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.connectorKey = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        this.connector = e.clone(), t.deleteConnector(e);\n      }, e.prototype.undo = function (t) {\n        t.addConnector(this.connector, this.connector.key);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.DeleteConnectorHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o57,\n        i = this && this.__extends || (_o57 = function o(t, e) {\n      return (_o57 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o57(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteShapeHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        void 0 === n && (n = !0);\n        var o = t.call(this) || this;\n        return o.shapeKey = e, o.allowed = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        this.shape = e.clone(), t.deleteShape(e, this.allowed);\n      }, e.prototype.undo = function (t) {\n        t.addShape(this.shape, this.shape.key);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.DeleteShapeHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o58,\n        i = this && this.__extends || (_o58 = function o(t, e) {\n      return (_o58 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o58(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ResizeShapeHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.shapeKey = e, i.position = n, i.size = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        this.oldPosition = e.position.clone(), this.oldSize = e.size.clone(), t.resizeShape(e, this.position, this.size);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.resizeShape(e, this.oldPosition, this.oldSize);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ResizeShapeHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o59,\n        i = this && this.__extends || (_o59 = function o(t, e) {\n      return (_o59 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o59(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeLockedHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.itemKey = e.key, o.locked = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.oldLocked = e.locked, t.changeLocked(e, this.locked);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.changeLocked(e, this.oldLocked);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeLockedHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o60,\n        i = this && this.__extends || (_o60 = function o(t, e) {\n      return (_o60 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o60(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStyleHistoryItemBase = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.itemKey = e, i.styleProperty = n, i.styleValue = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.oldStyleValue = e.style[this.styleProperty], t.changeStyle(e, this.styleProperty, this.styleValue);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.changeStyle(e, this.styleProperty, this.oldStyleValue);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeStyleHistoryItemBase = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o61,\n        i = this && this.__extends || (_o61 = function o(t, e) {\n      return (_o61 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o61(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Importer = void 0;\n\n    var r = n(13),\n        s = n(3),\n        a = n(2),\n        c = n(1),\n        u = n(91),\n        h = n(6),\n        p = n(51),\n        l = n(134),\n        d = n(95),\n        f = n(22),\n        y = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.obj = d.ImportUtils.parseJSON(n), o;\n      }\n\n      return i(e, t), e.prototype.getObject = function () {\n        return this.obj;\n      }, e.prototype.getPageObject = function (t) {\n        return t.page;\n      }, e.prototype.getShapeObjects = function (t) {\n        return t.shapes;\n      }, e.prototype.getConnectorObjects = function (t) {\n        return t.connectors;\n      }, e.prototype.importPageSettings = function (t, e) {\n        e && (this.assert(e.width, \"number\"), this.assert(e.height, \"number\"), \"number\" == typeof e.width && (t.size.width = e.width), \"number\" == typeof e.height && (t.size.height = e.height), \"number\" == typeof e.pageColor ? t.pageColor = e.pageColor : \"string\" == typeof e.pageColor && (t.pageColor = f.ColorUtils.fromString(e.pageColor)), \"number\" == typeof e.pageWidth && (t.pageSize.width = e.pageWidth), \"number\" == typeof e.pageHeight && (t.pageSize.height = e.pageHeight), \"boolean\" == typeof e.pageLandscape && (t.pageLandscape = e.pageLandscape));\n      }, e.prototype.importShape = function (t) {\n        this.assert(t.key, \"string\"), this.assert(t.x, \"number\"), this.assert(t.y, \"number\"), this.assert(t.type, \"string\");\n        var e = t.type,\n            n = this.shapeDescriptionManager.get(e),\n            o = new c.Point(t.x, t.y),\n            i = new r.Shape(n || u.ShapeDescriptionManager.default, o);\n        return i.key = t.key, \"string\" != typeof t.dataKey && \"number\" != typeof t.dataKey || (i.dataKey = t.dataKey), \"object\" == typeof t.customData && (i.customData = s.ObjectUtils.cloneObject(t.customData)), \"boolean\" == typeof t.locked && (i.locked = t.locked), \"number\" == typeof t.width && (i.size.width = t.width), \"number\" == typeof t.height && (i.size.height = t.height), \"string\" == typeof t.text && (i.text = t.text), \"string\" == typeof t.imageUrl && (i.image = new p.ImageInfo(t.imageUrl)), t.parameters && (i.parameters.fromObject(t.parameters), i.description.normalizeParameters(i, i.parameters)), t.style && i.style.fromObject(t.style), t.styleText && i.styleText.fromObject(t.styleText), \"number\" == typeof t.zIndex && (i.zIndex = t.zIndex), Array.isArray(t.childKeys) && (i.childKeys = t.childKeys.slice()), \"boolean\" == typeof t.expanded && (i.expanded = t.expanded), \"number\" == typeof t.expandedWidth && \"number\" == typeof t.expandedHeight && (i.expandedSize = new a.Size(t.expandedWidth, t.expandedHeight)), i;\n      }, e.prototype.importShapeChildren = function (t, e) {\n        return [];\n      }, e.prototype.importConnector = function (t) {\n        var e = this;\n        if (this.assert(t.key, \"string\"), !Array.isArray(t.points)) throw Error(\"Invalid Format\");\n        var n = t.points.map(function (t) {\n          return e.assert(t.x, \"number\"), e.assert(t.y, \"number\"), new c.Point(t.x, t.y);\n        }),\n            o = new h.Connector(n);\n        return o.key = t.key, \"string\" != typeof t.dataKey && \"number\" != typeof t.dataKey || (o.dataKey = t.dataKey), \"object\" == typeof t.customData && (o.customData = s.ObjectUtils.cloneObject(t.customData)), \"boolean\" == typeof t.locked && (o.locked = t.locked), o.endConnectionPointIndex = \"number\" == typeof t.endConnectionPointIndex ? t.endConnectionPointIndex : -1, o.beginConnectionPointIndex = \"number\" == typeof t.beginConnectionPointIndex ? t.beginConnectionPointIndex : -1, void 0 !== t.endItemKey && this.assert(t.endItemKey, \"string\"), void 0 !== t.beginItemKey && this.assert(t.beginItemKey, \"string\"), o.endItemKey = t.endItemKey, o.beginItemKey = t.beginItemKey, t.texts && o.texts.fromObject(t.texts), t.properties && o.properties.fromObject(t.properties), t.style && o.style.fromObject(t.style), t.styleText && o.styleText.fromObject(t.styleText), \"number\" == typeof t.zIndex && (o.zIndex = t.zIndex), o;\n      }, e;\n    }(l.ImporterBase);\n\n    e.Importer = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o62,\n        i = this && this.__extends || (_o62 = function o(t, e) {\n      return (_o62 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o62(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiamondShapeDescription = void 0;\n\n    var r = n(7),\n        s = n(5),\n        a = n(0),\n        c = function (t) {\n      function e(e, n) {\n        return void 0 === e && (e = r.ShapeDefaultSize.clone()), t.call(this, e, n) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return a.ShapeTypes.Diamond;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            r = e.bottom,\n            a = e.center,\n            c = a.x,\n            u = a.y;\n        return [new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(c, o), new s.PathPrimitiveLineToCommand(i, u), new s.PathPrimitiveLineToCommand(c, r), new s.PathPrimitiveLineToCommand(n, u), new s.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        return t.rectangle.clone().inflate(-t.size.width / 4, -t.size.height / 4);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return t.clone().multiply(2, 2);\n      }, e;\n    }(r.ShapeDescription);\n\n    e.DiamondShapeDescription = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o63,\n        i = this && this.__extends || (_o63 = function o(t, e) {\n      return (_o63 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o63(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextShapeDescription = void 0;\n\n    var r = n(7),\n        s = n(2),\n        a = n(0),\n        c = n(55),\n        u = n(21),\n        h = n(17),\n        p = function (t) {\n      function e() {\n        var e = t.call(this, new s.Size(r.ShapeDefaultDimension, .5 * r.ShapeDefaultDimension), !0) || this;\n        return e.textClipPathId = h.RenderUtils.generateSvgElementId(\"clipRect\"), e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return a.ShapeTypes.Text;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t, e) {\n        if (e) {\n          var n = t.rectangle,\n              o = n.x,\n              i = n.y,\n              r = n.width,\n              s = n.height;\n          return [new c.ClipPathPrimitive(this.getTextClipPathId(e), [new u.RectanglePrimitive(o, i, r, s)])];\n        }\n\n        return [];\n      }, e.prototype.getTextClipPathId = function (t) {\n        return t ? this.textClipPathId : void 0;\n      }, e.prototype.getSizeByTextRectangle = function (t) {\n        return t;\n      }, e.prototype.getSizeByText = function (t, e) {\n        return t.clone();\n      }, e.prototype.getTextRectangle = function (t) {\n        return t.rectangle;\n      }, e;\n    }(r.ShapeDescription);\n\n    e.TextShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o64,\n        i = this && this.__extends || (_o64 = function o(t, e) {\n      return (_o64 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o64(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PentagonShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(0),\n        a = n(94),\n        c = n(9),\n        u = n(3),\n        h = n(11),\n        p = function (t) {\n      function e(e) {\n        var n = t.call(this, e) || this;\n        return n.defaultRatio = n.defaultSize.height / n.defaultSize.width, n;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Pentagon;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"angleCount\", {\n        get: function get() {\n          return 5;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            s = e.bottom,\n            a = e.width,\n            c = e.height,\n            u = e.center.x,\n            h = c / a / this.defaultRatio,\n            p = Math.PI - this.angle,\n            l = a / 2 * Math.tan(p / 2) * h,\n            d = o + l,\n            f = (c - l) / Math.tan(p) / h,\n            y = n + f,\n            g = i - f;\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(u, o), new r.PathPrimitiveLineToCommand(i, d), new r.PathPrimitiveLineToCommand(g, s), new r.PathPrimitiveLineToCommand(y, s), new r.PathPrimitiveLineToCommand(n, d), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.processConnectionPoint = function (t, e) {\n        var n = t.getConnectionPointSide(e);\n\n        if (n === c.ConnectionPointSide.East || n === c.ConnectionPointSide.West) {\n          var o = t.rectangle,\n              i = o.y,\n              r = o.width,\n              s = o.height / r / this.defaultRatio,\n              a = Math.PI - this.angle,\n              u = i + r / 2 * Math.tan(a / 2) * s;\n          n === c.ConnectionPointSide.East ? e.y = u : n === c.ConnectionPointSide.West && (e.y = u);\n        }\n      }, e.prototype.calculateHeight = function (t) {\n        var e = Math.PI - this.angle;\n        return t / 2 * Math.tan(e / 2) + t / 2 / Math.cos(e / 2) * Math.sin(e);\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = u.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);\n        return h.Rectangle.fromGeometry(t.position.clone().offset((t.size.width - e.width) / 2, (t.size.height - e.height) / 2), e);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return u.GeometryUtils.getEllipseByEnscribedRectangle(t);\n      }, e;\n    }(a.PolygonShapeDescription);\n\n    e.PentagonShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o65,\n        i = this && this.__extends || (_o65 = function o(t, e) {\n      return (_o65 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o65(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.HexagonShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(0),\n        a = n(94),\n        c = n(3),\n        u = n(11),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Hexagon;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"angleCount\", {\n        get: function get() {\n          return 6;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            s = e.bottom,\n            a = e.width,\n            c = e.center.y,\n            u = Math.PI - this.angle,\n            h = a / (1 + 2 * Math.cos(u)),\n            p = n + (a - h) / 2,\n            l = p + h;\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(p, o), new r.PathPrimitiveLineToCommand(l, o), new r.PathPrimitiveLineToCommand(i, c), new r.PathPrimitiveLineToCommand(l, s), new r.PathPrimitiveLineToCommand(p, s), new r.PathPrimitiveLineToCommand(n, c), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.calculateHeight = function (t) {\n        var e = Math.PI - this.angle;\n        return 2 * (t / (1 + 2 * Math.cos(e))) * Math.sin(e);\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = c.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);\n        return u.Rectangle.fromGeometry(t.position.clone().offset((t.size.width - e.width) / 2, (t.size.height - e.height) / 2), e);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return c.GeometryUtils.getEllipseByEnscribedRectangle(t);\n      }, e;\n    }(a.PolygonShapeDescription);\n\n    e.HexagonShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o66,\n        i = this && this.__extends || (_o66 = function o(t, e) {\n      return (_o66 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o66(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TriangleShapeDescription = void 0;\n\n    var r = n(7),\n        s = n(5),\n        a = n(0),\n        c = n(45),\n        u = n(9),\n        h = n(11),\n        p = n(2),\n        l = function (t) {\n      function e(e) {\n        var n = t.call(this, void 0, e) || this;\n        return n.defaultSize.height = n.calculateHeight(r.ShapeDefaultDimension), n;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return a.ShapeTypes.Triangle;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createConnectionPoints = function () {\n        return [new c.ConnectionPoint(.5, 0, u.ConnectionPointSide.North), new c.ConnectionPoint(.75, .5, u.ConnectionPointSide.East), new c.ConnectionPoint(.5, 1, u.ConnectionPointSide.South), new c.ConnectionPoint(.25, .5, u.ConnectionPointSide.West)];\n      }, e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            r = e.bottom;\n        return [new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(e.center.x, o), new s.PathPrimitiveLineToCommand(i, r), new s.PathPrimitiveLineToCommand(n, r), new s.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.calculateHeight = function (t) {\n        return Math.sqrt(Math.pow(t, 2) - Math.pow(t / 2, 2));\n      }, e.prototype.getTextRectangle = function (t) {\n        return new h.Rectangle(t.position.x + t.size.width / 4, t.position.y + t.size.height / 2, t.size.width / 2, t.size.height / 2 - r.ShapeTextPadding).nonNegativeSize();\n      }, e.prototype.getSizeByText = function (t, e) {\n        return new p.Size(2 * t.width, 2 * t.height + r.ShapeTextPadding);\n      }, e;\n    }(r.ShapeDescription);\n\n    e.TriangleShapeDescription = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o67,\n        i = this && this.__extends || (_o67 = function o(t, e) {\n      return (_o67 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o67(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DocumentShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(9),\n        u = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Document;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        return this.createDocumentPrimitives(t.rectangle, t.style);\n      }, e.prototype.createDocumentPrimitives = function (t, n) {\n        var o = t.x,\n            i = t.y,\n            r = t.right,\n            s = t.bottom,\n            c = t.width,\n            u = t.height,\n            h = t.center.x,\n            p = u * e.curveOffsetRatio;\n        return [].concat([new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(o, i), new a.PathPrimitiveLineToCommand(r, i), new a.PathPrimitiveLineToCommand(r, s), new a.PathPrimitiveQuadraticCurveToCommand(r - .25 * c, s - 2 * p, h, s - p), new a.PathPrimitiveQuadraticCurveToCommand(o + .25 * c, s + p, o, s - p), new a.PathPrimitiveClosePathCommand()], n)]);\n      }, e.prototype.processConnectionPoint = function (t, n) {\n        t.getConnectionPointSide(n) === c.ConnectionPointSide.South && (n.y -= t.size.height * e.curveOffsetRatio);\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle;\n        return n.clone().resize(0, -n.height * e.curveOffsetRatio);\n      }, e.curveOffsetRatio = .1, e;\n    }(r.RectangleShapeDescription);\n\n    e.DocumentShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o68,\n        i = this && this.__extends || (_o68 = function o(t, e) {\n      return (_o68 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o68(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CustomShapeDescription = void 0;\n\n    var r = n(128),\n        s = n(11),\n        a = n(2),\n        c = n(1),\n        u = n(45),\n        h = n(9),\n        p = n(129),\n        l = n(7),\n        d = n(51),\n        f = n(46),\n        y = n(131),\n        g = n(231),\n        m = function (t) {\n      function e(e, n) {\n        var o = t.call(this, new a.Size(e.defaultWidth || n && n.defaultSize.width || l.ShapeDefaultDimension, e.defaultHeight || n && n.defaultSize.height || l.ShapeDefaultDimension)) || this;\n\n        if (o.properties = e, o.baseDescription = n, o.imageLoader = new y.ImageLoader(o.updateSvgImage.bind(o)), o.defaultText = void 0 !== e.defaultText ? e.defaultText : n && n.getDefaultText(), o.defaultImageUrl = e.defaultImageUrl || n && n.getDefaultImageUrl(), o.title = e.title || n && n.getTitle() || o.defaultText || \"\", o.connectionPoints = o.createConnectionPoints(), e.svgUrl) {\n          o.svgImage = new d.ImageInfo(e.svgUrl);\n          var i = f.ImageCache.instance.createUnloadedInfoByShapeImageInfo(o.svgImage);\n          o.imageLoader.load(i);\n        }\n\n        if (e.svgToolboxUrl) {\n          o.svgToolboxImage = new d.ImageInfo(e.svgToolboxUrl);\n          i = f.ImageCache.instance.createUnloadedInfoByShapeImageInfo(o.svgToolboxImage);\n          o.imageLoader.load(i);\n        }\n\n        return o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return this.properties.type;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"allowEditText\", {\n        get: function get() {\n          return !1 !== this.properties.allowEditText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"allowEditImage\", {\n        get: function get() {\n          return this.baseDescription ? this.baseDescription.allowEditImage : !0 === this.properties.allowEditImage;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"enableChildren\", {\n        get: function get() {\n          return this.baseDescription && this.baseDescription.enableChildren;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"hasTemplate\", {\n        get: function get() {\n          return !!this.properties.createTemplate;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"minWidth\", {\n        get: function get() {\n          return this.properties.minWidth || this.baseDescription && this.baseDescription.minWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"minHeight\", {\n        get: function get() {\n          return this.properties.minHeight || this.baseDescription && this.baseDescription.minHeight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"maxWidth\", {\n        get: function get() {\n          return this.properties.maxWidth || this.baseDescription && this.baseDescription.maxWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"maxHeight\", {\n        get: function get() {\n          return this.properties.maxHeight || this.baseDescription && this.baseDescription.maxHeight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return this.properties.keepRatioOnAutoSize;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"toolboxSize\", {\n        get: function get() {\n          return this.properties.toolboxWidthToHeightRatio ? new a.Size(this.defaultSize.width, this.defaultSize.width / this.properties.toolboxWidthToHeightRatio) : this.defaultSize;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getTextAngle = function () {\n        return this.baseDescription && this.baseDescription.getTextAngle() || t.prototype.getTextAngle.call(this);\n      }, e.prototype.getTitle = function () {\n        return void 0 !== this.title ? this.title : t.prototype.getTitle.call(this);\n      }, e.prototype.getDefaultText = function () {\n        return void 0 !== this.defaultText ? this.defaultText : t.prototype.getDefaultText.call(this);\n      }, e.prototype.getDefaultImageUrl = function () {\n        return void 0 !== this.defaultImageUrl ? this.defaultImageUrl : t.prototype.getDefaultImageUrl.call(this);\n      }, e.prototype.allowResizeHorizontally = function (e) {\n        return !1 !== this.properties.allowResize && (this.baseDescription ? this.baseDescription.allowResizeHorizontally(e) : t.prototype.allowResizeHorizontally.call(this, e));\n      }, e.prototype.allowResizeVertically = function (e) {\n        return !1 !== this.properties.allowResize && (this.baseDescription ? this.baseDescription.allowResizeVertically(e) : t.prototype.allowResizeVertically.call(this, e));\n      }, e.prototype.createConnectionPoints = function () {\n        return this.properties && this.properties.connectionPoints && this.properties.connectionPoints.length ? this.properties.connectionPoints.map(function (t) {\n          if (t && \"number\" == typeof t.x && \"number\" == typeof t.y) {\n            var e = \"number\" == typeof t.side ? t.side : h.ConnectionPointSide.Undefined;\n            return new u.ConnectionPoint(t.x, t.y, e);\n          }\n        }).filter(function (t) {\n          return t;\n        }) : t.prototype.createConnectionPoints.call(this);\n      }, e.prototype.createImagePrimitives = function (e, n) {\n        return this.baseDescription ? this.baseDescription.createImagePrimitives(e, n) : t.prototype.createImagePrimitives.call(this, e, n);\n      }, e.prototype.createShapePrimitives = function (t, e) {\n        var n = [],\n            o = t.rectangle,\n            i = o.x,\n            s = o.y,\n            a = o.width,\n            c = o.height;\n        if (this.baseDescription) n = this.baseDescription.createShapePrimitives(t, e);else {\n          var u = e && this.svgToolboxImage ? this.svgToolboxImage : this.svgImage;\n\n          if (u) {\n            var h = i + (this.properties.svgLeft && !e ? this.properties.svgLeft * a : 0),\n                p = s + (this.properties.svgTop && !e ? this.properties.svgTop * c : 0),\n                l = this.properties.svgWidth && !e ? this.properties.svgWidth * a : a,\n                d = this.properties.svgHeight && !e ? this.properties.svgHeight * c : c;\n            n = n.concat([new r.ImagePrimitive(h, p, l, d, u.exportUrl)]);\n          }\n        }\n        var f = e && this.properties.createToolboxTemplate || this.properties.createTemplate;\n\n        if (f) {\n          var y = i + (this.properties.templateLeft && !e ? this.properties.templateLeft * a : 0),\n              m = s + (this.properties.templateTop && !e ? this.properties.templateTop * c : 0),\n              v = this.properties.templateWidth && !e ? this.properties.templateWidth * a : a,\n              P = this.properties.templateHeight && !e ? this.properties.templateHeight * c : c,\n              C = this.properties.apiController ? this.properties.apiController.createNativeShape(t) : t.toNative();\n          n = n.concat([new g.SvgElementPrimitive(y, m, v, P, f, this.properties.destroyTemplate, C)]);\n        }\n\n        return n;\n      }, e.prototype.createParameters = function (e) {\n        return this.baseDescription ? this.baseDescription.createParameters(e) : t.prototype.createParameters.call(this, e);\n      }, e.prototype.normalizeParameters = function (e, n) {\n        this.baseDescription ? this.baseDescription.normalizeParameters(e, n) : t.prototype.normalizeParameters.call(this, e, n);\n      }, e.prototype.modifyParameters = function (e, n, o, i) {\n        this.baseDescription ? this.baseDescription.modifyParameters(e, n, o, i) : t.prototype.modifyParameters.call(this, e, n, o, i);\n      }, e.prototype.getParameterPoints = function (e) {\n        return this.baseDescription ? this.baseDescription.getParameterPoints(e) : t.prototype.getParameterPoints.call(this, e);\n      }, e.prototype.getTextRectangle = function (t) {\n        if (this.baseDescription) return this.baseDescription.getTextRectangle(t);\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.width,\n            r = e.height;\n        return new s.Rectangle(n + (this.properties.textLeft ? this.properties.textLeft * i : 0), o + (this.properties.textTop ? this.properties.textTop * r : 0), this.properties.textWidth ? this.properties.textWidth * i : i, this.properties.textHeight ? this.properties.textHeight * r : r);\n      }, e.prototype.getSizeByText = function (t, e) {\n        if (this.baseDescription) return this.baseDescription.getSizeByText(t, e);\n        var n = this.properties.textWidth;\n        n || (n = 1);\n        var o = this.properties.textHeight;\n        return o || (o = 1), new a.Size(t.width / n, t.height / o);\n      }, e.prototype.getImageSize = function (t, e, n) {\n        return this.baseDescription ? this.baseDescription instanceof p.ShapeWithImageDescription ? this.baseDescription.getImageSize(t, e, n) : a.Size.empty() : new a.Size(this.properties.imageWidth ? this.properties.imageWidth * t.width : t.width, this.properties.imageHeight ? this.properties.imageHeight * t.height : t.height).nonNegativeSize();\n      }, e.prototype.getImagePlacementRectangle = function (t, e) {\n        if (this.baseDescription) return this.baseDescription instanceof p.ShapeWithImageDescription ? this.baseDescription.getImagePlacementRectangle(t, e) : s.Rectangle.fromGeometry(c.Point.zero(), a.Size.empty());\n        var n = t.x,\n            o = t.y,\n            i = t.width,\n            r = t.height;\n        return new s.Rectangle(n + (this.properties.imageLeft && !e ? this.properties.imageLeft * i : 0), o + (this.properties.imageTop && !e ? this.properties.imageTop * r : 0), this.properties.imageWidth && !e ? this.properties.imageWidth * i : i, this.properties.imageHeight && !e ? this.properties.imageHeight * r : r);\n      }, e.prototype.updateSvgImage = function (t) {\n        var e = t.imageUrl && t.imageUrl === this.properties.svgToolboxUrl,\n            n = e ? this.svgToolboxImage : this.svgImage;\n        t.base64 ? n.loadBase64Content(t.base64) : n.setUnableToLoadFlag(), e || this.raiseShapeDescriptionChanged(this);\n      }, e;\n    }(p.ShapeWithImageDescription);\n\n    e.CustomShapeDescription = m;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o69,\n        i = this && this.__extends || (_o69 = function o(t, e) {\n      return (_o69 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o69(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImagePrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s, a, c) {\n        void 0 === s && (s = \"none\");\n        var u = t.call(this, a, c) || this;\n        return u.x = e, u.y = n, u.width = o, u.height = i, u.url = r, u.preserveAspectRatio = s, u;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"image\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"x\", this.x), this.setUnitAttribute(e, \"y\", this.y), this.setUnitAttribute(e, \"width\", this.width), this.setUnitAttribute(e, \"height\", this.height), this.setPositionCorrectionAttribute(e), e.setAttribute(\"href\", this.url), e.setAttribute(\"preserveAspectRatio\", this.preserveAspectRatio), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.ImagePrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o70,\n        i = this && this.__extends || (_o70 = function o(t, e) {\n      return (_o70 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o70(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeWithImageDescription = e.SHAPE_IMAGE_CLASSNAMES = e.ShapeDefaultSize = e.ShapeDefaultDimension = void 0;\n    var r = n(7),\n        s = n(11),\n        a = n(2),\n        c = n(1),\n        u = n(12),\n        h = n(128),\n        p = n(21),\n        l = n(40),\n        d = n(17),\n        f = n(55),\n        y = n(130);\n    e.ShapeDefaultDimension = 1440, e.ShapeDefaultSize = new a.Size(e.ShapeDefaultDimension, e.ShapeDefaultDimension), e.SHAPE_IMAGE_CLASSNAMES = {\n      IMAGE: \"dxdi-image\",\n      IMAGE_PLACEHOLDER: \"dxdi-image-placeholder\",\n      LOADING_INDICATOR: \"dxdi-spinner\",\n      USER_PIC: \"dxdi-user\",\n      WARNING_MARK: \"dxdi-warning\"\n    };\n\n    var g = function (t) {\n      function n(n, o) {\n        void 0 === n && (n = e.ShapeDefaultSize.clone());\n        var i = t.call(this, n, o) || this;\n        return i.hasDefaultText = o, i.defaultIconSize = 480, i;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"enableImage\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.getImageMargin = function (t) {\n        return t ? u.UnitConverter.pixelsToTwips(2) : u.UnitConverter.pixelsToTwips(3);\n      }, n.prototype.createImagePrimitives = function (t, n) {\n        if (!this.enableImage) return [];\n        var o = this.getImagePlacementRectangle(t.rectangle, n);\n        if (n) return this.createImagePlaceholder(o);\n        var i = [];\n\n        if (i = t.image.isEmpty || t.image.unableToLoad ? i.concat(this.createEmptyImagePrimitives(o, t.image.unableToLoad)) : \"\" === t.image.renderUrl ? i.concat(this.createLoadingImagePrimitives(o)) : i.concat(this.createLoadedImagePrimitives(o, t.image.renderUrl)), \"\" === t.image.renderUrl) {\n          var r = d.RenderUtils.generateSvgElementId(\"clipImage\");\n          return [].concat([new l.GroupPrimitive(i, e.SHAPE_IMAGE_CLASSNAMES.IMAGE, void 0, r), new f.ClipPathPrimitive(r, [new p.RectanglePrimitive(o.x, o.y, o.width, o.height)])]);\n        }\n\n        return i;\n      }, n.prototype.createImagePlaceholder = function (t) {\n        return [];\n      }, n.prototype.createLoadedImagePrimitives = function (t, o) {\n        return [new h.ImagePrimitive(t.x, t.y, t.width, t.height, o, n.imageScalingRule, void 0, e.SHAPE_IMAGE_CLASSNAMES.IMAGE)];\n      }, n.prototype.createLoadingImagePrimitives = function (t) {\n        var n = this.getIconPlacementRectangle(t);\n        return [y.ShapeImageIndicator.createLoadingIndicatorPrimitives(n.x, n.y, this.defaultIconSize, u.UnitConverter.pixelsToTwips(5), e.SHAPE_IMAGE_CLASSNAMES.LOADING_INDICATOR)];\n      }, n.prototype.createEmptyImagePrimitives = function (t, e) {\n        var n = this.getIconPlacementRectangle(t),\n            o = [];\n        return o = o.concat(this.createEmptyImagePrimitive(n)), e && (o = o.concat(this.createWarningPrimitive(n))), o;\n      }, n.prototype.createEmptyImagePrimitive = function (t) {\n        return new l.GroupPrimitive([]);\n      }, n.prototype.createWarningPrimitive = function (t) {\n        return new l.GroupPrimitive([]);\n      }, n.prototype.getIconPlacementRectangle = function (t) {\n        var e = s.Rectangle.fromGeometry(new c.Point(t.x, t.y), new a.Size(this.defaultIconSize, this.defaultIconSize));\n        return e.width < t.width && (e.x = t.x + (t.width - e.width) / 2), e.height < t.height && (e.y = t.y + (t.height - e.height) / 2), e;\n      }, n.imageScalingRule = \"xMidYMid meet\", n;\n    }(r.ShapeDescription);\n\n    e.ShapeWithImageDescription = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShapeImageIndicator = void 0;\n\n    var o = n(54),\n        i = n(5),\n        r = n(40),\n        s = n(19),\n        a = n(21),\n        c = n(12),\n        u = function () {\n      function t(t, e, n, o, i) {\n        this.x = t, this.y = e, this.size = n, this.borderThickness = o, this.className = i, this.animationStarted = !1;\n      }\n\n      return t.createLoadingIndicatorPrimitives = function (e, n, o, i, r) {\n        return new t(e, n, o, i, r).createLoadingIndicatorPrimitive();\n      }, t.createUserIconPrimitives = function (e, n, o, i, r) {\n        return new t(e, n, o, i, r).createUserIconPrimitive();\n      }, t.createWarningIconPrimitives = function (e, n, o, i) {\n        return new t(e, n, o, void 0, i).createWarningIconPrimitive();\n      }, t.prototype.rotate = function (t, e, n, o) {\n        if (this.animationStarted) {\n          var i = \"rotate(\" + Math.round(o) % 1080 / 3 + \" \" + e + \" \" + n + \")\";\n          t.setAttribute(\"transform\", i), this.animationRequestId = requestAnimationFrame(function (o) {\n            this.rotate(t, e, n, o);\n          }.bind(this));\n        }\n      }, t.prototype.onApplyLoadingIndicatorElementProperties = function (t) {\n        var e = [c.UnitConverter.twipsToPixelsF(this.x + this.size / 2), c.UnitConverter.twipsToPixelsF(this.y + this.size / 2)],\n            n = e[0],\n            o = e[1];\n        s.Browser.IE ? (this.animationRequestId = requestAnimationFrame(function (e) {\n          this.rotate(t, n, o, e);\n        }.bind(this)), this.animationStarted = !0) : t.style.setProperty(\"transform-origin\", n + \"px \" + o + \"px\");\n      }, t.prototype.center = function () {\n        return [c.UnitConverter.twipsToPixelsF(this.x + this.size / 2), c.UnitConverter.twipsToPixelsF(this.y + this.size / 2)];\n      }, t.prototype.createLoadingIndicatorPrimitive = function () {\n        var t = this.center(),\n            e = t[0],\n            n = t[1],\n            s = c.UnitConverter.twipsToPixelsF(this.size / 2 - this.borderThickness / 2);\n        return new r.GroupPrimitive([new o.EllipsePrimitive(e + \"\", n + \"\", s + \"\", s + \"\"), new i.PathPrimitive([new i.PathPrimitiveMoveToCommand(e + s + \"\", n + \"\"), new i.PathPrimitiveArcToCommand(s + \"\", s + \"\", 0, !1, !1, e + \"\", n - s + \"\")])], this.className, void 0, void 0, this.onApplyLoadingIndicatorElementProperties.bind(this), this.onBeforeDispose.bind(this));\n      }, t.prototype.createUserIconPrimitive = function () {\n        var t = this.center(),\n            e = t[0],\n            n = t[1],\n            s = c.UnitConverter.twipsToPixelsF(this.size / 2 - this.borderThickness / 2),\n            a = c.UnitConverter.twipsToPixelsF(this.size);\n        return new r.GroupPrimitive([new o.EllipsePrimitive(e + \"\", n + \"\", s + \"\", s + \"\", void 0, \"dxdi-background\"), new o.EllipsePrimitive(e + \"\", n - a / 8 + \"\", a / 8 + \"\", a / 8 + \"\"), new i.PathPrimitive([new i.PathPrimitiveMoveToCommand(e + \"\", n + a / 16 + \"\"), new i.PathPrimitiveCubicCurveToCommand(e + .1375 * a + \"\", n + a / 16 + \"\", e + a / 4 + \"\", n + .11875 * a + \"\", e + a / 4 + \"\", n + .1875 * a + \"\"), new i.PathPrimitiveLineToCommand(e + a / 4 + \"\", n + a / 4 + \"\"), new i.PathPrimitiveLineToCommand(e - a / 4 + \"\", n + a / 4 + \"\"), new i.PathPrimitiveLineToCommand(e - a / 4 + \"\", n + .1875 * a + \"\"), new i.PathPrimitiveCubicCurveToCommand(e - a / 4 + \"\", n + .11875 * a + \"\", e - .1375 * a + \"\", n + a / 16 + \"\", e + \"\", n + a / 16 + \"\"), new i.PathPrimitiveClosePathCommand()])], this.className);\n      }, t.prototype.createWarningIconPrimitive = function () {\n        var t = this.center(),\n            e = t[0],\n            n = t[1],\n            i = c.UnitConverter.twipsToPixelsF(this.size / 2) - 1,\n            s = c.UnitConverter.twipsToPixelsF(this.size / 8);\n        return new r.GroupPrimitive([new o.EllipsePrimitive(e + \"\", n + \"\", i + \"\", i + \"\"), new a.RectanglePrimitive(e - s / 2 + .5 + \"\", n + i - c.UnitConverter.twipsToPixelsF(this.size / 4) + \"\", s + \"\", s + \"\"), new a.RectanglePrimitive(e - s / 2 + .5 + \"\", n - i + c.UnitConverter.twipsToPixelsF(this.size / 4) - s + \"\", s + \"\", i + \"\")], this.className);\n      }, t.prototype.onBeforeDispose = function () {\n        this.animationRequestId && cancelAnimationFrame(this.animationRequestId), this.animationStarted = !1;\n      }, t;\n    }();\n\n    e.ShapeImageIndicator = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImageLoader = void 0;\n\n    var o = n(46),\n        i = function () {\n      function t(t) {\n        this.loadedCallback = t;\n      }\n\n      return t.prototype.load = function (t) {\n        t.isLoaded ? this.loadedCallback(t) : t.isLoading || this.loadInner(t);\n      }, t.prototype.loadInner = function (t) {\n        var e = this;\n        return t.imageUrl ? this.loadPictureByUrl(t, function () {\n          return e.finalizeLoading(t, t);\n        }) : t.base64 && this.loadPictureByBase64(t, function () {\n          return e.finalizeLoading(t, t);\n        }), t;\n      }, t.prototype.finalizeLoading = function (t, e) {\n        e || (e = o.ImageCache.instance.getImageData(t.actualId)), e.isLoaded || o.ImageCache.instance.finalizeLoading(e, t), this.loadedCallback(e);\n      }, t.prototype.loadPictureByBase64 = function (t, e) {\n        var n = new Image();\n        n.onload = function () {\n          e(t);\n        }, n.src = t.base64;\n      }, t.prototype.loadPictureByUrl = function (t, e) {\n        var n = this,\n            o = new XMLHttpRequest();\n\n        try {\n          o.onload = function () {\n            var i = new FileReader();\n            i.onloadend = function () {\n              t.base64 = i.result, n.loadPictureByBase64(t, function (t) {\n                return e(t);\n              });\n            }, i.readAsDataURL(o.response);\n          }, o.onerror = function () {\n            return e(t);\n          }, o.onloadend = function () {\n            404 === o.status && e(t);\n          }, o.open(\"GET\", t.imageUrl, !0), o.responseType = \"blob\", t.startLoading(), o.send();\n        } catch (t) {}\n      }, t;\n    }();\n\n    e.ImageLoader = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o71,\n        i = this && this.__extends || (_o71 = function o(t, e) {\n      return (_o71 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o71(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ContainerDescription = e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO = e.CONTAINER_EXPAND_BUTTON_RECT_RATIO = e.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO = e.CONTAINER_HEADER_SIZE = void 0;\n    var r = n(7),\n        s = n(2),\n        a = n(0),\n        c = n(21),\n        u = n(5),\n        h = n(17),\n        p = n(14),\n        l = n(40),\n        d = n(45),\n        f = n(9),\n        y = n(37);\n    e.CONTAINER_HEADER_SIZE = 360, e.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO = .2, e.CONTAINER_EXPAND_BUTTON_RECT_RATIO = .5, e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO = .3;\n\n    var g = function (t) {\n      function n(e) {\n        return void 0 === e && (e = new s.Size(2 * r.ShapeDefaultDimension, 1.5 * r.ShapeDefaultDimension)), t.call(this, e, !0) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"enableChildren\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(n.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.getDefaultText = function () {\n        return y.DiagramLocalizationService.shapeTexts[a.ShapeTypes.Container];\n      }, n.prototype.createConnectionPoints = function () {\n        return [new d.ConnectionPoint(.25, 0, f.ConnectionPointSide.North), new d.ConnectionPoint(.5, 0, f.ConnectionPointSide.North), new d.ConnectionPoint(.75, 0, f.ConnectionPointSide.North), new d.ConnectionPoint(1, .25, f.ConnectionPointSide.East), new d.ConnectionPoint(1, .5, f.ConnectionPointSide.East), new d.ConnectionPoint(1, .75, f.ConnectionPointSide.East), new d.ConnectionPoint(.75, 1, f.ConnectionPointSide.South), new d.ConnectionPoint(.5, 1, f.ConnectionPointSide.South), new d.ConnectionPoint(.25, 1, f.ConnectionPointSide.South), new d.ConnectionPoint(0, .75, f.ConnectionPointSide.West), new d.ConnectionPoint(0, .5, f.ConnectionPointSide.West), new d.ConnectionPoint(0, .25, f.ConnectionPointSide.West)];\n      }, n.prototype.getConnectionPointIndexForItem = function (t, e) {\n        return 4 === (t && t.getConnectionPoints()).length ? 3 * e + 1 : e;\n      }, n.prototype.getConnectionPointIndexForSide = function (t) {\n        return 3 * t + 1;\n      }, n.prototype.createShapePrimitives = function (t, e) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.width,\n            s = n.height,\n            a = [];\n        return t.expanded && (a = a.concat([new c.RectanglePrimitive(o, i, r, s, t.style)])), a.concat(this.createHeaderPrimitives(t, e));\n      }, n.prototype.createExpandButtonPrimitives = function (t, n) {\n        var o = [new u.PathPrimitiveMoveToCommand(n.x + n.width * ((1 - e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO) / 2), n.center.y), new u.PathPrimitiveLineToCommand(n.x + n.width * ((1 - e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO) / 2 + e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO), n.center.y)];\n        t.expanded || (o = o.concat([new u.PathPrimitiveMoveToCommand(n.center.x, n.y + n.height * ((1 - e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO) / 2)), new u.PathPrimitiveLineToCommand(n.center.x, n.y + n.height * ((1 - e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO) / 2 + e.CONTAINER_EXPAND_BUTTON_SIGN_RATIO))]));\n        var i = n.clone().inflate(-n.width * (1 - e.CONTAINER_EXPAND_BUTTON_RECT_RATIO) / 2, -n.height * (1 - e.CONTAINER_EXPAND_BUTTON_RECT_RATIO) / 2);\n        return [new l.GroupPrimitive([new c.RectanglePrimitive(i.x, i.y, i.width, i.height, t.style), new u.PathPrimitive(o, t.style)], \"shape-expand-btn\", null, null, function (e) {\n          h.RenderUtils.setElementEventData(e, p.MouseEventElementType.ShapeExpandButton, t.key);\n        })];\n      }, n;\n    }(r.ShapeDescription);\n\n    e.ContainerDescription = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o72,\n        i = this && this.__extends || (_o72 = function o(t, e) {\n      return (_o72 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o72(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CardBaseDescription = void 0;\n\n    var r = n(7),\n        s = n(11),\n        a = n(2),\n        c = n(129),\n        u = n(235),\n        h = n(5),\n        p = n(40),\n        l = n(130),\n        d = n(0),\n        f = n(37),\n        y = n(12),\n        g = n(1),\n        m = function (t) {\n      function e(e) {\n        return void 0 === e && (e = new a.Size(r.ShapeDefaultDimension, 26 / 46 * r.ShapeDefaultDimension)), t.call(this, e, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getDefaultText = function () {\n        return f.DiagramLocalizationService.shapeTexts[d.ShapeTypes.Card];\n      }, e.prototype.createShapePrimitives = function (t, e) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.width,\n            s = n.height;\n        return [new u.RoundedRectanglePrimitive(o, i, r, s, e ? 30 : 60, e ? 30 : 60, t.style)];\n      }, e.prototype.createImagePlaceholder = function (t) {\n        return [new u.RoundedRectanglePrimitive(t.x, t.y, t.width, t.height, y.UnitConverter.pixelsToTwips(2), y.UnitConverter.pixelsToTwips(2), void 0, c.SHAPE_IMAGE_CLASSNAMES.IMAGE_PLACEHOLDER)];\n      }, e.prototype.createEmptyImagePrimitive = function (t) {\n        return l.ShapeImageIndicator.createUserIconPrimitives(t.x, t.y, this.defaultIconSize, y.UnitConverter.pixelsToTwips(1), c.SHAPE_IMAGE_CLASSNAMES.USER_PIC);\n      }, e.prototype.createWarningPrimitive = function (t) {\n        return l.ShapeImageIndicator.createWarningIconPrimitives(t.x + this.defaultIconSize / 2, t.y + this.defaultIconSize / 2, this.defaultIconSize / 2, c.SHAPE_IMAGE_CLASSNAMES.WARNING_MARK);\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = t.rectangle,\n            n = e.clone().inflate(-r.ShapeTextPadding, -r.ShapeTextPadding),\n            o = this.getImageSize(e.createSize(), !0);\n        return this.isTextAfterImage && n.moveRectangle(this.isHorizontal ? o.width : 0, this.isHorizontal ? 0 : o.height), n.resize(this.isHorizontal ? -o.width : 0, this.isHorizontal ? 0 : -o.height), n.nonNegativeSize();\n      }, e.prototype.getSizeByText = function (t, e) {\n        var n = t.clone().offset(2 * r.ShapeTextPadding, 2 * r.ShapeTextPadding),\n            o = this.getImageSizeByTextBlockSize(n);\n        return this.isHorizontal ? n.width += o.width : n.height += o.height, n;\n      }, e.prototype.createTextPrimitives = function (e, n) {\n        return n ? this.createGraphicalTextRepresentation(e.rectangle) : t.prototype.createTextPrimitives.call(this, e, n);\n      }, e.prototype.createGraphicalTextRepresentation = function (t) {\n        var e = new s.Rectangle(0, 0, 0, 0),\n            n = this.getImageSize(t.createSize(), !0, !0);\n\n        if (this.isHorizontal) {\n          var o = this.isTextAfterImage ? t.width / 2 - y.UnitConverter.pixelsToTwips(2) : 0;\n          e.x = t.x + o + y.UnitConverter.pixelsToTwips(4), e.y = t.y + y.UnitConverter.pixelsToTwips(5), e.width = n.width - y.UnitConverter.pixelsToTwips(4), e.height = t.height - y.UnitConverter.pixelsToTwips(6);\n        } else {\n          var i = this.isTextAfterImage ? t.height / 2 - y.UnitConverter.pixelsToTwips(2) : 0;\n          e.x = t.x + t.width / 4, e.y = t.y + i + y.UnitConverter.pixelsToTwips(4), e.width = t.width / 2, e.height = n.height - y.UnitConverter.pixelsToTwips(2);\n        }\n\n        return this.createTextRepresentationPrimitives(e);\n      }, e.prototype.getImagePlacementRectangle = function (t, e) {\n        var n = this.getImageSize(t.createSize(), !1, e),\n            o = s.Rectangle.fromGeometry(new g.Point(t.x, t.y), n),\n            i = this.getImageSize(t.createSize(), !0, e);\n        return this.isHorizontal && this.isTextAfterImage ? o.x += this.getImageMargin(e) : this.isHorizontal && (o.x = t.right - i.width - this.getImageMargin(e)), this.isHorizontal || this.isTextAfterImage ? o.y += this.getImageMargin(e) : o.y = t.bottom - i.height - this.getImageMargin(e), this.isHorizontal || (o.x += (t.width - o.width) / 2), o;\n      }, e.prototype.createTextRepresentationPrimitives = function (t) {\n        var e = y.UnitConverter.pixelsToTwips(y.UnitConverter.twipsToPixels(t.height / 3));\n        return [new p.GroupPrimitive([new h.PathPrimitive([new h.PathPrimitiveMoveToCommand(t.x, t.y), new h.PathPrimitiveLineToCommand(t.x + t.width, t.y)]), new h.PathPrimitive([new h.PathPrimitiveMoveToCommand(t.x, t.y + e), new h.PathPrimitiveLineToCommand(t.x + t.width, t.y + e)]), new h.PathPrimitive([new h.PathPrimitiveMoveToCommand(t.x, t.y + 2 * e), new h.PathPrimitiveLineToCommand(t.x + .66 * t.width, t.y + 2 * e)])], \"dxdi-shape-text\")];\n      }, e;\n    }(c.ShapeWithImageDescription);\n\n    e.CardBaseDescription = m;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImporterBase = void 0;\n\n    var o = n(61),\n        i = n(13),\n        r = function () {\n      function t(t) {\n        this.shapeDescriptionManager = t;\n      }\n\n      return t.prototype.import = function () {\n        var t = new o.DiagramModel(),\n            e = this.getObject();\n        this.importPageSettings(t, this.getPageObject(e));\n\n        for (var n = this.importShapes(this.getShapeObjects(e)), i = 0; i < n.length; i++) {\n          var r = n[i];\n          if (t.findItem(r.key)) throw Error(\"Item key is duplicated\");\n          t.pushItem(r);\n        }\n\n        var s = this.importConnectors(this.getConnectorObjects(e));\n\n        for (i = 0; i < s.length; i++) {\n          var a = s[i];\n          if (a.endItem = t.findItem(a.endItemKey) || void 0, delete a.endItemKey, a.beginItem = t.findItem(a.beginItemKey) || void 0, delete a.beginItemKey, t.findItem(a.key)) throw Error(\"Item key is duplicated\");\n          t.pushItem(a), this.updateConnections(a);\n        }\n\n        return this.updateChildren(t.items, function (e) {\n          return t.findItem(e);\n        }), t;\n      }, t.prototype.importItems = function (t) {\n        for (var e, n = [], o = this.getObject(), i = {}, r = this.importShapes(this.getShapeObjects(o)), s = 0; s < r.length; s++) {\n          var a = r[s],\n              c = a.key;\n          e = t.getNextKey(), a.key = e, i[c] = a, void 0 !== a.dataKey && (a.dataKey = void 0), n.push(a);\n        }\n\n        var u = this.importConnectors(this.getConnectorObjects(o));\n\n        for (s = 0; s < u.length; s++) {\n          var h = u[s];\n          c = h.key;\n          e = t.getNextKey(), h.key = e, i[c] = h, void 0 !== h.dataKey && (h.dataKey = void 0);\n          var p = h.endItemKey;\n          h.endItem = i[p], delete h.endItemKey;\n          var l = h.beginItemKey;\n          h.beginItem = i[l], delete h.beginItemKey, n.push(h), this.updateConnections(h);\n        }\n\n        return this.updateChildren(n, function (t) {\n          return i[t];\n        }), n;\n      }, t.prototype.importItemsData = function (t) {\n        for (var e = this.getObject(), n = this.importShapes(this.getShapeObjects(e)), o = {}, i = 0; i < n.length; i++) {\n          var r = n[i],\n              s = void 0;\n          void 0 !== r.dataKey && (s = t.findShapeByDataKey(r.dataKey)), s && (s.dataKey = r.dataKey, o[r.key] = r.dataKey, s.locked = r.locked, s.position = r.position.clone(), s.expanded = r.expanded, r.expandedSize && (s.expandedSize = r.expandedSize.clone()), s.size = r.size.clone(), s.parameters = r.parameters.clone(), s.style = r.style.clone(), s.styleText = r.styleText.clone(), s.zIndex = r.zIndex, s.text = r.text, s.description = r.description, s.image = r.image.clone());\n        }\n\n        var a = this.importConnectors(this.getConnectorObjects(e));\n\n        for (i = 0; i < a.length; i++) {\n          var c = a[i],\n              u = void 0;\n          void 0 !== c.dataKey && (u = t.findConnectorByDataKey(c.dataKey)), u || (u = t.findConnectorByBeginEndDataKeys(o[c.beginItemKey], o[c.endItemKey])), u && (u.dataKey = c.dataKey, u.locked = c.locked, u.points = c.points.slice(), u.properties = c.properties.clone(), u.style = c.style.clone(), u.endConnectionPointIndex = c.endConnectionPointIndex, u.beginConnectionPointIndex = c.beginConnectionPointIndex, u.texts = c.texts.clone(), u.styleText = c.styleText.clone(), u.zIndex = c.zIndex);\n        }\n      }, t.prototype.importShapes = function (t) {\n        var e = [];\n        if (!t) return e;\n        if (!Array.isArray(t)) throw Error(\"Invalid Format\");\n\n        for (var n = 0; n < t.length; n++) {\n          var o = t[n],\n              i = this.importShape(o);\n          e.push(i), e = e.concat(this.importShapeChildren(o, i));\n        }\n\n        return e;\n      }, t.prototype.importConnectors = function (t) {\n        var e = [];\n        if (!t) return e;\n        if (!Array.isArray(t)) throw Error(\"Invalid Format\");\n\n        for (var n = 0; n < t.length; n++) {\n          var o = t[n];\n          e.push(this.importConnector(o));\n        }\n\n        return e;\n      }, t.prototype.updateChildren = function (t, e) {\n        t.forEach(function (t) {\n          t instanceof i.Shape && t.childKeys && (t.childKeys.forEach(function (n) {\n            var o = e(n);\n            o && (-1 === t.children.indexOf(o) && t.children.push(o), o.container = t);\n          }), delete t.childKeys);\n        });\n      }, t.prototype.updateConnections = function (t) {\n        t.endItem && (t.endItem instanceof i.Shape ? (t.endItem.attachedConnectors.push(t), t.points[t.points.length - 1] = t.endItem.getConnectionPointPosition(t.endConnectionPointIndex, t.points[t.points.length - 2])) : (t.endItem = void 0, t.endConnectionPointIndex = -1)), t.beginItem && (t.beginItem instanceof i.Shape ? (t.beginItem.attachedConnectors.push(t), t.points[0] = t.beginItem.getConnectionPointPosition(t.beginConnectionPointIndex, t.points[1])) : (t.beginItem = void 0, t.beginConnectionPointIndex = -1));\n      }, t.prototype.assert = function (t, e) {\n        if (void 0 === t) throw Error(\"Invalid Format\");\n        if (void 0 !== e && typeof t !== e) throw Error(\"Invalid Format\");\n      }, t;\n    }();\n\n    e.ImporterBase = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o73,\n        i = this && this.__extends || (_o73 = function o(t, e) {\n      return (_o73 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o73(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.StylePropertyCommandBase = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.lockInputPositionUpdating = function () {\n        return !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.StylePropertyCommandBase = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o74,\n        i = this && this.__extends || (_o74 = function o(t, e) {\n      return (_o74 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o74(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStylePropertyCommandBase = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        var n = this;\n        this.control.history.beginTransaction();\n        var o = this.control.selection.getSelectedItems();\n        return e = this.processParameter(e), o.forEach(function (t) {\n          var o = n.getStyleProperty();\n          n.control.history.addAndRedo(n.createHistoryItem(t, o, e));\n        }), this.updateInputPosition(e), this.control.history.endTransaction(), !0;\n      }, e.prototype.getDefaultValue = function () {\n        return this.getDefaultStyleObj()[this.getStyleProperty()];\n      }, e.prototype.processParameter = function (t) {\n        return t;\n      }, e;\n    }(n(135).StylePropertyCommandBase);\n\n    e.ChangeStylePropertyCommandBase = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o75,\n        i = this && this.__extends || (_o75 = function o(t, e) {\n      return (_o75 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o75(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorPropertyCommand = void 0;\n\n    var r = n(88),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.selection.inputPosition.getCurrentConnectorPropertyValue(this.getPropertyName());\n      }, e.prototype.getDefaultValue = function () {\n        return this.getPropertyDefaultValue();\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n        return this.control.history.beginTransaction(), this.control.selection.getSelectedConnectors().forEach(function (t) {\n          var o = n.getPropertyName();\n          n.control.history.addAndRedo(new r.ChangeConnectorPropertyHistoryItem(t.key, o, e));\n        }), this.control.selection.inputPosition.setConnectorPropertyValue(this.getPropertyName(), e), this.control.history.endTransaction(), !0;\n      }, e.prototype.lockInputPositionUpdating = function () {\n        return !0;\n      }, e.prototype.isEnabled = function () {\n        var e = this.control.selection.getSelectedConnectors();\n        return t.prototype.isEnabled.call(this) && e.length > 0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ChangeConnectorPropertyCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o76,\n        i = this && this.__extends || (_o76 = function o(t, e) {\n      return (_o76 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o76(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutTreeVerticalCommand = void 0;\n\n    var r = n(75),\n        s = n(97),\n        a = n(20),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var t = this.control.settings.snapToGrid ? this.control.settings.gridSize : void 0,\n            e = new a.TreeLayoutSettings(t);\n        return e.orientation = a.DataLayoutOrientation.Vertical, e;\n      }, e.prototype.createLayout = function (t, e) {\n        return new s.TreeLayoutBuilder(t, e).build();\n      }, e;\n    }(r.AutoLayoutCommandBase);\n\n    e.AutoLayoutTreeVerticalCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.GraphLayout = void 0;\n\n    var o = n(3),\n        i = n(70),\n        r = function () {\n      function t() {\n        this.nodeKeys = [], this.nodeToLayout = {}, this.edgeToPosition = {};\n      }\n\n      return t.prototype.forEachNode = function (t) {\n        var e = this;\n        this.nodeKeys.forEach(function (n) {\n          return t(e.nodeToLayout[n], n);\n        });\n      }, t.prototype.reduce = function (t, e) {\n        var n = this;\n        return this.nodeKeys.reduce(function (e, o, i) {\n          return t(e, n.nodeToLayout[o], i);\n        }, e);\n      }, t.prototype.addNode = function (t) {\n        if (this.nodeToLayout[t.key]) throw Error(\"Node layout is already registered\");\n        return this.nodeKeys.push(t.key), this.nodeToLayout[t.key] = t, t;\n      }, t.prototype.hasNode = function (t) {\n        return !!this.nodeToLayout[t];\n      }, t.prototype.addEdge = function (t) {\n        if (this.edgeToPosition[t.key]) throw Error(\"Edge layout is already registered\");\n        this.edgeToPosition[t.key] = t;\n      }, t.prototype.getRectangle = function (t) {\n        var e = this;\n        return o.GeometryUtils.getCommonRectangle(this.nodeKeys.map(function (t) {\n          return e.nodeToLayout[t].rectangle;\n        }));\n      }, t.prototype.offsetNodes = function (e, n) {\n        var o = this;\n        void 0 === e && (e = 0), void 0 === n && (n = 0);\n        var r = new t();\n        return this.nodeKeys.forEach(function (t) {\n          var s = o.nodeToLayout[t];\n          r.addNode(new i.NodeLayout(s.info, s.position.clone().offset(e, n)));\n        }), r.copyEdges(this), r;\n      }, t.prototype.extend = function (t) {\n        var e = this;\n        t.forEachNode(function (t) {\n          return e.addNode(t);\n        }), this.copyEdges(t);\n      }, t.prototype.copyEdges = function (t) {\n        var e = this;\n        Object.keys(t.edgeToPosition).forEach(function (n) {\n          var o = t.edgeToPosition[n];\n          e.addEdge(new i.EdgeLayout(o.key, o.beginIndex, o.endIndex));\n        });\n      }, t;\n    }();\n\n    e.GraphLayout = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.LayoutBuilder = void 0;\n\n    var o = n(20),\n        i = function () {\n      function t(t, e) {\n        this.settings = t, this.graph = e;\n      }\n\n      return t.prototype.getBreadthNodeSizeCore = function (t, e) {\n        var n = this.settings.orientation === o.DataLayoutOrientation.Vertical ? t.size.width : t.size.height;\n        return e || (n += this.settings.orientation === o.DataLayoutOrientation.Vertical ? t.margin.left + t.margin.right : t.margin.top + t.margin.bottom), n;\n      }, t.prototype.getDepthNodeSizeCore = function (t) {\n        return this.settings.orientation === o.DataLayoutOrientation.Horizontal ? t.size.width + t.margin.left + t.margin.right : t.size.height + t.margin.top + t.margin.bottom;\n      }, t.prototype.chooseDirectionValue = function (t, e) {\n        return this.settings.direction === o.LogicalDirectionKind.Forward ? t : e;\n      }, t.prototype.getDirectionValue = function (t) {\n        return this.settings.direction === o.LogicalDirectionKind.Forward ? t : -t;\n      }, t.prototype.getComponentOffset = function (t) {\n        var e = t.getRectangle(!0);\n        return (this.settings.orientation === o.DataLayoutOrientation.Vertical ? e.width : e.height) + this.settings.componentSpacing;\n      }, t.prototype.setComponentOffset = function (t, e) {\n        return this.settings.orientation === o.DataLayoutOrientation.Vertical ? t.offsetNodes(e) : t.offsetNodes(0, e);\n      }, t;\n    }();\n\n    e.LayoutBuilder = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o77,\n        i = this && this.__extends || (_o77 = function o(t, e) {\n      return (_o77 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o77(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasManager = void 0;\n\n    var r = n(99),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.pendingChanges = {}, e.pendingRemoveChanges = {}, e.updatesLock = 0, e;\n      }\n\n      return i(e, t), e.prototype.beginUpdate = function () {\n        this.updatesLock++;\n      }, e.prototype.endUpdate = function () {\n        this.updatesLock--, 0 === this.updatesLock && this.applyPendingChanges();\n      }, e.prototype.getPendingChanges = function () {\n        var t = this;\n        return Object.keys(this.pendingChanges).map(function (e) {\n          return t.pendingChanges[e];\n        });\n      }, e.prototype.getPendingRemoveChanges = function () {\n        var t = this;\n        return Object.keys(this.pendingRemoveChanges).map(function (e) {\n          return t.pendingRemoveChanges[e];\n        });\n      }, e.prototype.applyPendingChanges = function () {\n        var t = this.getPendingRemoveChanges();\n        t.length && (this.applyChangesCore(t), this.pendingRemoveChanges = {});\n        var e = this.getPendingChanges();\n        e.length && (this.applyChangesCore(e), this.pendingChanges = {});\n      }, e.prototype.applyChangesCore = function (t) {\n        var e = this,\n            n = [];\n        t.forEach(function (t) {\n          e.applyChange(t) || n.push(t);\n        }), n.length && n.length !== t.length && this.applyChangesCore(n);\n      }, e.prototype.postponeChanges = function (t) {\n        var e = this;\n        t.forEach(function (t) {\n          if (t.type === r.ItemChangeType.Remove) e.pendingRemoveChanges[t.key] = t, delete e.pendingChanges[t.key];else if (e.pendingChanges[t.key]) t.type === r.ItemChangeType.Create ? e.pendingChanges[t.key] = t : t.type === r.ItemChangeType.UpdateStructure ? e.pendingChanges[t.key].type === r.ItemChangeType.UpdateProperties && (e.pendingChanges[t.key] = t) : t.type === r.ItemChangeType.UpdateProperties ? e.pendingChanges[t.key].type === r.ItemChangeType.Update && (e.pendingChanges[t.key] = t) : t.type === r.ItemChangeType.UpdateClassName && e.pendingChanges[t.key].type === r.ItemChangeType.UpdateClassName && (e.pendingChanges[t.key] = t);else {\n            if (e.pendingRemoveChanges[t.key] && t.type !== r.ItemChangeType.Create) throw new Error(\"Incorrect model changes sequence.\");\n            e.pendingChanges[t.key] = t;\n          }\n        });\n      }, e.prototype.applyOrPostponeChanges = function (t) {\n        0 === this.updatesLock ? this.applyChangesCore(t) : this.postponeChanges(t);\n      }, e.prototype.notifyModelChanged = function (t) {\n        this.applyOrPostponeChanges(t);\n      }, e.prototype.notifyPageColorChanged = function (t) {}, e.prototype.notifyPageSizeChanged = function (t, e) {}, e;\n    }(n(43).CanvasManagerBase);\n\n    e.CanvasManager = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o78,\n        i = this && this.__extends || (_o78 = function o(t, e) {\n      return (_o78 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o78(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PasteSelectionCommandBase = void 0;\n\n    var r = n(101),\n        s = n(120),\n        a = n(13),\n        c = n(266),\n        u = n(6),\n        h = n(267),\n        p = n(4),\n        l = n(66),\n        d = n(12),\n        f = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && (this.isPasteSupportedByBrowser() || void 0 !== r.ClipboardCommand.clipboardData);\n      }, e.prototype.isVisible = function () {\n        return this.isPasteSupportedByBrowser() || void 0 !== r.ClipboardCommand.clipboardData;\n      }, e.prototype.parseClipboardData = function (t) {\n        var e;\n        e = new s.Importer(this.control.shapeDescriptionManager, t).importItems(this.control.model), this.control.contextMenuPosition && this.calculateSelectionOffset(e, this.control.contextMenuPosition);\n\n        for (var n = 0; n < e.length; n++) {\n          var o = e[n];\n          o instanceof a.Shape ? o.position = this.getShapeNewPosition(o.position) : o instanceof u.Connector && this.changeConnectorPoints(o);\n        }\n\n        return e;\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this,\n            o = !0;\n        return e ? this.performPaste(e) : this.getClipboardData(function (t) {\n          o = n.execute(t);\n        }), o;\n      }, e.prototype.addItemForSortingRecursive = function (t, e) {\n        if (t[e.key]) return t[e.key];\n        if (e instanceof u.Connector) return e.endItem ? t[e.key] = this.addItemForSortingRecursive(t, e.endItem) - .5 : e.beginItem ? t[e.key] = this.addItemForSortingRecursive(t, e.beginItem) + .5 : t[e.key] = -1, t[e.key];\n        if (0 === e.attachedConnectors.length) return t[e.key] = 0;\n\n        for (var n = 0; n < e.attachedConnectors.length; n++) {\n          var o = e.attachedConnectors[n].beginItem;\n          return e.attachedConnectors[n].endItem === e && o && o !== e.attachedConnectors[n].endItem ? t[e.key] = this.addItemForSortingRecursive(t, o) + 1 : t[e.key] = 0;\n        }\n      }, e.prototype.getSortedPasteItems = function (t) {\n        for (var e = [], n = [], o = {}, i = 0; i < t.length; i++) {\n          var r = t[i];\n          r instanceof a.Shape ? e.push(r) : r instanceof u.Connector && (n.push(r), this.addItemForSortingRecursive(o, r));\n        }\n\n        return n.sort(function (t, e) {\n          return o[e.key] - o[t.key];\n        }), e.concat(n);\n      }, e.prototype.performPaste = function (t) {\n        this.control.beginUpdateCanvas(), this.control.history.beginTransaction();\n        var e = [],\n            n = this.parseClipboardData(t);\n        n = this.getSortedPasteItems(n);\n\n        for (var o = 0; o < n.length; o++) {\n          var i = n[o];\n          i instanceof a.Shape ? this.control.history.addAndRedo(new c.ImportShapeHistoryItem(i)) : i instanceof u.Connector && this.control.history.addAndRedo(new h.ImportConnectorHistoryItem(i));\n          var r = i.container && i.container.key;\n          r && -1 !== e.indexOf(r) || e.push(i.key);\n        }\n\n        p.ModelUtils.tryUpdateModelRectangle(this.control.history), this.control.history.addAndRedo(new l.SetSelectionHistoryItem(this.control.selection, e)), this.control.history.endTransaction(), this.control.endUpdateCanvas(), this.control.barManager.updateItemsState();\n      }, e.prototype.calculateSelectionOffset = function (t, e) {}, Object.defineProperty(e.prototype, \"isPermissionsRequired\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.getShapeNewPosition = function (t, n) {\n        for (; t.findShapeAtPosition(n);) n = n.clone().offset(e.positionOffset, e.positionOffset);\n\n        return n;\n      }, e.changeConnectorPoints = function (t, n) {\n        for (; t.findConnectorAtPoints(n.points);) n.points.forEach(function (t) {\n          t.x += e.positionOffset, t.y += e.positionOffset;\n        });\n      }, e.positionOffset = d.UnitConverter.pixelsToTwips(10), e;\n    }(r.ClipboardCommand);\n\n    e.PasteSelectionCommandBase = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o79,\n        i = this && this.__extends || (_o79 = function o(t, e) {\n      return (_o79 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o79(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutLayeredHorizontalCommand = void 0;\n\n    var r = n(75),\n        s = n(79),\n        a = n(20),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var t = new a.LayoutSettings();\n        return t.orientation = a.DataLayoutOrientation.Horizontal, t;\n      }, e.prototype.createLayout = function (t, e) {\n        return new s.SugiyamaLayoutBuilder(t, e).build();\n      }, e;\n    }(r.AutoLayoutCommandBase);\n\n    e.AutoLayoutLayeredHorizontalCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o80,\n        i = this && this.__extends || (_o80 = function o(t, e) {\n      return (_o80 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o80(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutTreeHorizontalCommand = void 0;\n\n    var r = n(75),\n        s = n(97),\n        a = n(20),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var t = this.control.settings.snapToGrid ? this.control.settings.gridSize : void 0,\n            e = new a.TreeLayoutSettings(t);\n        return e.orientation = a.DataLayoutOrientation.Horizontal, e;\n      }, e.prototype.createLayout = function (t, e) {\n        return new s.TreeLayoutBuilder(t, e).build();\n      }, e;\n    }(r.AutoLayoutCommandBase);\n\n    e.AutoLayoutTreeHorizontalCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o81,\n        i = this && this.__extends || (_o81 = function o(t, e) {\n      return (_o81 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o81(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutLayeredVerticalCommand = void 0;\n\n    var r = n(75),\n        s = n(79),\n        a = n(20),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var t = new a.LayoutSettings();\n        return t.orientation = a.DataLayoutOrientation.Vertical, t;\n      }, e.prototype.createLayout = function (t, e) {\n        return new s.SugiyamaLayoutBuilder(t, e).build();\n      }, e;\n    }(r.AutoLayoutCommandBase);\n\n    e.AutoLayoutLayeredVerticalCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o82,\n        i = this && this.__extends || (_o82 = function o(t, e) {\n      return (_o82 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o82(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeLockedCommand = void 0;\n\n    var r = n(4),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this,\n            n = this.control.selection.getSelectedItems(!0),\n            o = !1;\n        return n.forEach(function (t) {\n          t.locked !== e.getLockState() && (o = !0);\n        }), t.prototype.isEnabled.call(this) && o;\n      }, e.prototype.executeCore = function (t, e) {\n        return r.ModelUtils.changeSelectionLocked(this.control.history, this.control.model, this.control.selection, this.getLockState()), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ChangeLockedCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o83,\n        i = this && this.__extends || (_o83 = function o(t, e) {\n      return (_o83 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o83(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeShapeImageHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(51),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.shapeKey = e.key, o.imageUrl = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        this.oldImage = e.image, t.changeShapeImage(e, new s.ImageInfo(this.imageUrl));\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.changeShapeImage(e, this.oldImage);\n      }, e;\n    }(r.HistoryItem);\n\n    e.ChangeShapeImageHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o84,\n        i = this && this.__extends || (_o84 = function o(t, e) {\n      return (_o84 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o84(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDefaultState = void 0;\n\n    var r = n(14),\n        s = n(305),\n        a = n(306),\n        c = n(307),\n        u = n(308),\n        h = n(309),\n        p = n(310),\n        l = n(311),\n        d = n(312),\n        f = n(150),\n        y = n(318),\n        g = n(6),\n        m = n(319),\n        v = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.finish = function () {\n        this.visualizerManager.resetConnectionPoints(), t.prototype.finish.call(this);\n      }, e.prototype.onMouseDownCore = function (e) {\n        this.handler.canScrollPage(e) ? this.startScrolling(e) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ConnectorText ? (this.handler.changeSingleSelection(e.source.key), this.handler.switchState(new d.MouseHandlerMoveConnectorTextState(this.handler, this.history, this.model))) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ShapeResizeBox ? this.handler.switchState(new a.MouseHandlerResizeShapeState(this.handler, this.history, this.model, this.selection, this.visualizerManager, this.settings)) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ShapeParameterBox ? this.handler.switchState(new u.MouseHandlerDragParameterPointState(this.handler, this.history, this.model)) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ConnectorPoint ? this.handler.switchState(new s.MouseHandlerMoveConnectorPointState(this.handler, this.history, this.model, this.visualizerManager)) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ConnectorSide ? this.handler.switchState(new c.MouseHandlerMoveConnectorSideState(this.handler, this.history, this.model)) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ConnectorOrthogonalSide ? this.handler.switchState(new p.MouseHandlerMoveConnectorOrthogonalSideState(this.handler, this.history, this.model)) : e.button === r.MouseButton.Left && e.source.type === r.MouseEventElementType.ShapeConnectionPoint ? this.handler.switchState(new h.MouseHandlerCreateConnectorState(this.handler, this.history, this.model, this.visualizerManager, this.shapeDescriptionManager, this.selection)) : t.prototype.onMouseDownCore.call(this, e);\n      }, e.prototype.onDragDiagramItemOnMouseDown = function (e) {\n        this.handler.canAddDiagramItemToSelection(e) ? e.source.type === r.MouseEventElementType.Shape ? this.handler.switchState(new y.MouseHandlerMoveShapeState(this.handler, this.history, this.model, this.selection, this.visualizerManager)) : e.source.type === r.MouseEventElementType.Connector && this.handler.switchState(new m.MouseHandlerMoveConnectorState(this.handler, this.history, this.model, this.selection, this.visualizerManager)) : t.prototype.onDragDiagramItemOnMouseDown.call(this, e);\n      }, e.prototype.onDragStart = function (t) {\n        this.handler.switchState(new l.MouseHandlerBeforeToolboxDraggingState(this.handler, this.history, this.model, this.selection, this.visualizerManager, this.shapeDescriptionManager)), this.handler.state.onDragStart(t);\n      }, e.prototype.onMouseMoveCore = function (e) {\n        this.updateConnectionsOnMouseMove(e), t.prototype.onMouseMoveCore.call(this, e);\n      }, e.prototype.onMouseUp = function (e) {\n        this.canRemoveDiagramItemToSelection(e) ? this.handler.removeDiagramItemFromSelection(e.button, e.source.key) : t.prototype.onMouseUp.call(this, e);\n      }, e.prototype.updateConnectionsOnMouseMove = function (t) {\n        var e = this.model.findItem(t.source.key);\n        this.visualizerManager.updateConnections(e, t.source.type, t.source.value);\n      }, e.prototype.canRemoveDiagramItemToSelection = function (t) {\n        return this.handler.canRemoveDiagramItemToSelection(t);\n      }, e.prototype.canDragObjectOnMouseDown = function (t) {\n        return !0;\n      }, e.prototype.canExpandContainerOnMouseDown = function (t) {\n        return !0;\n      }, e.prototype.canClearSelectionOnMouseDown = function () {\n        return !1;\n      }, e.prototype.processOnMouseMoveAfterLimit = function (t) {\n        this.startSelection(t);\n      }, e.prototype.canSelectOnMouseUp = function (t) {\n        return !1;\n      }, e.prototype.canClearSelectionOnMouseUp = function () {\n        return !0;\n      }, e.prototype.onConnectionPointsShow = function (t, e) {\n        var n = this,\n            o = this.model.findShape(t);\n        o && e.forEach(function (t, e) {\n          t.allowed = n.handler.canPerformChangeConnectionOnUpdateUI(void 0, {\n            item: o,\n            position: g.ConnectorPosition.Begin,\n            connectionPointIndex: e\n          });\n        });\n      }, e;\n    }(f.MouseHandlerDefaultStateBase);\n\n    e.MouseHandlerDefaultState = v;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o85,\n        i = this && this.__extends || (_o85 = function o(t, e) {\n      return (_o85 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o85(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveConnectorPointStateBase = void 0;\n\n    var r = n(6),\n        s = n(14),\n        a = n(35),\n        c = n(65),\n        u = n(48),\n        h = n(4),\n        p = n(31),\n        l = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e, n) || this;\n        return r.model = o, r.visualizerManager = i, r;\n      }\n\n      return i(e, t), e.prototype.finish = function () {\n        this.visualizerManager.resetConnectionTarget(), this.visualizerManager.resetConnectionPoints(), t.prototype.finish.call(this);\n      }, e.prototype.onMouseDown = function (e) {\n        t.prototype.onMouseDown.call(this, e), this.connector && this.handler.addInteractingItem(this.connector);\n      }, e.prototype.onMouseMove = function (e) {\n        if (t.prototype.onMouseMove.call(this, e), this.allowAttachToObjects(e, !1, !1)) {\n          if (this.connector) {\n            var n = this.connector.getExtremeItem(this.pointPosition);\n            this.visualizerManager.setConnectionTarget(n, e.source.type);\n            var o = this.connector.getExtremeConnectionPointIndex(this.pointPosition);\n            (n || -1 === this.oppositeConnectionPointIndex) && this.allowAttachToObjects(e, !0, !1) || (n = this.model.findItem(e.source.key)), this.visualizerManager.setConnectionPoints(n, e.source.type, o, !0);\n          }\n        } else this.visualizerManager.resetConnectionTarget(), this.visualizerManager.resetConnectionPoints();\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this.getSnappedPoint(t, t.modelPoint);\n\n        if (void 0 !== this.pointPosition) {\n          void 0 === this.oppositePointPosition && (this.oppositePointPosition = this.getOppositePointPosition(), this.oppositeItem = this.connector.getExtremeItem(this.oppositePointPosition), this.oppositeConnectionPointIndex = this.connector.getExtremeConnectionPointIndex(this.oppositePointPosition)), this.targetItem = this.model.findItem(t.source.key);\n          var n = this.allowAttachToObjects(t, !0, !0) ? this.targetItem : void 0,\n              o = -1;\n          t.source.type === s.MouseEventElementType.ShapeConnectionPoint && (o = parseInt(t.source.value)), !n || t.source.type !== s.MouseEventElementType.Shape && t.source.type !== s.MouseEventElementType.ShapeConnectionPoint || this.connector.getExtremeItem(this.oppositePointPosition) === n && (-1 === o || -1 === this.oppositeConnectionPointIndex || o === this.oppositeConnectionPointIndex) ? this.connector.getExtremeItem(this.pointPosition) && (this.history.addAndRedo(new c.DeleteConnectionHistoryItem(this.connector, this.pointPosition)), this.oppositeItem && this.updateOppositeItemConnectionPointIndex(this.oppositeConnectionPointIndex)) : (this.connector.getExtremeItem(this.pointPosition) === n && this.connector.getExtremeConnectionPointIndex(this.pointPosition) === o || (this.connector.getExtremeItem(this.pointPosition) && this.history.addAndRedo(new c.DeleteConnectionHistoryItem(this.connector, this.pointPosition)), this.history.addAndRedo(new u.AddConnectionHistoryItem(this.connector, n, o, this.pointPosition)), this.oppositeItem && this.updateOppositeItemConnectionPointIndex(o)), e = n.getConnectionPointPosition(o, this.connector.points[this.pointIndex + (this.pointPosition === r.ConnectorPosition.End ? -1 : 1)]), this.visualizerManager.setConnectionPointIndex(o));\n        }\n\n        if (h.ModelUtils.moveConnectorPoint(this.history, this.connector, this.pointIndex, e), h.ModelUtils.updateConnectorAttachedPoints(this.history, this.model, this.connector), this.connector.properties.lineOption === p.ConnectorLineOption.Orthogonal) {\n          var i = this.connector.getRenderPoints(!0);\n          h.ModelUtils.skipUnnecessaryRightAngleRenderPoints(i);\n        }\n\n        this.handler.tryUpdateModelSize();\n      }, e.prototype.updateOppositeItemConnectionPointIndex = function (t) {\n        var e = -1 === t ? -1 : this.oppositeConnectionPointIndex;\n        e !== this.connector.getExtremeConnectionPointIndex(this.oppositePointPosition) && (this.history.addAndRedo(new c.DeleteConnectionHistoryItem(this.connector, this.oppositePointPosition)), this.history.addAndRedo(new u.AddConnectionHistoryItem(this.connector, this.oppositeItem, e, this.oppositePointPosition)));\n      }, e.prototype.onFinishWithChanges = function () {\n        h.ModelUtils.updateConnectorContainer(this.history, this.model, this.connector), h.ModelUtils.deleteConnectorUnnecessaryPoints(this.history, this.connector), this.handler.tryUpdateModelSize();\n      }, e.prototype.getDraggingElementKeys = function () {\n        return this.connector ? [this.connector.key] : [];\n      }, e.prototype.getOppositePointPosition = function () {\n        return this.pointPosition === r.ConnectorPosition.Begin ? r.ConnectorPosition.End : r.ConnectorPosition.Begin;\n      }, e.prototype.allowAttachToObjects = function (t, e, n) {\n        if (this.handler.canMultipleSelection(t)) return !1;\n        var o = this.connector;\n\n        if (o && t.source.type === s.MouseEventElementType.Shape) {\n          var i = this.model.findItem(t.source.key);\n          if (e && this.model.findItemContainerCore(o, function (t) {\n            return t === i;\n          })) return !1;\n          if (e && this.oppositeItem && this.model.findItemContainerCore(this.oppositeItem, function (t) {\n            return t === i;\n          })) return !1;\n          if (n && this.oppositeItem === i && -1 === this.oppositeConnectionPointIndex) return !1;\n        }\n\n        return !0;\n      }, e.prototype.onConnectionPointsShow = function (t, e) {\n        var n = this;\n\n        if (this.connector && void 0 !== this.pointPosition && (this.connector.endItem && this.connector.endItem.key === t || this.connector.beginItem && this.connector.beginItem.key === t)) {\n          var o = this.connector.beginItem && this.connector.beginItem.key === t ? r.ConnectorPosition.Begin : r.ConnectorPosition.End;\n          e.forEach(function (t, e) {\n            t.allowed = n.handler.canPerformChangeConnectionOnUpdateUI(n.connector, {\n              item: n.connector.getExtremeItem(o),\n              position: o,\n              connectionPointIndex: e\n            });\n          });\n        }\n      }, e.prototype.onConnectionTargetShow = function (t, e) {\n        if (this.connector && void 0 !== this.pointPosition && (this.connector.endItem && this.connector.endItem.key === t || this.connector.beginItem && this.connector.beginItem.key === t)) {\n          var n = this.connector.beginItem && this.connector.beginItem.key === t ? r.ConnectorPosition.Begin : r.ConnectorPosition.End;\n          e.allowed = this.handler.canPerformChangeConnectionOnUpdateUI(this.connector, {\n            item: this.connector.getExtremeItem(n),\n            position: n,\n            connectionPointIndex: -1\n          });\n        }\n      }, e;\n    }(a.MouseHandlerDraggingState);\n\n    e.MouseHandlerMoveConnectorPointStateBase = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o86,\n        i = this && this.__extends || (_o86 = function o(t, e) {\n      return (_o86 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o86(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDefaultStateBase = void 0;\n\n    var r = n(41),\n        s = n(14),\n        a = n(314),\n        c = n(316),\n        u = n(317),\n        h = n(151),\n        p = n(12),\n        l = function (t) {\n      function e(e, n, o, i, r, s, a, c) {\n        var u = t.call(this, e) || this;\n        return u.history = n, u.selection = o, u.model = i, u.view = r, u.visualizerManager = s, u.shapeDescriptionManager = a, u.settings = c, u;\n      }\n\n      return i(e, t), e.prototype.onKeyDown = function (t) {\n        this.handler.onStartScrollPageByKeyboard(t);\n      }, e.prototype.onKeyUp = function (t) {\n        this.handler.onFinishScrollPageByKeyboard(t);\n      }, e.prototype.onMouseDown = function (t) {\n        this.handler.canFinishTextEditing() && (this.onMouseDownCore(t), this.handler.state !== this && this.handler.state.onMouseDown(t));\n      }, e.prototype.onMouseDownCore = function (t) {\n        this.handler.canScrollPage(t) ? this.startScrolling(t) : this.hasDiagramItem(t) && this.canDragObjectOnMouseDown(t.source.key) ? this.onDragDiagramItemOnMouseDown(t) : t.button === s.MouseButton.Left && t.source.type === s.MouseEventElementType.ShapeExpandButton && this.canExpandContainerOnMouseDown(t.source.key) ? this.onShapeExpandBtnMouseDown(t) : (!this.hasDiagramItem(t) && this.canClearSelectionOnMouseDown() && this.clearSelection(), this.startPoint = t.modelPoint);\n      }, e.prototype.onDragDiagramItemOnMouseDown = function (t) {\n        this.replaceSelection(t);\n      }, e.prototype.onMouseMove = function (t) {\n        this.onMouseMoveCore(t), this.handler.state !== this && (this.handler.state.onMouseDown(this.handler.mouseDownEvent), this.handler.state.onMouseMove(t));\n      }, e.prototype.onMouseMoveCore = function (t) {\n        this.startPoint && (Math.abs(this.startPoint.x - t.modelPoint.x) > e.startLimit || Math.abs(this.startPoint.y - t.modelPoint.y) > e.startLimit) && (this.processOnMouseMoveAfterLimit(t), this.startPoint = void 0);\n      }, e.prototype.onMouseUp = function (t) {\n        this.onMouseUpCore(t), this.handler.state !== this && this.handler.state.onMouseUp(t);\n      }, e.prototype.onMouseUpCore = function (t) {\n        t.source.type === s.MouseEventElementType.Shape && this.canSelectOnMouseUp(t.source.key) ? this.replaceSelection(t) : t.source.type === s.MouseEventElementType.Connector && this.canSelectOnMouseUp(t.source.key) ? this.replaceSelection(t) : t.source.type === s.MouseEventElementType.ShapeExpandButton && this.canSelectOnMouseUp(t.source.key) ? this.replaceSelection(t) : this.startPoint && this.canClearSelectionOnMouseUp() && this.clearSelection(), this.startPoint = void 0;\n      }, e.prototype.onMouseWheel = function (t) {\n        return !!this.handler.canStartZoomOnWheel(t) && (this.handler.switchState(new u.MouseHandlerZoomOnWheelState(this.handler, this.settings, this.view)), this.handler.state.onMouseWheel(t), !0);\n      }, e.prototype.onLongTouch = function (t) {\n        this.replaceMultipleSelection(t.source.key);\n      }, e.prototype.finish = function () {\n        this.startPoint = void 0;\n      }, e.prototype.startSelection = function (t) {\n        t.button === s.MouseButton.Left && this.handler.switchState(new c.MouseHandlerSelectionState(this.handler, this.selection, this.visualizerManager));\n      }, e.prototype.startScrolling = function (t) {\n        t.button === s.MouseButton.Left && (this.handler.onDocumentDragScrollStart(), this.handler.switchState(new h.MouseHandlerScrollingState(this.handler, this.view, this.selection)));\n      }, e.prototype.inSelection = function (t) {\n        return this.selection.hasKey(t);\n      }, e.prototype.hasDiagramItem = function (t) {\n        return t.source.type === s.MouseEventElementType.Shape || t.source.type === s.MouseEventElementType.Connector;\n      }, e.prototype.onShapeExpandBtnMouseDown = function (t) {\n        this.handler.addDiagramItemToSelection(t), this.handler.switchState(new a.MouseHandlerToggleShapeExpandedState(this.handler, this.history, this.model, this.selection));\n      }, e.prototype.replaceSelection = function (t) {\n        this.handler.canMultipleSelection(t) ? this.replaceMultipleSelection(t.source.key) : this.handler.changeSingleSelection(t.source.key);\n      }, e.prototype.replaceMultipleSelection = function (t) {\n        this.selection.hasKey(t) ? this.selection.remove(t) : this.selection.add(t);\n      }, e.prototype.clearSelection = function () {\n        this.selection.set([]);\n      }, e.startLimit = p.UnitConverter.pixelsToTwips(1), e;\n    }(r.MouseHandlerStateBase);\n\n    e.MouseHandlerDefaultStateBase = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o87,\n        i = this && this.__extends || (_o87 = function o(t, e) {\n      return (_o87 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o87(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerScrollingState = void 0;\n\n    var r = n(41),\n        s = n(14),\n        a = n(1),\n        c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.view = n, i.selection = o, i.lastOffset = new a.Point(0, 0), i;\n      }\n\n      return i(e, t), e.prototype.onKeyUp = function (t) {\n        this.handler.onFinishScrollPageByKeyboard(t);\n      }, e.prototype.onMouseDown = function (t) {\n        t.preventDefault = !0, this.startPoint = this.getPointByEvent(t);\n      }, e.prototype.onMouseMove = function (t) {\n        if (t.button === s.MouseButton.Left) {\n          var e = this.currentPoint || this.startPoint;\n          t.preventDefault = !0;\n          var n = this.getPointByEvent(t),\n              o = this.view.scrollBy(new a.Point(n.x - e.x, n.y - e.y));\n          this.lastOffset = this.lastOffset.clone().offset(o.x, o.y), this.currentPoint = n;\n        } else this.handler.onFinishScrollPageByMouse(t);\n      }, e.prototype.onMouseUp = function (t) {\n        t.button === s.MouseButton.Left && this.handler.onFinishScrollPageByMouse(t), this.handler.switchToDefaultState();\n      }, e.prototype.cancelChanges = function () {\n        this.currentPoint && this.view.scrollBy(this.lastOffset.clone().multiply(-1, -1));\n      }, e.prototype.finish = function () {\n        this.currentPoint && this.startPoint && !this.currentPoint.equals(this.startPoint) || this.selection.set([]), t.prototype.finish.call(this);\n      }, e.prototype.getPointByEvent = function (t) {\n        return t.offsetPoint;\n      }, e;\n    }(r.MouseHandlerCancellableState);\n\n    e.MouseHandlerScrollingState = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o88,\n        i = this && this.__extends || (_o88 = function o(t, e) {\n      return (_o88 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o88(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDragDiagramItemStateBase = e.DraggingConnector = void 0;\n\n    var r = n(58),\n        s = n(86),\n        a = n(30),\n        c = n(85),\n        u = n(4),\n        h = n(16),\n        p = n(14),\n        l = n(35),\n        d = function () {\n      return function (t) {\n        this.connector = t, this.startPoints = t.points.map(function (t) {\n          return t.clone();\n        }), this.startRenderContext = t.createRenderPointsContext();\n      };\n    }();\n\n    e.DraggingConnector = d;\n\n    var f = function () {\n      return function (t) {\n        this.shape = t, this.startPosition = t.position.clone();\n      };\n    }(),\n        y = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this, e, n) || this;\n        return s.model = o, s.selection = i, s.visualizerManager = r, s.startScrollLeft = 0, s.startScrollTop = 0, s;\n      }\n\n      return i(e, t), e.prototype.finish = function () {\n        this.visualizerManager.resetExtensionLines(), this.visualizerManager.resetContainerTarget(), this.visualizerManager.resetConnectionTarget(), this.hasTouchDown || this.visualizerManager.resetConnectionPoints(), t.prototype.finish.call(this);\n      }, e.prototype.onMouseDown = function (e) {\n        var n = this;\n        this.handler.addDiagramItemToSelection(e), this.shouldClone = this.handler.canCopySelectedItems(e), this.startPoint = e.modelPoint, this.hasTouchDown = e.isTouchEvent, this.initDrag(), this.lockInitDrag = !1, this.shouldClone || this.draggingShapes.forEach(function (t) {\n          return n.handler.addInteractingItem(t.shape, h.DiagramModelOperation.MoveShape);\n        }), t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onMouseMove = function (t) {\n        this.mouseMoveEvent = t, this.canApplyChangesOnMouseMove(this.startPoint, t.modelPoint) && (this.handler.canCopySelectedItems(t) && (this.lockInitDrag || (this.cancelChanges(), this.shouldClone = !0, this.copySelection(), this.initDrag(), this.lockInitDrag = !0)), this.onApplyChanges(t), this.onAfterApplyChanges(), this.updateContainers(t), t.button !== p.MouseButton.Left && this.handler.switchToDefaultState());\n      }, e.prototype.updateContainers = function (t) {\n        this.visualizerManager.setExtensionLines(this.selection.getSelectedShapes(!1, !0));\n        var e = u.ModelUtils.findContainerByEventKey(this.model, this.selection, t.source.key);\n        e && this.allowInsertToContainer(t, e) ? this.visualizerManager.setContainerTarget(e, t.source.type) : this.visualizerManager.resetContainerTarget();\n      }, e.prototype.onMouseUp = function (e) {\n        t.prototype.onMouseUp.call(this, e), this.handler.removeDiagramItemFromSelection(e.button, e.source.key);\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this;\n\n        if (this.calculateFixedPosition(t), this.draggingShapes.length) {\n          var n = this.draggingShapes.map(function (t) {\n            return t.shape;\n          });\n          this.draggingShapes.forEach(function (o) {\n            for (var i = o.shape; i.container;) {\n              if (-1 !== n.indexOf(i.container)) return !1;\n              i = i.container;\n            }\n\n            e.moveShape(o, t);\n          });\n          var o = this.draggingShapes[0],\n              i = r.Vector.fromPoints(o.startPosition.clone(), o.shape.position.clone());\n          (i.x || i.y) && this.draggingConnectors.forEach(function (t) {\n            return e.moveConnectorCore(t.connector, t.startPoints, t.startRenderContext, i);\n          });\n        } else this.draggingConnectors.forEach(function (n) {\n          return e.moveConnector(n, t);\n        });\n\n        var s = u.ModelUtils.findContainerByEventKey(this.model, this.selection, t.source.key);\n        s && this.allowInsertToContainer(t, s) ? u.ModelUtils.insertSelectionToContainer(this.history, this.model, this.selection, s) : u.ModelUtils.removeSelectionFromContainer(this.history, this.model, this.selection), this.handler.tryUpdateModelSize(function (t, n) {\n          e.modelConnectorsWithoutBeginItemInfo.forEach(function (e) {\n            e.point.x += t, e.point.y += n;\n          }), e.modelConnectorsWithoutEndItemInfo.forEach(function (e) {\n            e.point.x += t, e.point.y += n;\n          });\n        });\n      }, e.prototype.getDraggingElementKeys = function () {\n        return this.draggingShapes.map(function (t) {\n          return t.shape.key;\n        }).concat(this.draggingConnectors.map(function (t) {\n          return t.connector.key;\n        }));\n      }, e.prototype.getSnappedPoint = function (t, e) {\n        return this.handler.getSnappedPointOnDragDiagramItem(t, e, this.fixedX, this.fixedY, this.startPoint);\n      }, e.prototype.initDrag = function () {\n        this.selectedItems = u.ModelUtils.createSelectedItems(this.selection), this.initDraggingShapes(), this.areValidDraggingShapes ? (this.initDraggingConnectors(), this.areValidDraggingConnectors ? (this.modelConnectorsWithoutBeginItemInfo = this.createModelConnectorsWithoutBeginItemInfo(), this.modelConnectorsWithoutEndItemInfo = this.createModelConnectorsWithoutEndItemInfo()) : this.handler.switchToDefaultState()) : this.handler.switchToDefaultState();\n      }, e.prototype.initDraggingShapes = function () {\n        this.draggingShapes = this.selection.getSelectedShapes(!1, !0).map(function (t) {\n          return new f(t);\n        });\n      }, e.prototype.initDraggingConnectors = function () {\n        var t = this;\n        this.draggingConnectors = [], this.draggingConnectorsIndexByKey = {}, this.selection.getSelectedConnectors(!1, !0).forEach(function (e) {\n          return t.registerConnector(e);\n        }), this.shouldClone || this.draggingShapes.forEach(function (e) {\n          var n = e.shape.attachedConnectors;\n          n && n.forEach(function (e) {\n            t.containsDraggingConnectorByKey(e.key) || t.registerConnector(e);\n          });\n        });\n      }, e.prototype.copySelection = function () {\n        var t = this;\n        u.ModelUtils.cloneSelectionToOffset(this.history, this.model, function (e) {\n          var n = t.model.findItem(e);\n          n && t.handler.addInteractingItem(n, h.DiagramModelOperation.AddShape);\n        }, this.selection, 0, 0);\n      }, e.prototype.calculateFixedPosition = function (t) {\n        (this.fixedX = !1, this.fixedY = !1, this.handler.canCalculateFixedPosition(t)) && (Math.abs(this.startPoint.x - t.modelPoint.x) < Math.abs(this.startPoint.y - t.modelPoint.y) ? this.fixedX = !0 : this.fixedY = !0);\n      }, e.prototype.containsDraggingConnectorByKey = function (t) {\n        return void 0 !== this.draggingConnectorsIndexByKey[t];\n      }, e.prototype.allowInsertToContainer = function (t, e) {\n        return !this.handler.canMultipleSelection(t) && e && e.expanded && u.ModelUtils.canInsertSelectionToContainer(this.model, this.selection, e);\n      }, e.prototype.registerConnector = function (t) {\n        this.draggingConnectorsIndexByKey[t.key] = this.draggingConnectors.push(new d(t)) - 1;\n      }, e.prototype.createModelConnectorsWithoutBeginItemInfo = function () {\n        var t = this;\n        return this.model.findConnectorsCore(function (e) {\n          return !e.beginItem && !t.containsDraggingConnectorByKey(e.key);\n        }).map(function (t) {\n          return {\n            connector: t,\n            point: t.points[0].clone()\n          };\n        });\n      }, e.prototype.createModelConnectorsWithoutEndItemInfo = function () {\n        var t = this;\n        return this.model.findConnectorsCore(function (e) {\n          return !e.endItem && !t.containsDraggingConnectorByKey(e.key);\n        }).map(function (t) {\n          return {\n            connector: t,\n            point: t.points[t.points.length - 1].clone()\n          };\n        });\n      }, e.prototype.moveConnector = function (t, e) {\n        var n = t.startPoints,\n            o = r.Vector.fromPoints(n[0].clone(), this.getSnappedPoint(e, n[0]).clone());\n        (o.x || o.y) && this.moveConnectorCore(t.connector, n, t.startRenderContext, o);\n      }, e.prototype.moveConnectorCore = function (t, e, n, o) {\n        this.shouldClone || u.ModelUtils.canMoveConnector(this.selectedItems, t) ? this.offsetConnector(t, e, n, o) : this.changeConnector(t);\n      }, e.prototype.moveShape = function (t, e) {\n        var n = this,\n            o = t.shape,\n            i = this.getSnappedPoint(e, t.startPosition);\n        u.ModelUtils.setShapePosition(this.history, this.model, o, i), u.ModelUtils.updateMovingShapeConnections(this.history, o, this.modelConnectorsWithoutBeginItemInfo, this.modelConnectorsWithoutEndItemInfo, function () {\n          n.visualizerManager.resetConnectionTarget(), n.visualizerManager.resetConnectionPoints();\n        }, function (t, e) {\n          n.visualizerManager.setConnectionTarget(t, p.MouseEventElementType.Shape), n.visualizerManager.setConnectionPoints(t, p.MouseEventElementType.Shape, e, !0);\n        }, function (t) {\n          return n.handler.addInteractingItem(t);\n        }), this.draggingConnectors.filter(function (t) {\n          return !!n.selectedItems[t.connector.key];\n        }).length || u.ModelUtils.updateShapeAttachedConnectors(this.history, this.model, o);\n      }, e.prototype.offsetConnector = function (t, e, n, o) {\n        var i = this,\n            r = e.map(function (t) {\n          return i.offsetPoint(t, o);\n        });\n        r[0].equals(t.points[0]) || this.history.addAndRedo(new s.ChangeConnectorPointsHistoryItem(t.key, r, this.offsetRenderContext(n, o)));\n      }, e.prototype.offsetRenderContext = function (t, e) {\n        var n = this;\n        if (void 0 !== t) return new c.ConnectorRenderPointsContext(t.renderPoints.map(function (t) {\n          var o = n.offsetPoint(t, e);\n          return new a.ConnectorRenderPoint(o.x, o.y, t.pointIndex, t.skipped);\n        }), !0, t.actualRoutingMode);\n      }, e.prototype.offsetPoint = function (t, e) {\n        var n = r.Vector.fromPoints(t, this.startPoint);\n        return this.startPoint.clone().offset(e.x - n.x, e.y - n.y);\n      }, e.prototype.changeConnector = function (t) {\n        u.ModelUtils.removeConnectorIntermediatePoints(this.history, t), u.ModelUtils.updateConnectorAttachedPoints(this.history, this.model, t);\n      }, e;\n    }(l.MouseHandlerDraggingState);\n\n    e.MouseHandlerDragDiagramItemStateBase = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o89,\n        i = this && this.__extends || (_o89 = function o(t, e) {\n      return (_o89 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o89(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDefaultReadOnlyState = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.canDragObjectOnMouseDown = function (t) {\n        return !1;\n      }, e.prototype.canExpandContainerOnMouseDown = function (t) {\n        return !1;\n      }, e.prototype.canClearSelectionOnMouseDown = function () {\n        return !1;\n      }, e.prototype.processOnMouseMoveAfterLimit = function (t) {\n        this.startSelection(t);\n      }, e.prototype.canSelectOnMouseUp = function (t) {\n        return !0;\n      }, e.prototype.canClearSelectionOnMouseUp = function () {\n        return !0;\n      }, e.prototype.updateConnectionsOnMouseMove = function (t) {}, e;\n    }(n(150).MouseHandlerDefaultStateBase);\n\n    e.MouseHandlerDefaultReadOnlyState = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o90,\n        i = this && this.__extends || (_o90 = function o(t, e) {\n      return (_o90 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o90(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeShapeTextHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.shapeKey = e.key, o.text = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        this.oldText = e.text, t.changeShapeText(e, this.text);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.changeShapeText(e, this.oldText);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeShapeTextHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TargetVisualizerBase = void 0;\n\n    var o = function () {\n      function t(t) {\n        this.dispatcher = t;\n      }\n\n      return t.prototype.getKey = function () {\n        return this.key;\n      }, t.prototype.setTargetRect = function (t, e, n) {\n        this.key !== t && (this.key = t, this.targetRect = e, this.targetStrokeWidth = n, this.raiseShow());\n      }, t.prototype.reset = function () {\n        \"-1\" !== this.key && (this.key = \"-1\", this.targetRect = void 0, this.targetStrokeWidth = 0, this.raiseHide());\n      }, t;\n    }();\n\n    e.TargetVisualizerBase = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExtensionLinesVisualizer = e.ExtensionLine = e.ExtensionLineType = void 0, function (t) {\n      t[t.LeftToLeftAbove = 0] = \"LeftToLeftAbove\", t[t.LeftToLeftBelow = 1] = \"LeftToLeftBelow\", t[t.RightToRightAbove = 2] = \"RightToRightAbove\", t[t.RightToRightBelow = 3] = \"RightToRightBelow\", t[t.LeftToRightAbove = 4] = \"LeftToRightAbove\", t[t.LeftToRightBelow = 5] = \"LeftToRightBelow\", t[t.RightToLeftAbove = 6] = \"RightToLeftAbove\", t[t.RightToLeftBelow = 7] = \"RightToLeftBelow\", t[t.TopToTopBefore = 8] = \"TopToTopBefore\", t[t.TopToTopAfter = 9] = \"TopToTopAfter\", t[t.BottomToBottomBefore = 10] = \"BottomToBottomBefore\", t[t.BottomToBottomAfter = 11] = \"BottomToBottomAfter\", t[t.TopToBottomBefore = 12] = \"TopToBottomBefore\", t[t.TopToBottomAfter = 13] = \"TopToBottomAfter\", t[t.BottomToTopBefore = 14] = \"BottomToTopBefore\", t[t.BottomToTopAfter = 15] = \"BottomToTopAfter\", t[t.HorizontalCenterAbove = 16] = \"HorizontalCenterAbove\", t[t.HorizontalCenterBelow = 17] = \"HorizontalCenterBelow\", t[t.VerticalCenterBefore = 18] = \"VerticalCenterBefore\", t[t.VerticalCenterAfter = 19] = \"VerticalCenterAfter\", t[t.VerticalCenterToPageCenter = 20] = \"VerticalCenterToPageCenter\", t[t.HorizontalCenterToPageCenter = 21] = \"HorizontalCenterToPageCenter\", t[t.LeftToPageCenter = 22] = \"LeftToPageCenter\", t[t.RightToPageCenter = 23] = \"RightToPageCenter\", t[t.TopToPageCenter = 24] = \"TopToPageCenter\", t[t.BottomToPageCenter = 25] = \"BottomToPageCenter\";\n    }(e.ExtensionLineType || (e.ExtensionLineType = {}));\n\n    var o = function () {\n      return function (t, e, n) {\n        this.type = t, this.segment = e, this.text = n;\n      };\n    }();\n\n    e.ExtensionLine = o;\n\n    var i = function () {\n      function t(t) {\n        this.dispatcher = t, this.lines = [], this.lineIndexByType = {};\n      }\n\n      return t.prototype.addSegment = function (t, e, n) {\n        var i = this.lineIndexByType[t];\n\n        if (void 0 === i) {\n          var r = new o(t, e, n),\n              s = this.lines.push(r);\n          this.lineIndexByType[r.type] = s - 1, this.raiseShow();\n        } else if (e.length < this.lines[i].segment.length) {\n          r = new o(t, e, n);\n          this.lines.splice(i, 1, r), this.raiseShow();\n        }\n      }, t.prototype.update = function () {\n        this.raiseShow();\n      }, t.prototype.reset = function () {\n        this.lines.length && (this.lines = [], this.lineIndexByType = {}, this.raiseHide());\n      }, t.prototype.raiseShow = function () {\n        var t = this;\n        this.dispatcher.raise1(function (e) {\n          return e.notifyExtensionLinesShow(t.lines);\n        });\n      }, t.prototype.raiseHide = function () {\n        this.dispatcher.raise1(function (t) {\n          return t.notifyExtensionLinesHide();\n        });\n      }, t;\n    }();\n\n    e.ExtensionLinesVisualizer = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o91,\n        i = this && this.__extends || (_o91 = function o(t, e) {\n      return (_o91 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o91(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasSelectionManager = e.ACTIVE_SELECTION_CSSCLASS = e.SELECTION_ELEMENT_CLASSNAMES = void 0;\n\n    var r = n(43),\n        s = n(40),\n        a = n(17),\n        c = n(14),\n        u = n(9),\n        h = n(3),\n        p = n(1),\n        l = n(156),\n        d = n(13),\n        f = n(6),\n        y = n(31),\n        g = n(21),\n        m = n(5),\n        v = n(62),\n        P = n(54),\n        C = n(28),\n        S = n(12),\n        b = n(44),\n        x = n(24),\n        I = n(77),\n        _ = n(141),\n        w = n(36),\n        T = n(33),\n        O = n(4);\n\n    e.SELECTION_ELEMENT_CLASSNAMES = {\n      SELECTION_RECTANGLE: \"selection-rect\",\n      CONNECTION_POINT: \"connection-point\",\n      ACTIVE: \"active\",\n      CONTAINER_TARGET: \"container-target\",\n      CONNECTION_TARGET: \"connection-target\",\n      EXTENSION_LINE: \"extension-line\",\n      CONNECTION_MARK: \"connection-mark\",\n      SELECTION_MARK: \"selection-mark\",\n      LOCKED_SELECTION_MARK: \"locked-selection-mark\",\n      ITEMS_SELECTION_RECT: \"items-selection-rect\",\n      CONNECTOR_MULTI_SELECTION: \"connector-multi-selection\",\n      CONNECTOR_SELECTION: \"connector-selection\",\n      CONNECTOR_POINT_MARK: \"connector-point-mark\",\n      CONNECTOR_SELECTION_MASK: \"connector-selection-mask\",\n      CONNECTOR_SIDE_MARK: \"connector-side-mark\",\n      ITEM_SELECTION_RECT: \"item-selection-rect\",\n      ITEM_MULTI_SELECTION: \"item-multi-selection-rect\"\n    }, e.ACTIVE_SELECTION_CSSCLASS = \"dxdi-active-selection\";\n\n    var E = function (t) {\n      function n(e, n, o, i, r) {\n        var s = t.call(this, n, i) || this;\n        return s.readOnly = o, s.isTouchUIEnabled = r, s.connectionPointElements = [], s.extensionLineElements = [], s.selectionMap = {}, s.parentContainer = e, s.initializeContainerElements(e), s;\n      }\n\n      return i(n, t), n.prototype.initializeContainerElements = function (t) {\n        this.itemSelectionContainer = this.createAndChangePrimitiveElement(new s.GroupPrimitive([], null), t), this.visualizersContainer = this.createAndChangePrimitiveElement(new s.GroupPrimitive([], null), t), this.selectionMarksContainer = this.createAndChangePrimitiveElement(new s.GroupPrimitive([], null), t);\n      }, n.prototype.clear = function () {\n        a.RenderUtils.removeContent(this.itemSelectionContainer), a.RenderUtils.removeContent(this.selectionMarksContainer), a.RenderUtils.removeContent(this.visualizersContainer), this.selectionRectElement = void 0, this.resizeInfoElement = void 0, this.connectionPointElements = [], this.connectionTargetElement = void 0, this.containerTargetElement = void 0, this.extensionLineElements = [], this.selectionMap = {};\n      }, n.prototype.showSelectionRect = function (t) {\n        x.DomUtils.addClassName(this.parentContainer, e.ACTIVE_SELECTION_CSSCLASS);\n        var n = new g.RectanglePrimitive(t.x, t.y, t.width, t.height, C.StrokeStyle.default1pxInstance, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_RECTANGLE),\n            o = this.getSelectionRectElement(n);\n        this.changePrimitiveElement(n, o);\n      }, n.prototype.hideSelectionRect = function () {\n        x.DomUtils.removeClassName(this.parentContainer, e.ACTIVE_SELECTION_CSSCLASS), void 0 !== this.selectionRectElement && this.dom.changeByFunc(this.selectionRectElement, function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.getSelectionRectElement = function (t) {\n        return void 0 !== this.selectionRectElement ? this.dom.changeByFunc(this.selectionRectElement, function (t) {\n          return t.style.display = \"\";\n        }) : this.selectionRectElement = this.createPrimitiveElement(t, this.visualizersContainer), this.selectionRectElement;\n      }, n.prototype.showResizeInfo = function (t, e) {\n        var o = new g.RectanglePrimitive(t.x, t.y, 0, 0, C.StrokeStyle.default1pxInstance),\n            i = new s.GroupPrimitive([o, new v.TextPrimitive(t.x, t.y, e, b.TextOwner.Resize)], \"resize-info\"),\n            r = this.getResizeInfoElement(i);\n        this.changePrimitiveElement(i, r);\n        var a = this.dom.measurer.measureTextLine(e, null, b.TextOwner.Resize).applyConverter(S.UnitConverter.pixelsToTwips);\n        o.width = a.width + 2 * n.resizeInfoTextOffset, o.height = a.height + 2 * n.resizeInfoTextOffset, o.x = t.x - a.width / 2 - n.resizeInfoTextOffset, o.y = t.y - a.height / 2 - n.resizeInfoTextOffset, this.changePrimitiveElement(i, r);\n      }, n.prototype.hideResizeInfo = function () {\n        void 0 !== this.resizeInfoElement && this.dom.changeByFunc(this.resizeInfoElement, function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.getResizeInfoElement = function (t) {\n        return void 0 !== this.resizeInfoElement ? this.dom.changeByFunc(this.resizeInfoElement, function (t) {\n          return t.style.display = \"\";\n        }) : this.resizeInfoElement = this.createPrimitiveElement(t, this.visualizersContainer), this.resizeInfoElement;\n      }, n.prototype.getConnectionPointClassName = function (t, n) {\n        var o = e.SELECTION_ELEMENT_CLASSNAMES.CONNECTION_POINT;\n        return t && (o += \" \" + e.SELECTION_ELEMENT_CLASSNAMES.ACTIVE), n || (o += \" \" + I.NOT_VALID_CSSCLASS), o;\n      }, n.prototype.showConnectionPoint = function (t, o, i, r, s, a) {\n        this.showConnectionPointCore(2 * t, o.x, o.y, n.connectionPointLargeSize, n.connectionPointLargeSize, c.MouseEventElementType.ShapeConnectionPoint, i, r, e.SELECTION_ELEMENT_CLASSNAMES.CONNECTION_POINT + \" selector\" + (a ? \"\" : \" \" + I.NOT_VALID_CSSCLASS)), this.showConnectionPointCore(2 * t + 1, o.x, o.y, n.connectionPointSmallSize, n.connectionPointSmallSize, c.MouseEventElementType.ShapeConnectionPoint, i, r, this.getConnectionPointClassName(s, a));\n      }, n.prototype.showConnectionPointCore = function (t, e, n, o, i, r, s, c, u) {\n        var h = new P.EllipsePrimitive(e, n, o, i, null, u, function (t) {\n          return a.RenderUtils.setElementEventData(t, r, s, c);\n        }),\n            p = this.getConnectionPointElement(h, t);\n        this.changePrimitiveElement(h, p);\n      }, n.prototype.hideConnectionPoints = function () {\n        for (var t = 0; t < this.connectionPointElements.length; t++) this.dom.changeByFunc(this.connectionPointElements[t], function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.getConnectionPointElement = function (t, e) {\n        var n = this.connectionPointElements[e];\n        return void 0 !== n ? this.dom.changeByFunc(n, function (t) {\n          return t.style.display = \"\";\n        }) : (n = this.createPrimitiveElement(t, this.visualizersContainer), this.connectionPointElements[e] = n), n;\n      }, n.prototype.showContainerTarget = function (t, n) {\n        var o = new g.RectanglePrimitive(n.x, n.y, n.width, n.height, null, e.SELECTION_ELEMENT_CLASSNAMES.CONTAINER_TARGET),\n            i = this.getContainerTargetElement(o);\n        this.changePrimitiveElement(o, i);\n      }, n.prototype.hideContainerTarget = function () {\n        this.containerTargetElement && this.dom.changeByFunc(this.containerTargetElement, function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.getContainerTargetElement = function (t) {\n        return void 0 !== this.containerTargetElement ? this.dom.changeByFunc(this.containerTargetElement, function (t) {\n          return t.style.display = \"\";\n        }) : this.containerTargetElement = this.createPrimitiveElement(t, this.itemSelectionContainer), this.containerTargetElement;\n      }, n.prototype.showConnectionTarget = function (t, n) {\n        var o = new g.RectanglePrimitive(n.x, n.y, n.width, n.height, null, e.SELECTION_ELEMENT_CLASSNAMES.CONNECTION_TARGET),\n            i = this.getConnectionTargetElement(o);\n        this.changePrimitiveElement(o, i);\n      }, n.prototype.hideConnectionTarget = function () {\n        this.connectionTargetElement && this.dom.changeByFunc(this.connectionTargetElement, function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.getConnectionTargetElement = function (t) {\n        return void 0 !== this.connectionTargetElement ? this.dom.changeByFunc(this.connectionTargetElement, function (t) {\n          return t.style.display = \"\";\n        }) : this.connectionTargetElement = this.createPrimitiveElement(t, this.itemSelectionContainer), this.connectionTargetElement;\n      }, n.prototype.showExtensionLine = function (t, o, i, a, c) {\n        var u = e.SELECTION_ELEMENT_CLASSNAMES.EXTENSION_LINE;\n        o !== l.ExtensionLineType.VerticalCenterAfter && o !== l.ExtensionLineType.VerticalCenterBefore && o !== l.ExtensionLineType.HorizontalCenterAbove && o !== l.ExtensionLineType.HorizontalCenterBelow || (u += \" center\"), o !== l.ExtensionLineType.VerticalCenterToPageCenter && o !== l.ExtensionLineType.HorizontalCenterToPageCenter && o !== l.ExtensionLineType.LeftToPageCenter && o !== l.ExtensionLineType.RightToPageCenter && o !== l.ExtensionLineType.TopToPageCenter && o !== l.ExtensionLineType.BottomToPageCenter || (u += \" page\");\n        var h = 0,\n            p = 0,\n            d = 0,\n            f = 0,\n            y = 0,\n            g = 0,\n            P = 0,\n            S = 0;\n        i.y === a.y ? (h = i.x - n.extensionLineWidth, p = i.y - n.extensionLineEndingSize, d = i.x - n.extensionLineWidth, f = i.y + n.extensionLineEndingSize, y = a.x - n.extensionLineWidth, g = i.y - n.extensionLineEndingSize, P = a.x - n.extensionLineWidth, S = i.y + n.extensionLineEndingSize) : i.x === a.x && (h = i.x - n.extensionLineEndingSize, p = i.y - n.extensionLineWidth, d = i.x + n.extensionLineEndingSize, f = i.y - n.extensionLineWidth, y = i.x - n.extensionLineEndingSize, g = a.y - n.extensionLineWidth, P = i.x + n.extensionLineEndingSize, S = a.y - n.extensionLineWidth);\n        var x = 0,\n            I = 0;\n        o !== l.ExtensionLineType.RightToRightAbove && o !== l.ExtensionLineType.RightToRightBelow || (x -= n.extensionLineWidth), o !== l.ExtensionLineType.BottomToBottomAfter && o !== l.ExtensionLineType.BottomToBottomBefore || (I -= n.extensionLineWidth);\n        var _ = [new m.PathPrimitive([m.PathPrimitiveMoveToCommand.fromPoint(i.clone().offset(x, I)), m.PathPrimitiveLineToCommand.fromPoint(a.clone().offset(x, I))], C.StrokeStyle.default1pxInstance, \"size-line\"), new m.PathPrimitive([new m.PathPrimitiveMoveToCommand(h, p), new m.PathPrimitiveLineToCommand(d, f), new m.PathPrimitiveMoveToCommand(y, g), new m.PathPrimitiveLineToCommand(P, S)], C.StrokeStyle.default1pxInstance), new v.TextPrimitive((a.x + i.x) / 2, (a.y + i.y) / 2, c, b.TextOwner.ExtensionLine, void 0, void 0, void 0, null, void 0, null, r.PAGE_BG_TEXTFLOOR_FILTER_ID)],\n            w = new s.GroupPrimitive(_, u),\n            T = this.getExtensionLineElement(w, t);\n        this.changePrimitiveElement(w, T);\n      }, n.prototype.hideExtensionLines = function () {\n        for (var t = 0; t < this.extensionLineElements.length; t++) this.extensionLineElements[t] && this.dom.changeByFunc(this.extensionLineElements[t], function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.getExtensionLineElement = function (t, e) {\n        var n = this.extensionLineElements[e];\n        return void 0 !== n ? this.dom.changeByFunc(n, function (t) {\n          return t.style.display = \"\";\n        }) : (n = this.createPrimitiveElement(t, this.visualizersContainer), this.extensionLineElements[e] = n), n;\n      }, n.prototype.getOrCreateShapeSelection = function (t, e) {\n        var n = this.selectionMap[t.key];\n        return n || (n = new R(this.itemSelectionContainer, this.selectionMarksContainer, this.actualZoom, this.readOnly, this.dom, this.isTouchUIEnabled, t.key, t.isLocked, t.rectangle, t.style, t.allowResizeHorizontally, t.allowResizeVertically, t.description.getParameterPoints(t)), this.selectionMap[t.key] = n), e && (e[t.key] = !0), n;\n      }, n.prototype.getOrCreateConnectorSelection = function (t, e) {\n        var n = this.selectionMap[t.key],\n            o = t.getRenderPoints();\n        return n || (n = new L(this.itemSelectionContainer, this.selectionMarksContainer, this.actualZoom, this.readOnly, this.dom, this.isTouchUIEnabled, t.key, t.isLocked, t.rectangle, o, t.style, t.styleText, t.enableText, t.texts.map(function (e) {\n          var n = h.GeometryUtils.getPathPointByPosition(o, e.position);\n          return {\n            text: t.getText(e.position),\n            point: n[0],\n            pointIndex: n[1],\n            pos: e.position\n          };\n        }).sort(function (t, e) {\n          return t.pos - e.pos;\n        }), t.points, t.properties.lineOption), this.selectionMap[t.key] = n), e && (e[t.key] = !0), n;\n      }, n.prototype.getOrCreateMultipleSelection = function (t) {\n        var e = this.selectionMap[-1];\n        return e || (e = new A(this.itemSelectionContainer, this.selectionMarksContainer, this.actualZoom, this.readOnly, this.dom, this.isTouchUIEnabled), this.selectionMap[-1] = e), t[-1] = !0, e;\n      }, n.prototype.getMultipleSelection = function () {\n        return this.selectionMap[-1];\n      }, n.prototype.updateShapeSelection = function (t, e) {\n        t.key in this.selectionMap && (this.getOrCreateShapeSelection(t).onModelChanged(t.isLocked, t.rectangle, t.style, t.allowResizeHorizontally, t.allowResizeVertically, t.description.getParameterPoints(t)), e && e.onModelItemChanged(t.key, t.rectangle));\n      }, n.prototype.updateConnectorSelection = function (t, e) {\n        if (t.key in this.selectionMap) {\n          var n = t.getRenderPoints();\n          this.getOrCreateConnectorSelection(t).onModelChanged(t.isLocked, t.rectangle, n, t.style, t.styleText, t.enableText, t.texts.map(function (e) {\n            var o = h.GeometryUtils.getPathPointByPosition(n, e.position);\n            return {\n              text: t.getText(e.position),\n              pointIndex: o[1],\n              pos: e.position,\n              point: o[0]\n            };\n          }).sort(function (t, e) {\n            return t.pos - e.pos;\n          }), t.points, t.properties.lineOption), e && e.onModelItemChanged(t.key, t.rectangle);\n        }\n      }, n.prototype.hideOutdatedSelection = function (t) {\n        var e = this;\n        Object.keys(this.selectionMap).filter(function (e) {\n          return !t[e];\n        }).forEach(function (t) {\n          e.selectionMap[t].destroy(), delete e.selectionMap[t];\n        });\n      }, n.prototype.selectionCanBeDrawn = function (t) {\n        return !t.container || t.container.expanded && this.selectionCanBeDrawn(t.container);\n      }, n.prototype.notifySelectionChanged = function (t) {\n        var e = this,\n            n = t.getSelectedItems(!0).filter(function (t) {\n          return e.selectionCanBeDrawn(t);\n        }),\n            o = {},\n            i = n.length > 1,\n            r = t.getSelectedShapes(!0).filter(function (t) {\n          return e.selectionCanBeDrawn(t);\n        }),\n            s = t.getSelectedConnectors(!0).filter(function (t) {\n          return e.selectionCanBeDrawn(t);\n        });\n\n        if (r.forEach(function (t) {\n          return e.getOrCreateShapeSelection(t, o).onSelectionChanged(i);\n        }), s.forEach(function (t) {\n          return e.getOrCreateConnectorSelection(t, o).onSelectionChanged(i);\n        }), i) {\n          var a = n.length > 0 ? n[0].strokeWidth : 0,\n              c = {};\n          n.filter(function (t) {\n            return !t.isLocked;\n          }).forEach(function (t) {\n            return c[t.key] = t.rectangle;\n          }), this.getOrCreateMultipleSelection(o).onSelectionChanged(!!r.filter(function (t) {\n            return !t.isLocked;\n          }).length, a, c);\n        }\n\n        this.hideOutdatedSelection(o);\n      }, n.prototype.applyChangesCore = function (e) {\n        t.prototype.applyChangesCore.call(this, e);\n        var n = this.getMultipleSelection();\n        n && n.onModelChanged();\n      }, n.prototype.applyChange = function (t) {\n        var e = this.getMultipleSelection();\n        t.item instanceof d.Shape ? this.updateShapeSelection(t.item, e) : t.item instanceof f.Connector && this.updateConnectorSelection(t.item, e);\n      }, n.prototype.notifyPageColorChanged = function (t) {}, n.prototype.notifyPageSizeChanged = function (t, e) {}, n.prototype.notifyActualZoomChanged = function (t) {\n        var e = this;\n        Object.keys(this.selectionMap).forEach(function (n) {\n          return e.selectionMap[n].notifyZoomChanged(t);\n        }), this.actualZoom = t;\n      }, n.prototype.notifyViewAdjusted = function (t) {}, n.prototype.notifyReadOnlyChanged = function (t) {\n        var e = this;\n        this.readOnly = t, Object.keys(this.selectionMap).forEach(function (n) {\n          return e.selectionMap[n].notifyReadOnlyChanged(t);\n        });\n      }, n.prototype.notifySelectionRectShow = function (t) {\n        this.showSelectionRect(t.clone().multiply(this.actualZoom, this.actualZoom));\n      }, n.prototype.notifySelectionRectHide = function () {\n        this.hideSelectionRect();\n      }, n.prototype.notifyResizeInfoShow = function (t, e) {\n        this.showResizeInfo(t.clone().multiply(this.actualZoom, this.actualZoom), e);\n      }, n.prototype.notifyResizeInfoHide = function () {\n        this.hideResizeInfo();\n      }, n.prototype.notifyConnectionPointsShow = function (t, e, o, i) {\n        var r = this;\n        this.hideConnectionPoints(), e.forEach(function (e, s) {\n          var a = e.point.clone().multiply(r.actualZoom, r.actualZoom);\n          if (i) switch (e.side) {\n            case u.ConnectionPointSide.North:\n              a.y = i.y * r.actualZoom - n.connectionPointShift;\n              break;\n\n            case u.ConnectionPointSide.South:\n              a.y = i.bottom * r.actualZoom + n.connectionPointShift;\n              break;\n\n            case u.ConnectionPointSide.West:\n              a.x = i.x * r.actualZoom - n.connectionPointShift;\n              break;\n\n            case u.ConnectionPointSide.East:\n              a.x = i.right * r.actualZoom + n.connectionPointShift;\n          }\n          r.showConnectionPoint(s, a, t, s, s === o, e.allowed);\n        });\n      }, n.prototype.notifyConnectionPointsHide = function () {\n        this.hideConnectionPoints();\n      }, n.prototype.notifyConnectionTargetShow = function (t, e) {\n        if (e.allowed) {\n          var o = n.correctSelectionRect(e.rect.clone().multiply(this.actualZoom, this.actualZoom), e.strokeWidth, n.connectionTargetBorderWidth, this.actualZoom, 0);\n          this.showConnectionTarget(0, o);\n        }\n      }, n.prototype.notifyConnectionTargetHide = function () {\n        this.hideConnectionTarget();\n      }, n.prototype.notifyContainerTargetShow = function (t, e) {\n        var o = n.correctSelectionRect(e.rect.clone().multiply(this.actualZoom, this.actualZoom), e.strokeWidth, n.connectionTargetBorderWidth, this.actualZoom, 0);\n        this.showContainerTarget(0, o);\n      }, n.prototype.notifyContainerTargetHide = function () {\n        this.hideContainerTarget();\n      }, n.prototype.notifyExtensionLinesShow = function (t) {\n        var e = this;\n        this.hideExtensionLines(), t.forEach(function (t, n) {\n          e.showExtensionLine(n, t.type, t.segment.startPoint.clone().multiply(e.actualZoom, e.actualZoom), t.segment.endPoint.clone().multiply(e.actualZoom, e.actualZoom), t.text);\n        });\n      }, n.prototype.notifyExtensionLinesHide = function () {\n        this.hideExtensionLines();\n      }, n.prototype.notifyDragStart = function (t) {\n        this.dom.changeByFunc(this.selectionMarksContainer, function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.notifyDragEnd = function (t) {\n        this.dom.changeByFunc(this.selectionMarksContainer, function (t) {\n          return t.style.display = \"\";\n        });\n      }, n.prototype.notifyDragScrollStart = function () {}, n.prototype.notifyDragScrollEnd = function () {}, n.prototype.notifyTextInputStart = function (t, e, n, o) {\n        this.dom.changeByFunc(this.visualizersContainer, function (t) {\n          return t.style.display = \"none\";\n        });\n      }, n.prototype.notifyTextInputEnd = function (t) {\n        this.dom.changeByFunc(this.visualizersContainer, function (t) {\n          return t.style.display = \"\";\n        });\n      }, n.prototype.notifyTextInputPermissionsCheck = function (t, e) {}, n.correctSelectionRect = function (t, e, o, i, r) {\n        void 0 === r && (r = n.selectionOffset);\n        var s = S.UnitConverter.twipsToPixels(e) % 2 != S.UnitConverter.twipsToPixels(o) % 2,\n            a = Math.ceil(e / 2 * i);\n        t = t.clone().inflate(a, a);\n        var c = Math.floor(o / 2);\n\n        if (t.x -= c, t.y -= c, t.width += o, t.height += o, s) {\n          var u = n.evenOddSelectionCorrection * (S.UnitConverter.twipsToPixels(o) % 2 == 1 ? -1 : 1);\n          t = t.clone().moveRectangle(u, u);\n        }\n\n        return t.clone().inflate(r, r);\n      }, n.selectionMarkSize = S.UnitConverter.pixelsToTwips(10), n.lockedSelectionMarkSize = S.UnitConverter.pixelsToTwips(8), n.selectionOffset = S.UnitConverter.pixelsToTwips(2), n.selectionRectLineWidth = S.UnitConverter.pixelsToTwips(1), n.multiSelectionRectLineWidth = S.UnitConverter.pixelsToTwips(1), n.connectionPointSmallSize = S.UnitConverter.pixelsToTwips(5), n.connectionPointLargeSize = S.UnitConverter.pixelsToTwips(12), n.connectionPointShift = S.UnitConverter.pixelsToTwips(16), n.connectionTargetBorderWidth = S.UnitConverter.pixelsToTwips(2), n.geomertyMarkSize = S.UnitConverter.pixelsToTwips(8), n.connectorPointMarkSize = S.UnitConverter.pixelsToTwips(6), n.connectorSideMarkSize = S.UnitConverter.pixelsToTwips(6), n.extensionLineWidth = S.UnitConverter.pixelsToTwips(1), n.extensionLineOffset = S.UnitConverter.pixelsToTwips(1), n.extensionLineEndingSize = S.UnitConverter.pixelsToTwips(6), n.resizeInfoOffset = S.UnitConverter.pixelsToTwips(16), n.resizeInfoTextOffset = S.UnitConverter.pixelsToTwips(2), n.resizeInfoLineWidth = S.UnitConverter.pixelsToTwips(1), n.evenOddSelectionCorrection = S.UnitConverter.pixelsToTwips(1), n;\n    }(_.CanvasManager);\n\n    e.CanvasSelectionManager = E;\n\n    var M = function () {\n      function t(t, e, n, o, i, r, s) {\n        this.rectsContainer = t, this.marksContainer = e, this.key = n, this.zoomLevel = o, this.readOnly = i, this.dom = r, this.isTouchUIEnabled = s, this.elements = {}, this.updatedElements = {};\n      }\n\n      return t.prototype.notifyZoomChanged = function (t) {\n        this.zoomLevel !== t && (this.zoomLevel = t, this.redraw());\n      }, t.prototype.notifyReadOnlyChanged = function (t) {\n        this.readOnly = t, this.redraw();\n      }, t.prototype.destroy = function () {\n        var t = this;\n        Object.keys(this.elements).forEach(function (e) {\n          t.elements[e].parentNode.removeChild(t.elements[e]), delete t.elements[e];\n        });\n      }, t.prototype.redraw = function () {\n        var t = this;\n        this.updatedElements = {}, this.redrawCore(), Object.keys(this.elements).filter(function (e) {\n          return !t.updatedElements[e];\n        }).forEach(function (e) {\n          t.elements[e].parentNode.removeChild(t.elements[e]), delete t.elements[e];\n        }), this.updatedElements = {};\n      }, t.prototype.drawSelectionMarks = function (t, n, o) {\n        if (!this.readOnly) {\n          var i = n && t.height > 3 * E.selectionMarkSize,\n              r = o && t.width > 3 * E.selectionMarkSize,\n              s = n || o;\n          s && this.drawSelectionMark(0, new p.Point(t.x, t.y), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_NW, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), r && !this.isTouchUIEnabled && this.drawSelectionMark(1, new p.Point(t.x + t.width / 2, t.y), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_N, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), s && this.drawSelectionMark(2, new p.Point(t.right, t.y), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_NE, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), i && !this.isTouchUIEnabled && this.drawSelectionMark(3, new p.Point(t.right, t.y + t.height / 2), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_E, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), s && this.drawSelectionMark(4, new p.Point(t.right, t.bottom), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_SE, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), r && !this.isTouchUIEnabled && this.drawSelectionMark(5, new p.Point(t.x + t.width / 2, t.bottom), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_S, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), s && this.drawSelectionMark(6, new p.Point(t.x, t.bottom), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_SW, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK), i && !this.isTouchUIEnabled && this.drawSelectionMark(7, new p.Point(t.x, t.y + t.height / 2), E.selectionMarkSize, c.MouseEventElementType.ShapeResizeBox, c.ResizeEventSource.ResizeBox_W, e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK);\n        }\n      }, t.prototype.drawSelectionMark = function (t, e, n, o, i, r) {\n        var s = this;\n        this.getOrCreateElement(\"SM\" + t, new g.RectanglePrimitive(e.x - n / 2, e.y - n / 2, n, n, null, r, void 0, function (t) {\n          a.RenderUtils.setElementEventData(t, o, s.key, i);\n        }), this.marksContainer);\n      }, t.prototype.drawSelectionRect = function (t, e, n) {\n        var o = new g.RectanglePrimitive(t.x, t.y, t.width, t.height, C.StrokeStyle.default1pxInstance, n, void 0, function (t) {\n          a.RenderUtils.setElementEventData(t, e, \"-1\", -1);\n        });\n        this.getOrCreateElement(\"shapeSelection\", o, this.rectsContainer);\n      }, t.prototype.getOrCreateElement = function (t, e, n) {\n        var o = this.elements[t];\n        return o || (o = e.createElement(function (t) {\n          return n.appendChild(t);\n        }), this.elements[t] = o), this.updatedElements[t] = !0, this.dom.changeByPrimitive(o, e), o;\n      }, t;\n    }(),\n        D = function (t) {\n      function e(e, n, o, i, r, s, a, c, u) {\n        var h = t.call(this, e, n, o, i, r, s, a) || this;\n        return h.isLocked = c, h.rectangle = u, h;\n      }\n\n      return i(e, t), e.prototype.onSelectionChanged = function (t) {\n        this.isMultipleSelection !== t && (this.isMultipleSelection = t, this.redraw());\n      }, e.prototype.isLockedRender = function () {\n        return this.isLocked && !this.readOnly;\n      }, e.prototype.drawLockedSelectionMark = function (t, e, n, o) {\n        var i = new m.PathPrimitive([new m.PathPrimitiveMoveToCommand(e.x - n / 2, e.y - n / 2), new m.PathPrimitiveLineToCommand(e.x + n / 2, e.y + n / 2), new m.PathPrimitiveMoveToCommand(e.x + n / 2, e.y - n / 2), new m.PathPrimitiveLineToCommand(e.x - n / 2, e.y + n / 2)], null, o);\n        this.getOrCreateElement(\"LSM\" + t, i, this.marksContainer);\n      }, e;\n    }(M),\n        A = function (t) {\n      function n(e, n, o, i, r, s) {\n        var a = t.call(this, e, n, \"-1\", o, i, r, s) || this;\n        return a.rectangles = {}, a;\n      }\n\n      return i(n, t), n.prototype.onModelItemChanged = function (t, e) {\n        t in this.rectangles && (this.rectangles[t] = e);\n      }, n.prototype.onModelChanged = function () {\n        this.redraw();\n      }, n.prototype.onSelectionChanged = function (t, e, n) {\n        this.needDrawSelectionMarks = t, this.strokeWidth = e, this.rectangles = n, this.redraw();\n      }, n.prototype.redrawCore = function () {\n        var t = this,\n            n = Object.keys(this.rectangles);\n\n        if (n.length) {\n          var o = h.GeometryUtils.getCommonRectangle(n.map(function (e) {\n            return t.rectangles[e];\n          })).clone().multiply(this.zoomLevel, this.zoomLevel),\n              i = E.correctSelectionRect(o, this.strokeWidth, E.selectionRectLineWidth, this.zoomLevel);\n          this.drawSelectionRect(i, c.MouseEventElementType.SelectionRect, e.SELECTION_ELEMENT_CLASSNAMES.ITEMS_SELECTION_RECT), this.needDrawSelectionMarks && this.drawSelectionMarks(o, !0, !0);\n        }\n      }, n;\n    }(M),\n        R = function (t) {\n      function n(e, n, o, i, r, s, a, c, u, h, p, l, d) {\n        var f = t.call(this, e, n, a, o, i, r, s, c, u) || this;\n        return f.style = h, f.allowResizeHorizontally = p, f.allowResizeVertically = l, f.shapeParameterPoints = d, f;\n      }\n\n      return i(n, t), n.prototype.onModelChanged = function (t, e, n, o, i, r) {\n        this.isLocked = t, this.rectangle = e, this.style = n, this.allowResizeHorizontally = o, this.allowResizeVertically = i, this.shapeParameterPoints = r, this.redraw();\n      }, n.prototype.redrawCore = function () {\n        var t = this.rectangle.clone().multiply(this.zoomLevel, this.zoomLevel);\n        this.isLockedRender() ? this.drawLockedSelection(t) : this.drawUnlockedSelection(t);\n      }, n.prototype.drawLockedSelection = function (t) {\n        this.drawLockedSelectionMark(0, new p.Point(t.x, t.y), E.lockedSelectionMarkSize, e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK), this.drawLockedSelectionMark(1, new p.Point(t.right, t.y), E.lockedSelectionMarkSize, e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK), this.drawLockedSelectionMark(2, new p.Point(t.right, t.bottom), E.lockedSelectionMarkSize, e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK), this.drawLockedSelectionMark(3, new p.Point(t.x, t.bottom), E.lockedSelectionMarkSize, e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK);\n      }, n.prototype.drawUnlockedSelection = function (t) {\n        var n = E.correctSelectionRect(t, this.style.strokeWidth, E.selectionRectLineWidth, this.zoomLevel);\n        this.drawSelectionRect(n, c.MouseEventElementType.SelectionRect, this.isMultipleSelection ? e.SELECTION_ELEMENT_CLASSNAMES.ITEM_MULTI_SELECTION : e.SELECTION_ELEMENT_CLASSNAMES.ITEM_SELECTION_RECT), this.isMultipleSelection || this.drawSelectionMarks(t, this.allowResizeHorizontally, this.allowResizeVertically), this.drawShapeParameterPoints();\n      }, n.prototype.drawShapeParameterPoints = function () {\n        var t = this;\n        this.readOnly || this.shapeParameterPoints.forEach(function (e, n) {\n          var o = e.point.clone().multiply(t.zoomLevel, t.zoomLevel);\n          t.drawShapeParameterPoint(o, n, e.key);\n        });\n      }, n.prototype.drawShapeParameterPoint = function (t, e, n) {\n        var o = this,\n            i = E.geomertyMarkSize,\n            r = new g.RectanglePrimitive(t.x - i / 2, t.y - i / 2, i, i, null, \"geometry-mark\", void 0, function (t) {\n          a.RenderUtils.setElementEventData(t, c.MouseEventElementType.ShapeParameterBox, o.key, n);\n        });\n        this.getOrCreateElement(\"pp\" + e.toString(), r, this.marksContainer);\n      }, n;\n    }(D),\n        L = function (t) {\n      function n(e, n, o, i, r, s, a, c, u, h, p, l, d, f, y, g) {\n        var m = t.call(this, e, n, a, o, i, r, s, c, u) || this;\n        return m.renderPoints = h, m.style = p, m.styleText = l, m.enableText = d, m.texts = f, m.points = y, m.lineType = g, m;\n      }\n\n      return i(n, t), n.prototype.onModelChanged = function (t, e, n, o, i, r, s, a, c) {\n        this.isLocked = t, this.rectangle = e, this.renderPoints = n, this.style = o, this.styleText = i, this.enableText = r, this.texts = s, this.points = a, this.lineType = c, this.redraw();\n      }, n.prototype.redrawCore = function () {\n        this.isLockedRender() ? this.drawLockedSelection() : this.drawUnlockedSelection();\n      }, n.prototype.drawLockedSelection = function () {\n        var t = this;\n        this.renderPoints.forEach(function (n, o) {\n          t.drawLockedSelectionMark(o, n, E.lockedSelectionMarkSize, e.SELECTION_ELEMENT_CLASSNAMES.LOCKED_SELECTION_MARK);\n        });\n      }, n.prototype.drawUnlockedSelection = function () {\n        this.drawConnectorSelection(), this.isMultipleSelection || this.readOnly || this.drawConnectorSelectionMarks();\n      }, n.prototype.drawConnectorSelection = function () {\n        var t = [],\n            n = [],\n            o = this.isMultipleSelection ? e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_MULTI_SELECTION : e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_SELECTION;\n        this.populateSelectionPrimitiveCommands(t, n);\n        var i = new m.PathPrimitive(t.concat(n.reverse()), C.StrokeStyle.default1pxInstance, o);\n        this.getOrCreateElement(\"CS\", i, this.rectsContainer);\n      }, n.prototype.populateSelectionPrimitiveCommands = function (t, e) {\n        for (var n, o, i, r, s = this.texts, a = this.styleText.getAlignment(), c = this.createNotSkippedRenderPoints(), u = this.zoomLevel, p = this.style.strokeWidthPx, l = this.getSelectionOffset(p), d = p % 2 == 0, f = c[0], y = 0, g = 1, v = void 0; v = c[g]; g++) {\n          var P = c[g + 1];\n\n          if (void 0 === n) {\n            if (o = w.Metrics.euclideanDistance(f, v), T.MathUtils.numberCloseTo(o, 0)) continue;\n            n = h.GeometryUtils.getSelectionOffsetPoint(f, v, o).multiply(l, l);\n          }\n\n          if (P) {\n            if (r = w.Metrics.euclideanDistance(v, P), T.MathUtils.numberCloseTo(r, 0)) continue;\n            i = h.GeometryUtils.getSelectionOffsetPoint(v, P, r).multiply(l, l);\n          }\n\n          var C = n.x,\n              S = n.y,\n              b = -C,\n              x = -S,\n              I = i && i.x,\n              _ = i && i.y,\n              O = i && -i.x,\n              M = i && -i.y;\n\n          for (d && (b > 0 ? b -= E.evenOddSelectionCorrection : C > 0 && (C -= E.evenOddSelectionCorrection), x > 0 ? x -= E.evenOddSelectionCorrection : S > 0 && (S -= E.evenOddSelectionCorrection), O > 0 ? O -= E.evenOddSelectionCorrection : I > 0 && (I -= E.evenOddSelectionCorrection), M > 0 ? M -= E.evenOddSelectionCorrection : _ > 0 && (_ -= E.evenOddSelectionCorrection)); s[y] && s[y].pointIndex <= g;) {\n            var D = s[y],\n                A = this.getConnectorSelectionTextSize(D.text, l),\n                R = h.GeometryUtils.getSelectionTextStartEndPoints(f, v, o, D.point, A, a);\n            s[y].pointIndex < g ? (f = R[1], t.push(m.PathPrimitiveMoveToCommand.fromPoint(f.clone().offset(C, S).multiply(u, u))), e.push(m.PathPrimitiveLineToCommand.fromPoint(f.clone().offset(b, x).multiply(u, u)))) : (t.length || (t.push(m.PathPrimitiveMoveToCommand.fromPoint(f.clone().offset(C, S).multiply(u, u))), e.push(m.PathPrimitiveLineToCommand.fromPoint(f.clone().offset(b, x).multiply(u, u)))), t.push(m.PathPrimitiveLineToCommand.fromPoint(R[0].clone().offset(C, S).multiply(u, u))), t.push(m.PathPrimitiveMoveToCommand.fromPoint(R[1].clone().offset(C, S).multiply(u, u))), e.push(m.PathPrimitiveMoveToCommand.fromPoint(R[0].clone().offset(b, x).multiply(u, u))), e.push(m.PathPrimitiveLineToCommand.fromPoint(R[1].clone().offset(b, x).multiply(u, u))), f = R[1]), y++;\n          }\n\n          t.length || (t.push(m.PathPrimitiveMoveToCommand.fromPoint(f.clone().offset(C, S).multiply(u, u))), e.push(m.PathPrimitiveLineToCommand.fromPoint(f.clone().offset(b, x).multiply(u, u)))), P ? (h.GeometryUtils.addSelectedLinesTo(f, v, P, C, S, b, x, I, _, O, M, function (e, n) {\n            return t.push(new m.PathPrimitiveLineToCommand(e * u, n * u));\n          }, function (t, n) {\n            return e.push(new m.PathPrimitiveLineToCommand(t * u, n * u));\n          }), n = i, o = r) : (t.push(m.PathPrimitiveLineToCommand.fromPoint(v.clone().offset(C, S).multiply(u, u))), e.push(m.PathPrimitiveMoveToCommand.fromPoint(v.clone().offset(b, x).multiply(u, u)))), f = v;\n        }\n      }, n.prototype.createNotSkippedRenderPoints = function () {\n        var t = this.renderPoints.map(function (t) {\n          return t.clone();\n        });\n        return this.lineType === y.ConnectorLineOption.Straight ? (O.ModelUtils.removeUnnecessaryRenderPoints(t), t.filter(function (t) {\n          return !t.skipped;\n        })) : (O.ModelUtils.removeUnnecessaryRightAngleRenderPoints(t), t.filter(function (t) {\n          return !t.skipped;\n        }));\n      }, n.prototype.getSelectionOffset = function (t) {\n        return E.selectionOffset + S.UnitConverter.pixelsToTwips(Math.round(t / 2) + (t + 1) % 2);\n      }, n.prototype.getConnectorSelectionTextSize = function (t, e) {\n        return this.dom.measurer.measureTextLine(t, this.styleText, b.TextOwner.Connector).applyConverter(S.UnitConverter.pixelsToTwips).clone().offset(e, e).nonNegativeSize();\n      }, n.prototype.drawConnectorSelectionMarks = function () {\n        var t = this,\n            n = this.points.length - 1;\n        this.points.forEach(function (o, i) {\n          var r = 0 === i || i === n,\n              s = r ? e.SELECTION_ELEMENT_CLASSNAMES.SELECTION_MARK : e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_POINT_MARK,\n              a = r ? E.selectionMarkSize : E.connectorPointMarkSize;\n          r || t.lineType === y.ConnectorLineOption.Straight ? t.drawSelectionMark(i, o.clone().multiply(t.zoomLevel, t.zoomLevel), a, c.MouseEventElementType.ConnectorPoint, i, s) : t.drawSelectionMark(i, o.clone().multiply(t.zoomLevel, t.zoomLevel), a, c.MouseEventElementType.Undefined, -1, s + \" disabled\");\n        }), this.drawConnectorSideMarks();\n      }, n.prototype.drawConnectorSideMarks = function () {\n        var t,\n            n,\n            o = this,\n            i = this.lineType === y.ConnectorLineOption.Straight ? c.MouseEventElementType.ConnectorSide : c.MouseEventElementType.ConnectorOrthogonalSide;\n        this.renderPoints.filter(function (t) {\n          return !t.skipped;\n        }).forEach(function (r, s) {\n          if (!r.skipped) {\n            if (void 0 !== t && o.canDrawConnectorSideMark(r, t)) {\n              var a = o.lineType === y.ConnectorLineOption.Orthogonal ? r.x - t.x == 0 ? \"vertical\" : \"horizontal\" : \"\";\n              o.drawSelectionMark(o.points.length + s - 1, new p.Point(t.x + (r.x - t.x) / 2, t.y + (r.y - t.y) / 2).clone().multiply(o.zoomLevel, o.zoomLevel), E.connectorSideMarkSize, i, n + \"_\" + s, e.SELECTION_ELEMENT_CLASSNAMES.CONNECTOR_SIDE_MARK + \" \" + a);\n            }\n\n            t = r, n = s;\n          }\n        });\n      }, n.prototype.canDrawConnectorSideMark = function (t, e) {\n        if (this.lineType === y.ConnectorLineOption.Straight) {\n          var n = E.selectionMarkSize + E.connectorSideMarkSize;\n          return w.Metrics.euclideanDistance(t, e) > n;\n        }\n\n        if (this.lineType === y.ConnectorLineOption.Orthogonal) {\n          var o = 0 === e.pointIndex,\n              i = h.GeometryUtils.areDuplicatedPoints(this.points[this.points.length - 1], t);\n          if (o && i) return w.Metrics.euclideanDistance(t, e) > 2 * f.Connector.minOffset;\n          if (!o && i || o && !i) return w.Metrics.euclideanDistance(t, e) > f.Connector.minOffset;\n          n = E.selectionMarkSize + E.connectorSideMarkSize;\n          return w.Metrics.euclideanDistance(t, e) > n;\n        }\n\n        return !1;\n      }, n;\n    }(D);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramDraggingEvent = e.ToolboxDraggingObject = e.DragState = e.Toolbox = e.TOUCH_DRAGTIMEOUT_MS = void 0;\n    var o = n(3),\n        i = n(1),\n        r = n(24),\n        s = n(77),\n        a = n(11),\n        c = n(27);\n    e.TOUCH_DRAGTIMEOUT_MS = 800;\n\n    var u,\n        h = function () {\n      function t(t, e, n, i, r, s, a, c) {\n        this.readOnly = e, this.allowDragging = n, this.shapeDescriptionManager = i, this.shapeTypes = r, this.getAllowedShapeTypes = s, this.isTouchUIEnabled = a, this.options = c, this.dragPrepareTimeout = -1, this.onDragOperation = new o.EventDispatcher(), this.onClickOperation = new o.EventDispatcher(), this.dragState = u.None, t && (this.mainElement = this.createMainElement(t));\n      }\n\n      return t.prototype.clean = function (t) {\n        this.dragEventsHandler && (this.dragEventsHandler.detach(), this.dragEventsHandler = void 0), t && t(this.mainElement);\n      }, t.prototype.createMainElement = function (t) {\n        var e = document.createElement(\"div\");\n        return e.setAttribute(\"class\", \"dxdi-toolbox\"), e.draggable = !0, this.isTouchUIEnabled && (e.tabIndex = 0), t.appendChild(e), e;\n      }, t.prototype.render = function (t) {\n        this.mainElement.childNodes && (this.mainElement.innerHTML = \"\");\n        var e = this.shapeTypes;\n        return e = this.getAllowedShapeTypes ? this.getAllowedShapeTypes(e) : e, (e = t ? e.filter(t) : e).length && this.createElements(this.mainElement, e), !!e.length;\n      }, t.prototype.getDragShapeType = function (t) {\n        for (; t && !r.DomUtils.hasClassName(t, \"dxdi-toolbox\");) {\n          if (t.getAttribute && t.getAttribute(\"data-tb-type\")) return t.getAttribute(\"data-tb-type\");\n          t = t.parentNode;\n        }\n      }, t.prototype.shouldPrepareDrag = function () {\n        return this.shouldChangeDragState(u.Prepare);\n      }, t.prototype.prepareDragging = function (t, e) {\n        this.dragState = u.Prepare, this.dragStartPoint = t, this.dragStartShapeType = e;\n      }, t.prototype.shouldStartDragging = function () {\n        return this.dragState === u.Prepare && this.shouldChangeDragState(u.Start);\n      }, t.prototype.startTouchDragging = function () {\n        this.dragPrepareTimeout = setTimeout(this.startDragTimeout.bind(this), e.TOUCH_DRAGTIMEOUT_MS);\n      }, t.prototype.startDragging = function () {\n        this.shouldChangeDragState(u.Start) && (this.dragState = u.Start, r.DomUtils.addClassName(document.body, \"dxdi-dragging\"), this.dragStartShapeType ? (this.draggingObject = new p(this.createDraggingEvent(this.dragStartShapeType), this.createDraggingElement(this.shapeDescriptionManager.get(this.dragStartShapeType)), this.createToolboxRectangle()), this.raiseDragStart(), this.updatePositionsOnDragging(this.dragStartPoint)) : r.DomUtils.addClassName(document.body, s.NOT_VALID_CSSCLASS));\n      }, t.prototype.createToolboxRectangle = function () {\n        var t = this.getToolboxContainer();\n        if (t) return new a.Rectangle(this.createOffsetX(t), this.createOffsetY(t), t.clientWidth, t.clientHeight);\n      }, t.prototype.getToolboxContainer = function () {\n        var t = this.mainElement.parentElement,\n            e = this.options.toolboxClass;\n\n        if (c.isDefined(e)) {\n          for (; t && !r.DomUtils.hasClassName(t, e);) t = t.parentElement;\n\n          return t;\n        }\n      }, t.prototype.shouldContinueDragging = function () {\n        return this.draggingObject && this.draggingObject.element && this.shouldChangeDragState(u.Dragging);\n      }, t.prototype.continueDragging = function (t) {\n        this.dragState = u.Dragging, this.updatePositionsOnDragging(t);\n      }, t.prototype.updatePositionsOnDragging = function (t) {\n        var e = this.draggingObject.element,\n            n = t.x - e.offsetWidth / 2,\n            o = t.y - e.offsetHeight / 2,\n            i = this.createElementOffsetPoint(e);\n        e.style.left = n - i.x + \"px\", e.style.top = o - i.y + \"px\";\n      }, t.prototype.createElementOffsetPoint = function (t) {\n        var e = document.createElement(\"DIV\");\n        e.style.top = \"0px\", e.style.left = \"0px\", e.style.visibility = \"hidden\", e.style.position = r.DomUtils.getCurrentStyle(t).position, \"static\" === e.style.position && (e.style.position = \"absolute\"), t.parentNode.appendChild(e);\n        var n = new i.Point(this.createOffsetX(e), this.createOffsetY(e));\n        return t.parentNode.removeChild(e), n;\n      }, t.prototype.createOffsetX = function (t) {\n        return Math.round(r.DomUtils.getAbsolutePositionX(t));\n      }, t.prototype.createOffsetY = function (t) {\n        return Math.round(r.DomUtils.getAbsolutePositionY(t));\n      }, t.prototype.finishDragging = function () {\n        if (this.shouldChangeDragState(u.None)) {\n          if (this.dragState = u.None, this.draggingObject) {\n            this.raiseDragEnd();\n            var t = this.draggingObject.element;\n            t && t.parentNode.removeChild(t), delete this.draggingObject;\n          }\n\n          this.dragStartPoint = void 0, this.dragStartShapeType = void 0, r.DomUtils.removeClassName(document.body, s.NOT_VALID_CSSCLASS), setTimeout(function () {\n            return r.DomUtils.removeClassName(document.body, \"dxdi-dragging\");\n          }, 500);\n        }\n      }, t.prototype.startDragTimeout = function () {\n        this.dragPrepareTimeout = -1, this.dragState === u.Prepare && this.startDragging();\n      }, t.prototype.shouldChangeDragState = function (t) {\n        return !(this.readOnly || !this.allowDragging || t === u.None && this.dragState === u.None) && (this.dragPrepareTimeout > -1 && (clearTimeout(this.dragPrepareTimeout), this.dragPrepareTimeout = -1), t - this.dragState <= 1 && (t === u.None || t >= this.dragState));\n      }, t.prototype.raiseDragStart = function () {\n        this.onDragOperation.raise(\"notifyToolboxDragStart\");\n      }, t.prototype.raiseDragEnd = function () {\n        this.onDragOperation.raise(\"notifyToolboxDragEnd\");\n      }, t.prototype.raiseNotifyToolboxClick = function (t) {\n        this.onClickOperation.raise(\"notifyToolboxClick\", t);\n      }, t.prototype.notifyReadOnlyChanged = function (t) {\n        this.readOnly = t;\n      }, t.prototype.createDraggingEvent = function (t) {\n        var e = new l();\n        return e.data = t, e.onFinishDragging = this.finishDragging.bind(this), e.onCaptured = this.capture.bind(this), e;\n      }, t.prototype.capture = function (t, e) {\n        this.draggingObject && (this.draggingObject.captured !== t || e) && (this.draggingObject.captured = t, this.draggingObject.element && r.DomUtils.toggleClassName(this.draggingObject.element, \"dxdi-tb-drag-captured\", t));\n      }, t;\n    }();\n\n    e.Toolbox = h, function (t) {\n      t[t.None = -1] = \"None\", t[t.Prepare = 0] = \"Prepare\", t[t.Start = 1] = \"Start\", t[t.Dragging = 2] = \"Dragging\";\n    }(u = e.DragState || (e.DragState = {}));\n\n    var p = function () {\n      function t(t, e, n) {\n        this.evt = t, this.element = e, this.rectangle = n;\n      }\n\n      return t.prototype.isLeavedToolbox = function (t) {\n        return c.isDefined(this.rectangle) && !this.rectangle.containsPoint(t);\n      }, t;\n    }();\n\n    e.ToolboxDraggingObject = p;\n\n    var l = function () {\n      return function () {};\n    }();\n\n    e.DiagramDraggingEvent = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RightAngleConnectorRoutingMathOperations = void 0;\n\n    var o = n(34),\n        i = n(33),\n        r = n(160),\n        s = n(3),\n        a = n(9),\n        c = function () {\n      function t() {}\n\n      return t.createUnionSegments = function (t, e) {\n        for (var n = [], i = t[0].startPoint, r = t[0].endPoint, s = 1; s < t.length; s++) {\n          var a = t[s];\n          e(r, a.startPoint) && (n.push(new o.Segment(i.clone(), r.clone())), i = a.startPoint), r = a.endPoint;\n        }\n\n        return n.push(new o.Segment(i, r)), n;\n      }, t.unionPoints = function (t) {\n        for (var e = 0; e < t.length - 2;) s.GeometryUtils.isCorner(t[e], t[e + 1], t[e + 2]) ? e++ : (t.splice(e + 1, 1), e = Math.max(0, e - 1));\n      }, t.getTurnDirection = function (t) {\n        return i.MathUtils.numberCloseTo(t, 0) ? r.RightAngleTurnDirection.Straight : i.MathUtils.numberCloseTo(t, Math.PI) ? r.RightAngleTurnDirection.Backwards : t < Math.PI ? r.RightAngleTurnDirection.Left : r.RightAngleTurnDirection.Right;\n      }, t.isSegmentNormal = function (t, e) {\n        return e ? i.MathUtils.numberCloseTo(t.startPoint.y, t.endPoint.y) : i.MathUtils.numberCloseTo(t.startPoint.x, t.endPoint.x);\n      }, t.isConnectionRectanleLineIntersected = function (t, e, n, o, i, r) {\n        switch (n) {\n          case a.ConnectionPointSide.North:\n            return s.GeometryUtils.isLineIntersected(r(t.x, t.y), r(t.right, t.y), e, o, i);\n\n          case a.ConnectionPointSide.South:\n            return s.GeometryUtils.isLineIntersected(r(t.right, t.bottom), r(t.x, t.bottom), e, o, i);\n\n          case a.ConnectionPointSide.West:\n            return s.GeometryUtils.isLineIntersected(r(t.x, t.y), r(t.x, t.bottom), e, o, i);\n\n          case a.ConnectionPointSide.East:\n            return s.GeometryUtils.isLineIntersected(r(t.right, t.y), r(t.right, t.bottom), e, o, i);\n\n          default:\n            return !1;\n        }\n      }, t.createBeginConnectionSegment = function (t, e, n, i) {\n        switch (t) {\n          case a.ConnectionPointSide.North:\n            return new o.Segment(e, i(e.x, e.y - n));\n\n          case a.ConnectionPointSide.South:\n            return new o.Segment(e, i(e.x, e.y + n));\n\n          case a.ConnectionPointSide.West:\n            return new o.Segment(e, i(e.x - n, e.y));\n\n          case a.ConnectionPointSide.East:\n            return new o.Segment(e, i(e.x + n, e.y));\n\n          default:\n            return e;\n        }\n      }, t.createEndConnectionSegment = function (t, e, n, i) {\n        switch (t) {\n          case a.ConnectionPointSide.North:\n            return new o.Segment(i(e.x, e.y - n), e);\n\n          case a.ConnectionPointSide.South:\n            return new o.Segment(i(e.x, e.y + n), e);\n\n          case a.ConnectionPointSide.West:\n            return new o.Segment(i(e.x - n, e.y), e);\n\n          case a.ConnectionPointSide.East:\n            return new o.Segment(i(e.x + n, e.y), e);\n\n          default:\n            return e;\n        }\n      }, t;\n    }();\n\n    e.RightAngleConnectorRoutingMathOperations = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.IntersectedShapeZone = e.AStarMetrics = e.IntersectedShapesMetrics = e.TurnDirectionMetrics = e.IntersectedShapeMetrics = e.RightAngleTurnDirection = void 0;\n    var o,\n        i = n(1),\n        r = n(36);\n    !function (t) {\n      t[t.Straight = 0] = \"Straight\", t[t.Left = 1] = \"Left\", t[t.Right = 2] = \"Right\", t[t.Backwards = 3] = \"Backwards\";\n    }(o = e.RightAngleTurnDirection || (e.RightAngleTurnDirection = {}));\n\n    var s = function () {\n      function t(t, e) {\n        this.description = t, this.shapeMargin = e;\n      }\n\n      return t.prototype.penalty = function (t, e, n, o) {\n        var i = o.rectangle;\n        if (i.containsPoint(n)) return t + this.description.shape * e;\n        var r = this.createRelativeMarginPenalty(n, i, this.shapeMargin);\n        return r > 0 ? t + this.description.margin * r * e : t;\n      }, t.prototype.createRelativeMarginPenalty = function (t, e, n) {\n        var o = this.isTopPosition(t, e, n),\n            s = this.isLeftPosition(t, e, n),\n            a = this.isBottomPosition(t, e, n),\n            c = this.isRightPosition(t, e, n);\n\n        if (o) {\n          if (s) {\n            var u = (l = e.clone().inflate(n)).createPosition(),\n                h = e.createPosition(),\n                p = r.Metrics.euclideanDistance(h, u);\n            return 1 - r.Metrics.euclideanDistance(h, t) / p;\n          }\n\n          if (c) {\n            var l = e.clone().inflate(n),\n                d = new i.Point(l.right, l.y),\n                f = new i.Point(e.right, e.y),\n                y = r.Metrics.euclideanDistance(f, d);\n            return 1 - r.Metrics.euclideanDistance(f, t) / y;\n          }\n\n          return 1 - (e.y - t.y) / n;\n        }\n\n        if (a) {\n          if (s) {\n            l = e.clone().inflate(n);\n            var g = new i.Point(l.x, l.bottom),\n                m = new i.Point(e.x, e.bottom),\n                v = r.Metrics.euclideanDistance(m, g);\n            return 1 - r.Metrics.euclideanDistance(m, t) / v;\n          }\n\n          if (c) {\n            l = e.clone().inflate(n);\n            var P = new i.Point(l.right, l.bottom),\n                C = new i.Point(e.right, e.bottom),\n                S = r.Metrics.euclideanDistance(C, P);\n            return 1 - r.Metrics.euclideanDistance(C, t) / S;\n          }\n\n          return 1 - (t.y - e.bottom) / n;\n        }\n\n        return s ? 1 - (e.x - t.x) / n : c ? 1 - (t.x - e.right) / n : 0;\n      }, t.prototype.isTopPosition = function (t, e, n) {\n        return t.x > e.x - n && t.x < e.right + n && t.y > e.y - n && t.y < e.y;\n      }, t.prototype.isBottomPosition = function (t, e, n) {\n        return t.x > e.x - n && t.x < e.right + n && t.y > e.bottom && t.y < e.bottom + n;\n      }, t.prototype.isLeftPosition = function (t, e, n) {\n        return t.x > e.x - n && t.x < e.x && t.y > e.y - n && t.y < e.bottom + n;\n      }, t.prototype.isRightPosition = function (t, e, n) {\n        return t.x > e.right && t.x < e.right + n && t.y > e.y - n && t.y < e.bottom + n;\n      }, t;\n    }();\n\n    e.IntersectedShapeMetrics = s;\n\n    var a = function () {\n      function t(t) {\n        this.description = t;\n      }\n\n      return t.prototype.penalty = function (t, e) {\n        switch (e) {\n          case o.Backwards:\n            return t * this.description.turnBack;\n\n          case o.Left:\n            return t * this.description.turnLeft;\n\n          case o.Right:\n            return t * this.description.turnRight;\n        }\n\n        return t;\n      }, t;\n    }();\n\n    e.TurnDirectionMetrics = a;\n\n    var c = function () {\n      function t(t) {\n        this.shapeMetrics = t;\n      }\n\n      return t.prototype.penalty = function (t, e, n, o) {\n        var i = this;\n        if (!o || !o.length) return t;\n        var r = t;\n        return o.forEach(function (t) {\n          return r = i.shapeMetrics.penalty(r, e, n, t);\n        }), r;\n      }, t;\n    }();\n\n    e.IntersectedShapesMetrics = c;\n\n    var u = function () {\n      function t(t, e) {\n        this.turnDirectionMetrics = t, this.shapesMetrics = e;\n      }\n\n      return t.prototype.distance = function (t, e) {\n        return r.Metrics.manhattanDistance(t, e);\n      }, t.prototype.penalty = function (t, e, n, o) {\n        var i = t;\n        return i = this.shapesMetrics.penalty(i, t, e, o), i = this.turnDirectionMetrics.penalty(i, n);\n      }, t;\n    }();\n\n    e.AStarMetrics = u, function (t) {\n      t[t.None = 0] = \"None\", t[t.Shape = 1] = \"Shape\", t[t.Margin = 2] = \"Margin\";\n    }(e.IntersectedShapeZone || (e.IntersectedShapeZone = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TOUCH_ACTION_NONE = void 0, e.TOUCH_ACTION_NONE = \"dxdi-touch-action\";\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o92,\n        i = this && this.__extends || (_o92 = function o(t, e) {\n      return (_o92 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o92(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteCommand = void 0;\n\n    var r = n(4),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.control.selection.getSelectedItems();\n        return t.prototype.isEnabled.call(this) && e.length && (e.length > 1 || this.permissionsProvider.canDeleteItems(e));\n      }, e.prototype.executeCore = function (t) {\n        var e = this.control.selection.getSelectedItems(!0, !0);\n        return this.permissionsProvider.beginDeleteItems(e), r.ModelUtils.deleteSelection(this.control.history, this.control.model, this.control.selection), this.permissionsProvider.endDeleteItems(), !0;\n      }, Object.defineProperty(e.prototype, \"isPermissionsRequired\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(n(10).SimpleCommandBase);\n\n    e.DeleteCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t(t) {\n        void 0 === t && (t = 0), this.value = t;\n      }\n\n      return t.prototype.get = function (t) {\n        return (this.value & t) === t;\n      }, t.prototype.set = function (t, e) {\n        return (this.value & t) === t !== e && (e ? this.value |= t : this.value ^= t), this;\n      }, t.prototype.add = function (t) {\n        this.value |= t;\n      }, t.prototype.anyOf = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        for (var n = 0, o = t; n < o.length; n++) {\n          var i = o[n];\n          if ((this.value & i) === i) return !0;\n        }\n\n        return !1;\n      }, t.prototype.getValue = function () {\n        return this.value;\n      }, t.prototype.clone = function () {\n        return new t(this.value);\n      }, t;\n    }();\n\n    e.Flag = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(107),\n        i = n(42),\n        r = n(108),\n        s = n(169),\n        a = function () {\n      function t() {}\n\n      return t.oneConstainsOtherArraysOfInterval = function (t, e) {\n        for (var n = o.ListUtils.deepCopy(e), i = n.pop(); i;) {\n          if (!o.ListUtils.unsafeAnyOf(t, function (t) {\n            return t.containsInterval(i);\n          })) return !1;\n          i = n.pop();\n        }\n\n        return !0;\n      }, t.getIntersection = function (e, n) {\n        return t.getIntersectionTemplate(e, n, e);\n      }, t.getIntersectionTemplate = function (t, e, n) {\n        var o = Math.max(t.start, e.start),\n            i = Math.min(t.end, e.end);\n        return o > i ? null : n.makeByStartEnd(o, i);\n      }, t.getIntersectionNonNullLength = function (e, n) {\n        return t.getIntersectionNonNullLengthTemplate(e, n, e);\n      }, t.getIntersectionNonNullLengthTemplate = function (e, n, o) {\n        var i = t.getIntersectionTemplate(e, n, o);\n        return i && i.length ? i : null;\n      }, t.getIntersectionsTwoArraysOfInterval = function (e, n) {\n        return t.getIntersectionsTwoArraysOfIntervalTemplate(e, n, e[0]);\n      }, t.getIntersectionsTwoArraysOfIntervalTemplate = function (e, n, o) {\n        for (var i = [], r = e.length, s = n.length, a = 0, c = 0, u = e[a], h = n[c], p = null; a < r && c < s;) {\n          var l = t.getIntersectionTemplate(u, h, o);\n          l && (p && p.end === l.start ? p.length += l.length : (p = l, i.push(p))), u.end < h.end ? u = e[++a] : h = n[++c];\n        }\n\n        return i;\n      }, t.getAffectedObjects = function (e, n, o, r) {\n        return void 0 === o && (o = function o(t) {\n          return i.SearchUtils.normedInterpolationIndexOf(e, function (t) {\n            return t.interval.start;\n          }, t);\n        }), void 0 === r && (r = function r(t, e, n) {\n          return t.start === n && 0 === e;\n        }), t.getAffectedObjectsTemplate(e, n, n[0], o, r);\n      }, t.getAffectedObjectsTemplate = function (e, n, o, r, a) {\n        void 0 === r && (r = function r(t) {\n          return i.SearchUtils.normedInterpolationIndexOf(e, function (t) {\n            return t.interval.start;\n          }, t);\n        }), void 0 === a && (a = function a(t, e, n) {\n          return t.start === n && 0 === e;\n        });\n\n        for (var c = new s.SparseIntervalsCollector(o), u = 0, h = n; u < h.length; u++) for (var p = h[u], l = Math.max(0, r(p.start, e)), d = void 0; d = e[l]; l++) {\n          var f = d.interval;\n          if (f.start > p.end) break;\n          var y = t.getIntersectionTemplate(f, p, o);\n          y && (y.length || a(f, p.length, y.start)) && c.add(l);\n        }\n\n        return c.getIntervals();\n      }, t.handleAffectedObjects = function (e, n, o, s) {\n        void 0 === s && (s = function s(t) {\n          return i.SearchUtils.normedInterpolationIndexOf(e, function (t) {\n            return t.interval.start;\n          }, t);\n        });\n\n        for (var a = new r.FixedInterval(0, 0), c = 0, u = n; c < u.length; c++) for (var h = u[c], p = Math.max(0, s(h.start, e)), l = void 0; l = e[p]; p++) {\n          var d = l.interval;\n          if (d.start > h.end) break;\n          var f = t.getIntersectionTemplate(d, h, a);\n          f && o(l, p, h, f);\n        }\n      }, t.getMergedIntervals = function (e, n) {\n        return t.getMergedIntervalsTemplate(e, n, e[0]);\n      }, t.getMergedIntervalsTemplate = function (t, e, n) {\n        if (t.length < 2) return t.length > 0 ? [n.makeByStartLength(t[0].start, t[0].length)] : [];\n\n        for (var o = e ? [].concat(t).sort(function (t, e) {\n          return t.start - e.start;\n        }) : t, i = [], r = 0, s = void 0; s = o[r];) {\n          var a = s.start,\n              c = s.end;\n\n          for (++r; void 0 !== (s = o[r]) && s.start <= c; r++) s.end > c && (c = s.end);\n\n          i.push(n.makeByStartEnd(a, c));\n        }\n\n        return i;\n      }, t.reflectIntervals = function (e, n) {\n        return t.reflectIntervalsTemplate(e, n, n);\n      }, t.reflectIntervalsTemplate = function (e, n, i) {\n        if (!e.length) return [i.makeByStartLength(n.start, n.length)];\n        var r = o.ListUtils.last(e).end,\n            s = o.ListUtils.reducedMap(e, function (o, r) {\n          return t.getIntersectionNonNullLengthTemplate(i.makeByStartEnd(e[r - 1].end, o.start), n, i);\n        }, 1);\n        return n.start < e[0].start && s.unshift(i.makeByStartEnd(n.start, e[0].start)), n.end > r && s.push(i.makeByStartEnd(r, n.end)), s;\n      }, t.reflectionOfPointOnInterval = function (t, e, n) {\n        return (t - e.start) / e.length * n.length + n.start;\n      }, t;\n    }();\n\n    e.IntervalAlgorithms = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(57),\n        i = function () {\n      return function (t, e) {\n        this.minElement = t, this.maxElement = e;\n      };\n    }();\n\n    e.MinMax = i;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return o.__extends(e, t), Object.defineProperty(e.prototype, \"length\", {\n        get: function get() {\n          return this.maxElement - this.minElement;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e;\n    }(i);\n\n    e.MinMaxNumber = r;\n\n    var s = function () {\n      return function (t, e) {\n        this.minElement = t, this.minValue = e;\n      };\n    }();\n\n    e.ExtendedMin = s;\n\n    var a = function () {\n      return function (t, e) {\n        this.maxElement = t, this.maxValue = e;\n      };\n    }();\n\n    e.ExtendedMax = a;\n\n    var c = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e, o) || this;\n        return r.minValue = n, r.maxValue = i, r;\n      }\n\n      return o.__extends(e, t), e;\n    }(i);\n\n    e.ExtendedMinMax = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.number = function (t, e) {\n        return t - e;\n      }, t.string = function (t, e) {\n        return t === e ? 0 : t > e ? 1 : -1;\n      }, t.stringIgnoreCase = function (t, e) {\n        return (t = t.toLowerCase()) === (e = e.toLowerCase()) ? 0 : t > e ? 1 : -1;\n      }, t;\n    }();\n\n    e.Comparers = o;\n\n    var i = function () {\n      function t() {}\n\n      return t.simpleType = function (t, e) {\n        return t === e;\n      }, t.object = function (t, e) {\n        return t && e && (t === e || t.equals(e));\n      }, t;\n    }();\n\n    e.Equals = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(57),\n        i = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return o.__extends(e, t), e.prototype.normalizeLength = function () {\n        return this.length < 0 && (this.length = 0), this;\n      }, e;\n    }(n(168).ConstInterval);\n\n    e.MutableInterval = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return Object.defineProperty(t.prototype, \"center\", {\n        get: function get() {\n          return this.start + this.length / 2;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.isNormalized = function () {\n        return this.end >= this.start;\n      }, t.prototype.isCollapsed = function () {\n        return 0 === this.length;\n      }, t.prototype.equals = function (t) {\n        return this.start === t.start && this.end === t.end;\n      }, t.isCollapsed = function (t) {\n        return !t[1] && t[0].isCollapsed();\n      }, t.prototype.containsInterval = function (t) {\n        return this.start <= t.start && this.end >= t.end;\n      }, t.prototype.containsIntervalWithoutEnd = function (t) {\n        return this.start <= t.start && this.end > t.end;\n      }, t.prototype.contains = function (t) {\n        return this.start <= t && t < this.end;\n      }, t.prototype.containsWithIntervalEnd = function (t) {\n        return this.start <= t && t <= this.end;\n      }, t.prototype.containsWithoutIntervalEndAndStart = function (t) {\n        return this.start < t && t < this.end;\n      }, t;\n    }();\n\n    e.ConstInterval = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(170),\n        i = function () {\n      function t(t) {\n        this.intervals = [], this.template = t;\n      }\n\n      return t.prototype.add = function (t) {\n        this.curr && this.curr.end === t ? this.curr.length++ : (this.curr = this.template.makeByStartLength(t, 1), this.intervals.push(this.curr));\n      }, t.prototype.getIntervals = function () {\n        return new o.SparseIntervals(this.intervals);\n      }, t;\n    }();\n\n    e.SparseIntervalsCollector = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(109),\n        i = n(171),\n        r = function () {\n      function t(t) {\n        void 0 === t && (t = []), this.list = t, this._count = 0, this._numIntervals = 0;\n\n        for (var e = 0, n = t; e < n.length; e++) {\n          var o = n[e];\n          this._count += o.length, this._numIntervals++;\n        }\n      }\n\n      return Object.defineProperty(t.prototype, \"count\", {\n        get: function get() {\n          return this._count;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"numIntervals\", {\n        get: function get() {\n          return this._numIntervals;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.getInterval = function (t) {\n        return this.list[t];\n      }, t.prototype.getNativeIterator = function () {\n        return new o.SparseIntervalsIterator(this);\n      }, t.prototype.getObjectsIterator = function (t) {\n        return new i.SparseObjectsIterator(this, t);\n      }, t;\n    }();\n\n    e.SparseIntervals = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(57),\n        i = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.objects = n, o;\n      }\n\n      return o.__extends(e, t), e.prototype.initObject = function () {\n        this.obj = this.objects[this.index];\n      }, e;\n    }(n(109).SparseIntervalsIterator);\n\n    e.SparseObjectsIterator = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o93,\n        i = this && this.__extends || (_o93 = function o(t, e) {\n      return (_o93 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o93(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextFloodFilterPrimitive = e.TextFilterPrimitive = void 0;\n\n    var r = n(15),\n        s = n(110),\n        a = n(61),\n        c = n(22),\n        u = function (t) {\n      function e(e, n, o, i, r) {\n        void 0 === n && (n = \"-0.05\"), void 0 === o && (o = \"-0.05\"), void 0 === i && (i = \"1.1\"), void 0 === r && (r = \"1.1\");\n        var s = t.call(this, e, n, o, i, r) || this;\n        return s.id = e, s.x = n, s.y = o, s.width = i, s.height = r, s;\n      }\n\n      return i(e, t), e.prototype.createChildElements = function (t) {\n        var e = document.createElementNS(r.svgNS, \"feFlood\");\n        t.appendChild(e);\n        var n = document.createElementNS(r.svgNS, \"feComposite\");\n        n.setAttribute(\"in\", \"SourceGraphic\"), n.setAttribute(\"operator\", \"atop\"), t.appendChild(n);\n      }, e;\n    }(s.FilterPrimitive);\n\n    e.TextFilterPrimitive = u;\n\n    var h = function (t) {\n      function e(e, n, o, i, r, s) {\n        void 0 === o && (o = \"-0.05\"), void 0 === i && (i = \"-0.05\"), void 0 === r && (r = \"1.1\"), void 0 === s && (s = \"1.1\");\n        var a = t.call(this, e, o, i, r, s) || this;\n        return a.id = e, a.floodColor = n, a.x = o, a.y = i, a.width = r, a.height = s, a;\n      }\n\n      return i(e, t), e.prototype.applyChildrenProperties = function (t) {\n        for (var e = void 0, n = 0; e = t.childNodes[n]; n++) if (e.nodeName && \"FEFLOOD\" === e.nodeName.toUpperCase()) {\n          this.prepareFEFloodNode(e);\n          break;\n        }\n      }, e.prototype.prepareFEFloodNode = function (t) {\n        var e = c.ColorUtils.colorToHash(this.floodColor);\n        t.setAttribute(\"flood-color\", e), t.setAttribute(\"class\", \"text-filter-flood\"), this.floodColor !== a.DiagramModel.defaultPageColor ? t.style.setProperty(\"flood-color\", e) : t.style.setProperty(\"flood-color\", \"\");\n      }, e;\n    }(u);\n\n    e.TextFloodFilterPrimitive = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = function () {\n      function t() {}\n\n      return t.encodeHtml = function (t) {\n        return t.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n      }, t.decodeHtml = function (t) {\n        return t.replace(/&amp;/g, \"&\").replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\");\n      }, t.prepareTextForRequest = function (t) {\n        return t.replace(/%/g, \"%25\").replace(/&/g, \"%26amp;\").replace(/\\+/g, \"%2B\").replace(/</g, \"%26lt;\").replace(/>/g, \"%26gt;\").replace(/\"/g, \"%26quot;\");\n      }, t.prepareTextForCallBackRequest = function (t) {\n        return t.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n      }, t.decodeViaTextArea = function (t) {\n        var e = document.createElement(\"TEXTAREA\");\n        return e.innerHTML = t, e.value;\n      }, t;\n    }();\n\n    e.EncodeUtils = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(19),\n        i = n(27),\n        r = function () {\n      function t() {}\n\n      return t.onEventAttachingToDocument = function (e, n) {\n        return !o.Browser.MacOSMobilePlatform || !t.isTouchEventName(e) || (t.documentTouchHandlers[e] || (t.documentTouchHandlers[e] = []), t.documentTouchHandlers[e].push(n), t.documentEventAttachingAllowed);\n      }, t.isTouchEventName = function (t) {\n        return o.Browser.WebKitTouchUI && (t.indexOf(\"touch\") > -1 || t.indexOf(\"gesture\") > -1);\n      }, t.isTouchEvent = function (t) {\n        return o.Browser.WebKitTouchUI && i.isDefined(t.changedTouches);\n      }, t.getEventX = function (t) {\n        return o.Browser.IE ? t.pageX : t.changedTouches[0].pageX;\n      }, t.getEventY = function (t) {\n        return o.Browser.IE ? t.pageY : t.changedTouches[0].pageY;\n      }, t.touchMouseDownEventName = o.Browser.WebKitTouchUI ? \"touchstart\" : o.Browser.Edge && o.Browser.MSTouchUI && window.PointerEvent ? \"pointerdown\" : \"mousedown\", t.touchMouseUpEventName = o.Browser.WebKitTouchUI ? \"touchend\" : o.Browser.Edge && o.Browser.MSTouchUI && window.PointerEvent ? \"pointerup\" : \"mouseup\", t.touchMouseMoveEventName = o.Browser.WebKitTouchUI ? \"touchmove\" : o.Browser.Edge && o.Browser.MSTouchUI && window.PointerEvent ? \"pointermove\" : \"mousemove\", t.msTouchDraggableClassName = \"dxMSTouchDraggable\", t.documentTouchHandlers = {}, t.documentEventAttachingAllowed = !0, t;\n    }();\n\n    e.TouchUtils = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n(176).polyfill();\n  }, function (t, e, n) {\n    \"use strict\";\n\n    function o(t, e) {\n      if (null == t) throw new TypeError(\"Cannot convert first argument to object\");\n\n      for (var n = Object(t), o = 1; o < arguments.length; o++) {\n        var i = arguments[o];\n        if (null != i) for (var r = Object.keys(Object(i)), s = 0, a = r.length; s < a; s++) {\n          var c = r[s],\n              u = Object.getOwnPropertyDescriptor(i, c);\n          void 0 !== u && u.enumerable && (n[c] = i[c]);\n        }\n      }\n\n      return n;\n    }\n\n    t.exports = {\n      assign: o,\n      polyfill: function polyfill() {\n        Object.assign || Object.defineProperty(Object, \"assign\", {\n          enumerable: !1,\n          configurable: !0,\n          writable: !0,\n          value: o\n        });\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var o = n(19),\n        i = n(83),\n        r = n(27),\n        s = function () {\n      function t() {}\n\n      return t.loadJavascriptFile = function (t, e) {\n        var n,\n            o = document.getElementsByTagName(\"head\")[0];\n\n        if (!o) {\n          o = document.createElement(\"head\");\n          var i = document.getElementsByTagName(\"body\")[0];\n          null === (n = i.parentNode) || void 0 === n || n.insertBefore(o, i);\n        }\n\n        var r = document.createElement(\"script\");\n        return r.onload = e, r.src = t, o.appendChild(r), {\n          htmlScriptElement: r\n        };\n      }, t.startDownloadFileLocal = function (t, e) {\n        if (t instanceof ArrayBuffer && (t = i.Base64Utils.fromArrayBuffer(t)), r.isString(t) && (t = i.Base64Utils.getFileFromBase64(t)), window.navigator.msSaveOrOpenBlob) window.navigator.msSaveOrOpenBlob(t, e);else {\n          var n = document.createElement(\"a\"),\n              o = URL.createObjectURL(t);\n          n.href = o, n.download = e, document.body.appendChild(n), n.click(), setTimeout(function () {\n            document.body.removeChild(n), window.URL.revokeObjectURL(o);\n          }, 0);\n        }\n      }, t.createFile = function (t, e, n) {\n        var i;\n\n        if (o.Browser.IE || o.Browser.Edge && o.Browser.MajorVersion < 86) {\n          var r = new Blob(t, n);\n          return r.lastModifiedDate = null !== (i = null == n ? void 0 : n.lastModified) && void 0 !== i ? i : Date.now(), r.name = e, r;\n        }\n\n        return new File(t, e, n);\n      }, t.isFile = function (t) {\n        return o.Browser.IE || o.Browser.Edge && o.Browser.MajorVersion < 86 ? t instanceof File || t instanceof Blob && r.isDefined(t.name) : t instanceof File;\n      }, t;\n    }();\n\n    e.FileUtils = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var o, i, r, s;\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.OpenXmlMimeType = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", e.RtfMimeType = \"application/rtf\", e.PlainTextMimeType = \"text/plain\", e.DocmMimeType = \"application/vnd.ms-word.document.macroEnabled.12\", e.ImagePngMimeType = \"image/png\", e.ImageGifMimeType = \"image/gif\", e.ImageJpegMimeType = \"image/jpeg\", e.ImagePjpegMimeType = \"image/pjpeg\", e.ImageSvgMimeType = \"image/svg+xml\", e.ImageTiffMimeType = \"image/tiff\", e.ImageIcoMimeType = \"image/vnd.microsoft.icon\", e.ImageWbmpMimeType = \"image/vnd.wap.wbmp\", e.ImageWebpMimeType = \"image/webp\", function (t) {\n      t[t.Unknown = 0] = \"Unknown\", t[t.OpenXml = 1] = \"OpenXml\", t[t.Rtf = 2] = \"Rtf\", t[t.PlainText = 3] = \"PlainText\", t[t.Docm = 4] = \"Docm\", t[t.Png = 5] = \"Png\", t[t.Gif = 6] = \"Gif\", t[t.Jpeg = 7] = \"Jpeg\", t[t.Pjpeg = 8] = \"Pjpeg\", t[t.Svg = 9] = \"Svg\", t[t.Tiff = 10] = \"Tiff\", t[t.Ico = 11] = \"Ico\", t[t.Wbmp = 12] = \"Wbmp\", t[t.Webp = 13] = \"Webp\";\n    }(s = e.DxMimeType || (e.DxMimeType = {}));\n\n    var a = function () {\n      function t() {}\n\n      return t.stringTypeToExtension = function (e) {\n        var n = t.stringTypeToTypeMap[e];\n        return void 0 === n ? \"\" : t.typeToExtensionMap[n];\n      }, t.typeToExtension = function (e) {\n        var n = t.typeToExtensionMap[e];\n        return null != n ? n : \"\";\n      }, t.extensionToType = function (e) {\n        \".\" !== (e = e.toLowerCase())[0] && (e += \".\");\n        var n = t.extensionToTypeMap[e];\n        return null != n ? n : s.Unknown;\n      }, t.typeToStringType = function (e) {\n        var n = t.typeToStringTypeMap[e];\n        return null != n ? n : \"\";\n      }, t.stringTypeToType = function (e) {\n        var n = t.stringTypeToTypeMap[e];\n        return void 0 === n ? s.Unknown : n;\n      }, t.stringTypeToTypeMap = ((o = {})[e.OpenXmlMimeType] = s.OpenXml, o[e.RtfMimeType] = s.Rtf, o[e.PlainTextMimeType] = s.PlainText, o[e.DocmMimeType] = s.Docm, o[e.ImagePngMimeType] = s.Png, o[e.ImageGifMimeType] = s.Gif, o[e.ImageJpegMimeType] = s.Jpeg, o[e.ImagePjpegMimeType] = s.Pjpeg, o[e.ImageSvgMimeType] = s.Svg, o[e.ImageTiffMimeType] = s.Tiff, o[e.ImageIcoMimeType] = s.Ico, o[e.ImageWbmpMimeType] = s.Wbmp, o[e.ImageWebpMimeType] = s.Webp, o), t.typeToStringTypeMap = ((i = {})[s.Unknown] = void 0, i[s.OpenXml] = e.OpenXmlMimeType, i[s.Rtf] = e.RtfMimeType, i[s.PlainText] = e.PlainTextMimeType, i[s.Docm] = e.DocmMimeType, i[s.Png] = e.ImagePngMimeType, i[s.Gif] = e.ImageGifMimeType, i[s.Jpeg] = e.ImageJpegMimeType, i[s.Pjpeg] = e.ImagePjpegMimeType, i[s.Svg] = e.ImageSvgMimeType, i[s.Tiff] = e.ImageTiffMimeType, i[s.Ico] = e.ImageIcoMimeType, i[s.Wbmp] = e.ImageWbmpMimeType, i[s.Webp] = e.ImageWebpMimeType, i), t.typeToExtensionMap = ((r = {})[s.Unknown] = void 0, r[s.OpenXml] = \".docx\", r[s.Rtf] = \".rtf\", r[s.PlainText] = \".txt\", r[s.Docm] = \".docm\", r[s.Png] = \".png\", r[s.Gif] = \".gif\", r[s.Jpeg] = \".jpeg\", r[s.Pjpeg] = \".pjpeg\", r[s.Svg] = \".svg\", r[s.Tiff] = \".tiff\", r[s.Ico] = \".ico\", r[s.Wbmp] = \".wbmp\", r[s.Webp] = \".webp\", r), t.extensionToTypeMap = {\n        \".docx\": s.OpenXml,\n        \".rtf\": s.Rtf,\n        \".txt\": s.PlainText,\n        \".docm\": s.Docm,\n        \".png\": s.Png,\n        \".gif\": s.Gif,\n        \".jpeg\": s.Jpeg,\n        \".pjpeg\": s.Pjpeg,\n        \".svg\": s.Svg,\n        \".tiff\": s.Tiff,\n        \".ico\": s.Ico,\n        \".wbmp\": s.Wbmp,\n        \".webp\": s.Webp\n      }, t;\n    }();\n\n    e.MimeTypeUtils = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o94,\n        i = this && this.__extends || (_o94 = function o(t, e) {\n      return (_o94 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o94(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsCalculator = void 0;\n\n    var r = n(113),\n        s = n(30),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPoints = function () {\n        return this.connector.points.map(function (t, e) {\n          return new s.ConnectorRenderPoint(t.x, t.y, e);\n        });\n      }, e;\n    }(r.ConnectorPointsCalculatorBase);\n\n    e.ConnectorPointsCalculator = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o95,\n        i = this && this.__extends || (_o95 = function o(t, e) {\n      return (_o95 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o95(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalCalculator = void 0;\n\n    var r = n(11),\n        s = n(9),\n        a = n(113),\n        c = n(181),\n        u = n(182),\n        h = n(183),\n        p = n(184),\n        l = n(185),\n        d = n(30),\n        f = n(4),\n        y = function (t) {\n      function e(e) {\n        var n = t.call(this, e) || this;\n        return n.sideCalculators = {}, n.sideCalculators[s.ConnectionPointSide.Undefined] = new c.ConnectorPointsOrthogonalUndefinedSideCalculator(n), n.sideCalculators[s.ConnectionPointSide.South] = new u.ConnectorPointsOrthogonalSouthSideCalculator(n), n.sideCalculators[s.ConnectionPointSide.North] = new h.ConnectorPointsOrthogonalNorthSideCalculator(n), n.sideCalculators[s.ConnectionPointSide.East] = new p.ConnectorPointsOrthogonalEastSideCalculator(n), n.sideCalculators[s.ConnectionPointSide.West] = new l.ConnectorPointsOrthogonalWestSideCalculator(n), n;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"beginRect\", {\n        get: function get() {\n          return this.connector.beginItem ? this.connector.beginItem.rectangle : void 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"endRect\", {\n        get: function get() {\n          return this.connector.endItem ? this.connector.endItem.rectangle : void 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getPoints = function () {\n        var t = this.connector.points.map(function (t, e) {\n          return new d.ConnectorRenderPoint(t.x, t.y, e);\n        });\n        f.ModelUtils.removeUnnecessaryRenderPoints(t);\n        var e = 0,\n            n = t.length - 1,\n            o = this.getPointSide(t, 0),\n            i = this.getPointSide(t, 1),\n            r = this.getPointSide(t, t.length - 1),\n            s = this.getPointSide(t, t.length - 1 - 1),\n            a = this.getSideCalculator(o),\n            c = this.getSideCalculator(r),\n            u = this.beginRect,\n            h = a.getCorrectOriginPoint(t[e], u),\n            p = t[e + 1];\n\n        if (2 === t.length && a.isOnSidePoint(h, p) && a.isDirectConnectionAllowed(i, h, p)) {\n          a.getDirectConnectionPoints(h, p).forEach(function (o) {\n            t.splice(e + 1, 0, o), e++, n++;\n          });\n        } else {\n          var l = a.getBeginOffsetPoints(i, t[e], t[e + 1], this.beginRect);\n          l.forEach(function (n) {\n            t.splice(e + 1, 0, n);\n          }), e += l.length, n += l.length, c.getEndOffsetPoints(s, t[n], t[n - 1], this.endRect).forEach(function (e, o) {\n            t.splice(n + o, 0, e);\n          }), this.addMiddlePoints(t, e, n);\n        }\n\n        return f.ModelUtils.removeUnnecessaryRightAngleRenderPoints(t), t;\n      }, e.prototype.getSideCalculator = function (t) {\n        return this.sideCalculators[t];\n      }, e.prototype.getPointSide = function (t, e) {\n        if (0 === e && this.connector.beginItem) {\n          var n = this.connector.beginConnectionPointIndex;\n          return this.connector.beginItem.getConnectionPointSideByIndex(n, t[1]);\n        }\n\n        if (e === t.length - 1 && this.connector.endItem) {\n          n = this.connector.endConnectionPointIndex;\n          return this.connector.endItem.getConnectionPointSideByIndex(n, t[t.length - 2]);\n        }\n\n        return s.ConnectionPointSide.Undefined;\n      }, e.prototype.addMiddlePoints = function (t, e, n) {\n        for (var o = e; o < n; o++) {\n          var i = o + 1,\n              r = this.getMiddlePoint(t[o], t[o - 1], o - 1 == 0, t[i], t[i + 1], i + 1 === t.length - 1);\n          void 0 !== r && (t.splice(o + 1, 0, r), o++, n++);\n        }\n      }, e.prototype.getMiddlePoints = function (t, e) {\n        return t.x === e.x || t.y === e.y ? [] : [new d.ConnectorRenderPoint(t.x, e.y), new d.ConnectorRenderPoint(e.x, t.y)];\n      }, e.prototype.getMiddlePoint = function (t, e, n, o, i, s) {\n        var a,\n            c = this,\n            u = this.getMiddlePoints(t, o);\n        return u.forEach(function (n) {\n          var s = c.createPointsRect(t, n),\n              u = c.createPointsRect(n, o),\n              h = c.connector.beginItem ? c.connector.beginItem.rectangle : void 0,\n              p = c.connector.endItem ? c.connector.endItem.rectangle : void 0;\n          h && (r.Rectangle.areIntersected(h, s) || r.Rectangle.areIntersected(h, u)) || p && (r.Rectangle.areIntersected(p, s) || r.Rectangle.areIntersected(p, u)) || c.isReturnPoint(n, t, e) && !c.isIntermediatePoints(t, e) || c.isReturnPoint(n, o, i) && !c.isIntermediatePoints(o, i) || (void 0 === a ? a = n : c.isPriorMiddlePoint(n, t, e, o, i) && (a = n));\n        }), void 0 === a && u.length > 0 && (a = u[0]), a;\n      }, e.prototype.createPointsRect = function (t, e) {\n        var n = r.Rectangle.fromPoints(t, e);\n        return n.width > 0 && (n = n.clone().inflate(-1, 0)), n.height > 0 && (n = n.clone().inflate(0, -1)), n;\n      }, e.prototype.isPriorMiddlePoint = function (t, e, n, o, i) {\n        return !(!n || t.x !== n.x && t.y !== n.y) || !(!i || t.x !== i.x && t.y !== i.y);\n      }, e.prototype.isReturnPoint = function (t, e, n) {\n        if (void 0 !== e && void 0 !== n) {\n          if (t.x === n.x && (e.y < t.y && t.y < n.y || e.y > t.y && t.y > n.y)) return !0;\n          if (t.y === n.y && (e.x < t.x && t.x < n.x || e.x > t.x && t.x > n.x)) return !0;\n        }\n\n        return !1;\n      }, e.prototype.isIntermediatePoints = function (t, e) {\n        return 0 < t.pointIndex && t.pointIndex < this.connector.points.length - 1 && 0 < e.pointIndex && e.pointIndex < this.connector.points.length - 1;\n      }, e;\n    }(a.ConnectorPointsCalculatorBase);\n\n    e.ConnectorPointsOrthogonalCalculator = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o96,\n        i = this && this.__extends || (_o96 = function o(t, e) {\n      return (_o96 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o96(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalUndefinedSideCalculator = void 0;\n\n    var r = n(52),\n        s = n(30),\n        a = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.getCorrectOriginPoint = function (t, e) {\n        return t;\n      }, e.prototype.getSameShapeOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getOverlappedPointsOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getBeginOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getEndOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getBeginOnSideOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getEndOnSideOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getBeginOffSideOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.getEndOffSideOffsetPoints = function (t, e, n, o) {\n        return [];\n      }, e.prototype.isOnSidePoint = function (t, e) {\n        return !0;\n      }, e.prototype.isDirectConnectionAllowed = function (t, e, n) {\n        var o = this.getSideCalculator(e, n);\n        return void 0 === o || o.isDirectConnectionAllowed(t, e, n);\n      }, e.prototype.getDirectConnectionPoints = function (t, e) {\n        var n = Math.abs(e.x - t.x),\n            o = Math.abs(e.y - t.y);\n\n        if (n > o) {\n          var i = Math.min(t.x, e.x) + n / 2;\n          return [new s.ConnectorRenderPoint(i, t.y), new s.ConnectorRenderPoint(i, e.y)];\n        }\n\n        var r = Math.min(t.y, e.y) + o / 2;\n        return [new s.ConnectorRenderPoint(t.x, r), new s.ConnectorRenderPoint(e.x, r)];\n      }, e;\n    }(r.ConnectorPointsOrthogonalSideCalculatorBase);\n\n    e.ConnectorPointsOrthogonalUndefinedSideCalculator = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o97,\n        i = this && this.__extends || (_o97 = function o(t, e) {\n      return (_o97 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o97(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalSouthSideCalculator = void 0;\n\n    var r = n(9),\n        s = n(52),\n        a = n(30),\n        c = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.getCorrectOriginPoint = function (t, e) {\n        return t.y < e.bottom && (t = t.clone().offset(0, e.bottom - t.y)), t;\n      }, e.prototype.getSameShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n          case r.ConnectionPointSide.West:\n          case r.ConnectionPointSide.South:\n            return [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.North:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset());\n        }\n      }, e.prototype.getOverlappedPointsOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.South:\n            return [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.North:\n            return [e.clone().offset(0, -this.getMinOffset())];\n        }\n\n        return [];\n      }, e.prototype.getBeginOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return e.y < n.y ? e.x > n.x ? [] : [e.clone().offset(0, this.getMinOffset())] : e.y > this.endRect.bottom ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.West:\n            return e.y < n.y ? e.x < n.x ? [] : [e.clone().offset(0, this.getMinOffset())] : e.y > this.endRect.bottom ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.South:\n            return [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.North:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), e.x < n.x);\n        }\n      }, e.prototype.getEndOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return n.y < e.y ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : e.x < n.x ? [e.clone().offset(0, this.getMinOffset())] : [];\n\n          case r.ConnectionPointSide.West:\n            return n.y < e.y ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : e.x > n.x ? [e.clone().offset(0, this.getMinOffset())] : [];\n\n          case r.ConnectionPointSide.South:\n            return [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.North:\n            var i = this.getMinOffset();\n            return this.beginRect.bottom > e.y && (i += this.beginRect.bottom - e.y), [e.clone().offset(0, i)];\n        }\n      }, e.prototype.getBeginOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(0, this.getScaleableOffsetY(e, n, !1))];\n      }, e.prototype.getEndOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(0, this.getScaleableOffsetY(e, n, !0))];\n      }, e.prototype.getBeginOffSideOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            if (this.isBeginEndOverlappedX()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !1);\n            break;\n\n          case r.ConnectionPointSide.West:\n            if (this.isBeginEndOverlappedX()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !0);\n            break;\n\n          case r.ConnectionPointSide.South:\n            if (this.isBeginEndOverlappedX()) return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n            break;\n\n          case r.ConnectionPointSide.Undefined:\n          case r.ConnectionPointSide.North:\n            return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n        }\n\n        return [e.clone().offset(0, this.getScaleableOffsetY(e, n, !1))];\n      }, e.prototype.getEndOffSideOffsetPoints = function (t, e, n, o) {\n        if (t === r.ConnectionPointSide.Undefined) return this.getScaleableAsideOffsetPoints(e, n, o, !0);\n\n        if (this.isBeginEndOverlappedX()) {\n          var i = this.beginRect.center.x > this.endRect.center.x;\n          return this.getScaleableAsideOffsetPoints(e, n, o, !0, i);\n        }\n\n        return [e.clone().offset(0, this.getScaleableOffsetY(e, n, !0))];\n      }, e.prototype.getAsideOffsetPoints = function (t, e, n, o, i, r) {\n        var s = [];\n        return void 0 !== n && (void 0 === r && (r = e.x < t.x), r ? s.push(t.clone().offset(-(t.x - n.x + i), o)) : s.push(t.clone().offset(n.right - t.x + i, o))), s.push(t.clone().offset(0, o)), s;\n      }, e.prototype.getScaleableAsideOffsetPoints = function (t, e, n, o, i) {\n        var r = this.getScaleableOffsetY(t, e, o),\n            s = this.getScaleableOffsetX(t, e, o);\n        return this.getAsideOffsetPoints(t, e, n, r, s, i);\n      }, e.prototype.getScaleableOffsetX = function (t, e, n) {\n        if (this.beginRect && this.endRect && !n && !this.isBeginEndOverlappedX()) {\n          var o = void 0;\n          if ((o = e.x < t.x ? this.beginRect.x - this.endRect.right : this.endRect.x - this.beginRect.right) < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.getScaleableOffsetY = function (t, e, n) {\n        if (this.beginRect && this.endRect) {\n          var o = n ? this.beginRect.y - t.y : this.endRect.y - t.y;\n          if (o > 0 && o < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.isOnSidePoint = function (t, e) {\n        return e.y > t.y;\n      }, e.prototype.isDirectConnectionAllowed = function (t, e, n) {\n        return t === r.ConnectionPointSide.North || t === r.ConnectionPointSide.Undefined;\n      }, e.prototype.getDirectConnectionPoints = function (t, e) {\n        var n = t.y + (e.y - t.y) / 2;\n        return [new a.ConnectorRenderPoint(t.x, n), new a.ConnectorRenderPoint(e.x, n)];\n      }, e;\n    }(s.ConnectorPointsOrthogonalSideCalculatorBase);\n\n    e.ConnectorPointsOrthogonalSouthSideCalculator = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o98,\n        i = this && this.__extends || (_o98 = function o(t, e) {\n      return (_o98 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o98(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalNorthSideCalculator = void 0;\n\n    var r = n(9),\n        s = n(52),\n        a = n(30),\n        c = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.getCorrectOriginPoint = function (t, e) {\n        return t.y > e.y && (t = t.clone().offset(0, e.y - t.y)), t;\n      }, e.prototype.getSameShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n          case r.ConnectionPointSide.West:\n          case r.ConnectionPointSide.North:\n            return [e.clone().offset(0, -this.getMinOffset())];\n\n          case r.ConnectionPointSide.South:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset());\n        }\n      }, e.prototype.getOverlappedPointsOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.South:\n            return [e.clone().offset(0, this.getMinOffset())];\n\n          case r.ConnectionPointSide.North:\n            return [e.clone().offset(0, -this.getMinOffset())];\n        }\n\n        return [];\n      }, e.prototype.getBeginOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return e.y > n.y ? e.x > n.x ? [] : [e.clone().offset(0, -this.getMinOffset())] : e.y < this.endRect.y ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : [e.clone().offset(0, -this.getMinOffset())];\n\n          case r.ConnectionPointSide.West:\n            return e.y > n.y ? e.x < n.x ? [] : [e.clone().offset(0, -this.getMinOffset())] : e.y < this.endRect.y ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : [e.clone().offset(0, -this.getMinOffset())];\n\n          case r.ConnectionPointSide.North:\n            return [e.clone().offset(0, -this.getMinOffset())];\n\n          case r.ConnectionPointSide.South:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), e.x < n.x);\n        }\n      }, e.prototype.getEndOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return n.y > e.y ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : e.x < n.x ? [e.clone().offset(0, -this.getMinOffset())] : [];\n\n          case r.ConnectionPointSide.West:\n            return n.y > e.y ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : e.x > n.x ? [e.clone().offset(0, -this.getMinOffset())] : [];\n\n          case r.ConnectionPointSide.North:\n            return [e.clone().offset(0, -this.getMinOffset())];\n\n          case r.ConnectionPointSide.South:\n            var i = -this.getMinOffset();\n            return this.beginRect.y < e.y && (i -= e.y - this.beginRect.y), [e.clone().offset(0, i)];\n        }\n      }, e.prototype.getBeginOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(0, -this.getScaleableOffsetY(e, n, !1))];\n      }, e.prototype.getEndOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(0, -this.getScaleableOffsetY(e, n, !0))];\n      }, e.prototype.getBeginOffSideOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            if (this.isBeginEndOverlappedX()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !1);\n            break;\n\n          case r.ConnectionPointSide.West:\n            if (this.isBeginEndOverlappedX()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !0);\n            break;\n\n          case r.ConnectionPointSide.North:\n            if (this.isBeginEndOverlappedX()) return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n            break;\n\n          case r.ConnectionPointSide.Undefined:\n          case r.ConnectionPointSide.South:\n            return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n        }\n\n        return [e.clone().offset(0, -this.getScaleableOffsetY(e, n, !1))];\n      }, e.prototype.getEndOffSideOffsetPoints = function (t, e, n, o) {\n        if (t === r.ConnectionPointSide.Undefined) return this.getScaleableAsideOffsetPoints(e, n, o, !0);\n\n        if (this.isBeginEndOverlappedX()) {\n          var i = this.beginRect.center.x > this.endRect.center.x;\n          return this.getScaleableAsideOffsetPoints(e, n, o, !0, i);\n        }\n\n        return [e.clone().offset(0, -this.getScaleableOffsetY(e, n, !0))];\n      }, e.prototype.getAsideOffsetPoints = function (t, e, n, o, i, r) {\n        var s = [];\n        return void 0 !== n && (void 0 === r && (r = e.x < t.x), r ? s.push(t.clone().offset(-(t.x - n.x + i), -o)) : s.push(t.clone().offset(n.right - t.x + i, -o))), s.push(t.clone().offset(0, -o)), s;\n      }, e.prototype.getScaleableAsideOffsetPoints = function (t, e, n, o, i) {\n        var r = this.getScaleableOffsetY(t, e, o),\n            s = this.getScaleableOffsetX(t, e, o);\n        return this.getAsideOffsetPoints(t, e, n, r, s, i);\n      }, e.prototype.getScaleableOffsetX = function (t, e, n) {\n        if (this.beginRect && this.endRect && !n && !this.isBeginEndOverlappedX()) {\n          var o = void 0;\n          if ((o = e.x < t.x ? this.beginRect.x - this.endRect.right : this.endRect.x - this.beginRect.right) < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.getScaleableOffsetY = function (t, e, n) {\n        if (this.beginRect && this.endRect) {\n          var o = n ? t.y - this.beginRect.bottom : t.y - this.endRect.bottom;\n          if (o > 0 && o < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.isOnSidePoint = function (t, e) {\n        return e.y < t.y;\n      }, e.prototype.isDirectConnectionAllowed = function (t, e, n) {\n        return t === r.ConnectionPointSide.South || t === r.ConnectionPointSide.Undefined;\n      }, e.prototype.getDirectConnectionPoints = function (t, e) {\n        var n = e.y + (t.y - e.y) / 2;\n        return [new a.ConnectorRenderPoint(t.x, n), new a.ConnectorRenderPoint(e.x, n)];\n      }, e;\n    }(s.ConnectorPointsOrthogonalSideCalculatorBase);\n\n    e.ConnectorPointsOrthogonalNorthSideCalculator = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o99,\n        i = this && this.__extends || (_o99 = function o(t, e) {\n      return (_o99 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o99(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalEastSideCalculator = void 0;\n\n    var r = n(9),\n        s = n(52),\n        a = n(30),\n        c = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.getCorrectOriginPoint = function (t, e) {\n        return t.x < e.right && (t = t.clone().offset(e.right - t.x, 0)), t;\n      }, e.prototype.getSameShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.North:\n          case r.ConnectionPointSide.South:\n          case r.ConnectionPointSide.East:\n            return [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.West:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset());\n        }\n      }, e.prototype.getOverlappedPointsOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.West:\n            return [e.clone().offset(-this.getMinOffset(), 0)];\n        }\n\n        return [];\n      }, e.prototype.getBeginOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.North:\n            return e.x < n.x ? e.y < n.y ? [] : [e.clone().offset(this.getMinOffset(), 0)] : e.x > this.endRect.right ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.South:\n            return e.x < n.x ? e.y > n.y ? [] : [e.clone().offset(this.getMinOffset(), 0)] : e.x > this.endRect.right ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.East:\n            return [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.West:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), e.y < n.y);\n        }\n      }, e.prototype.getEndOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.West:\n            var i = this.getMinOffset();\n            return this.beginRect.right > e.x && (i += this.beginRect.right - e.x), [e.clone().offset(i, 0)];\n\n          case r.ConnectionPointSide.North:\n            return n.x < e.x ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : e.y > n.y ? [e.clone().offset(this.getMinOffset(), 0)] : [];\n\n          case r.ConnectionPointSide.South:\n            return n.x < e.x ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : e.y < n.y ? [e.clone().offset(this.getMinOffset(), 0)] : [];\n        }\n      }, e.prototype.getBeginOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(this.getScaleableOffsetX(e, n, !1), 0)];\n      }, e.prototype.getEndOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(this.getScaleableOffsetX(e, n, !0), 0)];\n      }, e.prototype.getBeginOffSideOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.South:\n            if (this.isBeginEndOverlappedY()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !1);\n            break;\n\n          case r.ConnectionPointSide.North:\n            if (this.isBeginEndOverlappedY()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !0);\n            break;\n\n          case r.ConnectionPointSide.East:\n            if (this.isBeginEndOverlappedY()) return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n            break;\n\n          case r.ConnectionPointSide.Undefined:\n          case r.ConnectionPointSide.West:\n            return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n        }\n\n        return [e.clone().offset(this.getScaleableOffsetX(e, n, !1), 0)];\n      }, e.prototype.getEndOffSideOffsetPoints = function (t, e, n, o) {\n        if (t === r.ConnectionPointSide.Undefined) return this.getScaleableAsideOffsetPoints(e, n, o, !0);\n\n        if (this.isBeginEndOverlappedY()) {\n          var i = this.beginRect.center.y > this.endRect.center.y;\n          return this.getScaleableAsideOffsetPoints(e, n, o, !0, i);\n        }\n\n        return [e.clone().offset(this.getScaleableOffsetX(e, n, !0), 0)];\n      }, e.prototype.getAsideOffsetPoints = function (t, e, n, o, i, r) {\n        var s = [];\n        return void 0 !== n && (void 0 === r && (r = e.y < t.y), r ? s.push(t.clone().offset(o, -(t.y - n.y + i))) : s.push(t.clone().offset(o, n.bottom - t.y + i))), s.push(t.clone().offset(o, 0)), s;\n      }, e.prototype.getScaleableAsideOffsetPoints = function (t, e, n, o, i) {\n        var r = this.getScaleableOffsetX(t, e, o),\n            s = this.getScaleableOffsetY(t, e, o);\n        return this.getAsideOffsetPoints(t, e, n, r, s, i);\n      }, e.prototype.getScaleableOffsetX = function (t, e, n) {\n        if (this.beginRect && this.endRect) {\n          var o = n ? this.beginRect.x - t.x : this.endRect.x - t.x;\n          if (o > 0 && o < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.getScaleableOffsetY = function (t, e, n) {\n        if (this.beginRect && this.endRect && !n && !this.isBeginEndOverlappedY()) {\n          var o = void 0;\n          if ((o = e.y < t.y ? this.beginRect.y - this.endRect.bottom : this.endRect.y - this.beginRect.bottom) < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.isOnSidePoint = function (t, e) {\n        return e.x > t.x;\n      }, e.prototype.isDirectConnectionAllowed = function (t, e, n) {\n        return t === r.ConnectionPointSide.West || t === r.ConnectionPointSide.Undefined;\n      }, e.prototype.getDirectConnectionPoints = function (t, e) {\n        var n = t.x + (e.x - t.x) / 2;\n        return [new a.ConnectorRenderPoint(n, t.y), new a.ConnectorRenderPoint(n, e.y)];\n      }, e;\n    }(s.ConnectorPointsOrthogonalSideCalculatorBase);\n\n    e.ConnectorPointsOrthogonalEastSideCalculator = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o100,\n        i = this && this.__extends || (_o100 = function o(t, e) {\n      return (_o100 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o100(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorPointsOrthogonalWestSideCalculator = void 0;\n\n    var r = n(9),\n        s = n(52),\n        a = n(30),\n        c = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.getCorrectOriginPoint = function (t, e) {\n        return t.x > e.x && (t = t.clone().offset(e.x - t.x, 0)), t;\n      }, e.prototype.getSameShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.North:\n          case r.ConnectionPointSide.South:\n          case r.ConnectionPointSide.West:\n            return [e.clone().offset(-this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.East:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset());\n        }\n      }, e.prototype.getOverlappedPointsOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            return [e.clone().offset(this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.West:\n            return [e.clone().offset(-this.getMinOffset(), 0)];\n        }\n\n        return [];\n      }, e.prototype.getBeginOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.North:\n            return e.x > n.x ? e.y < n.y ? [] : [e.clone().offset(-this.getMinOffset(), 0)] : e.x < this.endRect.x ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : [e.clone().offset(-this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.South:\n            return e.x > n.x ? e.y > n.y ? [] : [e.clone().offset(-this.getMinOffset(), 0)] : e.x < this.endRect.x ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : [e.clone().offset(-this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.West:\n            return [e.clone().offset(-this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.East:\n            return this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), e.y < n.y);\n        }\n      }, e.prototype.getEndOverlappedShapeOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.East:\n            var i = -this.getMinOffset();\n            return this.beginRect.x < e.x && (i -= e.x - this.beginRect.x), [e.clone().offset(i, 0)];\n\n          case r.ConnectionPointSide.West:\n            return [e.clone().offset(-this.getMinOffset(), 0)];\n\n          case r.ConnectionPointSide.North:\n            return n.x > e.x ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !0) : e.y > n.y ? [e.clone().offset(-this.getMinOffset(), 0)] : [];\n\n          case r.ConnectionPointSide.South:\n            return n.x > e.x ? this.getAsideOffsetPoints(e, n, o, this.getMinOffset(), this.getMinOffset(), !1) : e.y < n.y ? [e.clone().offset(-this.getMinOffset(), 0)] : [];\n        }\n      }, e.prototype.getBeginOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(-this.getScaleableOffsetX(e, !1), 0)];\n      }, e.prototype.getEndOnSideOffsetPoints = function (t, e, n, o) {\n        return [e.clone().offset(-this.getScaleableOffsetX(e, !0), 0)];\n      }, e.prototype.getBeginOffSideOffsetPoints = function (t, e, n, o) {\n        switch (t) {\n          case r.ConnectionPointSide.South:\n            if (this.isBeginEndOverlappedY()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !1);\n            break;\n\n          case r.ConnectionPointSide.North:\n            if (this.isBeginEndOverlappedY()) return this.getScaleableAsideOffsetPoints(e, n, o, !1, !0);\n            break;\n\n          case r.ConnectionPointSide.West:\n            if (this.isBeginEndOverlappedY()) return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n            break;\n\n          case r.ConnectionPointSide.Undefined:\n          case r.ConnectionPointSide.East:\n            return this.getScaleableAsideOffsetPoints(e, n, o, !1);\n        }\n\n        return [e.clone().offset(-this.getScaleableOffsetX(e, !1), 0)];\n      }, e.prototype.getEndOffSideOffsetPoints = function (t, e, n, o) {\n        if (t === r.ConnectionPointSide.Undefined) return this.getScaleableAsideOffsetPoints(e, n, o, !0);\n\n        if (this.isBeginEndOverlappedY()) {\n          var i = this.beginRect.center.y > this.endRect.center.y;\n          return this.getScaleableAsideOffsetPoints(e, n, o, !0, i);\n        }\n\n        return [e.clone().offset(-this.getScaleableOffsetX(e, !0), 0)];\n      }, e.prototype.getAsideOffsetPoints = function (t, e, n, o, i, r) {\n        var s = [];\n        return void 0 !== n && (void 0 === r && (r = e.y < t.y), r ? s.push(t.clone().offset(-o, -(t.y - n.y + i))) : s.push(t.clone().offset(-o, n.bottom - t.y + i))), s.push(t.clone().offset(-o, 0)), s;\n      }, e.prototype.getScaleableAsideOffsetPoints = function (t, e, n, o, i) {\n        var r = this.getScaleableOffsetX(t, o),\n            s = this.getScaleableOffsetY(t, e, o);\n        return this.getAsideOffsetPoints(t, e, n, r, s, i);\n      }, e.prototype.getScaleableOffsetX = function (t, e) {\n        if (this.beginRect && this.endRect) {\n          var n = e ? t.x - this.beginRect.right : t.x - this.endRect.right;\n          if (n > 0 && n < 2 * this.getMinOffset()) return n / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.getScaleableOffsetY = function (t, e, n) {\n        if (this.beginRect && this.endRect && !n && !this.isBeginEndOverlappedY()) {\n          var o = void 0;\n          if ((o = e.y < t.y ? this.beginRect.y - this.endRect.bottom : this.endRect.y - this.beginRect.bottom) < 2 * this.getMinOffset()) return o / 2;\n        }\n\n        return this.getMinOffset();\n      }, e.prototype.isOnSidePoint = function (t, e) {\n        return e.x < t.x;\n      }, e.prototype.isDirectConnectionAllowed = function (t, e, n) {\n        return t === r.ConnectionPointSide.East || t === r.ConnectionPointSide.Undefined;\n      }, e.prototype.getDirectConnectionPoints = function (t, e) {\n        var n = e.x + (t.x - e.x) / 2;\n        return [new a.ConnectorRenderPoint(n, t.y), new a.ConnectorRenderPoint(n, e.y)];\n      }, e;\n    }(s.ConnectorPointsOrthogonalSideCalculatorBase);\n\n    e.ConnectorPointsOrthogonalWestSideCalculator = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o101,\n        i = this && this.__extends || (_o101 = function o(t, e) {\n      return (_o101 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o101(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorLineEndingFilledTriangleStrategy = e.ConnectorLineEndingOutlinedTriangleStrategy = e.ConnectorLineEndingArrowStrategy = e.ConnectorLineEndingNoneStrategy = e.ConnectorLineEndingStrategy = void 0;\n\n    var r = n(3),\n        s = n(5),\n        a = function () {\n      function t(t) {\n        this.style = t;\n      }\n\n      return t.prototype.hasCommands = function () {\n        return !0;\n      }, t.prototype.needCreateSeparatePrimitive = function () {\n        return !1;\n      }, t.prototype.createPrimitive = function () {\n        return new s.PathPrimitive([], this.getStyle(), this.getCssClass());\n      }, t.prototype.createCommands = function (t, e) {\n        return [];\n      }, t.prototype.getStyle = function () {\n        var t = this.style.clone();\n        return t.resetStrokeDashArray(), t;\n      }, t.prototype.getCssClass = function () {}, t;\n    }();\n\n    e.ConnectorLineEndingStrategy = a;\n\n    var c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.hasCommands = function () {\n        return !1;\n      }, e;\n    }(a);\n\n    e.ConnectorLineEndingNoneStrategy = c;\n\n    var u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"arrowHeight\", {\n        get: function get() {\n          return 6 * this.style.strokeWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"arrowWidth\", {\n        get: function get() {\n          return 2 * this.style.strokeWidth;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.needCreateSeparatePrimitive = function () {\n        return !this.style.isDefaultStrokeDashArray();\n      }, e.prototype.createCommands = function (t, e) {\n        var n = this.getArrowPoints(t, e),\n            o = [new s.PathPrimitiveMoveToCommand(n.point1.x, n.point1.y), new s.PathPrimitiveLineToCommand(t.x, t.y), new s.PathPrimitiveLineToCommand(n.point2.x, n.point2.y)];\n        return this.style.isDefaultStrokeDashArray() || (o = o.concat([new s.PathPrimitiveMoveToCommand(t.x, t.y), new s.PathPrimitiveLineToCommand(n.point3.x, n.point3.y)])), o;\n      }, e.prototype.getArrowPoints = function (t, e) {\n        var n,\n            o = this.arrowHeight;\n        t.x === e.x && (n = Math.abs(t.y - e.y)) < o && (o = n);\n        t.y === e.y && (n = Math.abs(t.x - e.x)) < o && (o = n);\n        return r.GeometryUtils.getArrowPoints(t, e, o, this.arrowWidth);\n      }, e;\n    }(a);\n\n    e.ConnectorLineEndingArrowStrategy = u;\n\n    var h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.needCreateSeparatePrimitive = function () {\n        return !0;\n      }, e.prototype.createCommands = function (t, e) {\n        var n = this.getArrowPoints(t, e);\n        return [new s.PathPrimitiveMoveToCommand(n.point1.x, n.point1.y), new s.PathPrimitiveLineToCommand(t.x, t.y), new s.PathPrimitiveLineToCommand(n.point2.x, n.point2.y), new s.PathPrimitiveClosePathCommand()];\n      }, e.prototype.getCssClass = function () {\n        return \"outlined-line-ending\";\n      }, e;\n    }(u);\n\n    e.ConnectorLineEndingOutlinedTriangleStrategy = h;\n\n    var p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyle = function () {\n        var e = t.prototype.getStyle.call(this);\n        return e.fill = e.stroke, e;\n      }, e.prototype.getCssClass = function () {\n        return \"filled-line-ending\";\n      }, e;\n    }(h);\n\n    e.ConnectorLineEndingFilledTriangleStrategy = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorTexts = e.ConnectorText = void 0;\n\n    var o = function () {\n      return function (t, e) {\n        this.position = t, this.value = e;\n      };\n    }();\n\n    e.ConnectorText = o;\n\n    var i = function () {\n      function t() {\n        this.items = {};\n      }\n\n      return t.prototype.get = function (t) {\n        return this.items[t];\n      }, t.prototype.set = function (t, e) {\n        this.items[t] = e;\n      }, t.prototype.remove = function (t) {\n        delete this.items[t];\n      }, t.prototype.map = function (t) {\n        var e = [];\n        return this.forEach(function (n) {\n          return e.push(t(n));\n        }), e;\n      }, t.prototype.forEach = function (t) {\n        for (var e in this.items) Object.prototype.hasOwnProperty.call(this.items, e) && t(this.items[e]);\n      }, t.prototype.count = function () {\n        return Object.keys(this.items).length;\n      }, t.prototype.clone = function () {\n        var e = new t();\n        return this.forEach(function (t) {\n          e.set(t.position, new o(t.position, t.value));\n        }), e;\n      }, t.prototype.toObject = function () {\n        var t = {},\n            e = !1;\n        return this.forEach(function (n) {\n          t[n.position] = n.value, e = !0;\n        }), e ? t : null;\n      }, t.prototype.fromObject = function (t) {\n        for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) {\n          var n = parseFloat(e);\n          isNaN(n) || \"string\" != typeof t[e] || this.set(n, new o(n, t[e]));\n        }\n      }, t;\n    }();\n\n    e.ConnectorTexts = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o102,\n        i = this && this.__extends || (_o102 = function o(t, e) {\n      return (_o102 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o102(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AddConnectorPointHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connectorKey = e, i.pointIndex = n, i.point = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        this.renderContext = n.createRenderPointsContext(), t.addDeleteConnectorPoint(n, function (t) {\n          t.addPoint(e.pointIndex, e.point), t.onAddPoint(e.pointIndex, e.point);\n        });\n      }, e.prototype.undo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        t.addDeleteConnectorPoint(n, function (t) {\n          t.deletePoint(e.pointIndex), t.replaceRenderPoints(e.renderContext);\n        });\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.AddConnectorPointHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o103,\n        i = this && this.__extends || (_o103 = function o(t, e) {\n      return (_o103 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o103(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.InsertToContainerHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.containerKey = n.key, o.itemKey = e.key, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey),\n            n = t.model.findShape(this.containerKey);\n        t.insertToContainer(e, n);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.removeFromContainer(e);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.InsertToContainerHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o104,\n        i = this && this.__extends || (_o104 = function o(t, e) {\n      return (_o104 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o104(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MoveConnectorRightAnglePointsHistoryItem = e.MoveConnectorPointHistoryItem = void 0;\n\n    var r = n(8),\n        s = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connectorKey = e, i.pointIndex = n, i.newPoint = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        this.oldPoint = n.points[this.pointIndex].clone(), this.renderContext = n.createRenderPointsContext(), t.moveConnectorPoint(n, this.pointIndex, function (t) {\n          t.movePoint(e.pointIndex, e.newPoint), t.onMovePoint(e.pointIndex, e.newPoint);\n        });\n      }, e.prototype.undo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        t.moveConnectorPoint(n, this.pointIndex, function (t) {\n          t.movePoint(e.pointIndex, e.oldPoint), t.replaceRenderPoints(e.renderContext);\n        });\n      }, e;\n    }(r.HistoryItem);\n\n    e.MoveConnectorPointHistoryItem = s;\n\n    var a = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this) || this;\n        return s.connectorKey = e, s.beginPointIndex = n, s.newBeginPoint = o, s.lastPointIndex = i, s.newLastPoint = r, s;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        this.oldBeginPoint = n.points[this.beginPointIndex].clone(), this.oldLastPoint = n.points[this.lastPointIndex].clone(), this.renderContext = n.createRenderPointsContext(), t.changeConnectorPoints(n, function (t) {\n          t.movePoint(e.beginPointIndex, e.newBeginPoint), t.movePoint(e.lastPointIndex, e.newLastPoint), t.onMovePoints(e.beginPointIndex, e.newBeginPoint, e.lastPointIndex, e.newLastPoint);\n        });\n      }, e.prototype.undo = function (t) {\n        var e = this,\n            n = t.model.findConnector(this.connectorKey);\n        t.changeConnectorPoints(n, function (t) {\n          t.movePoint(e.beginPointIndex, e.oldBeginPoint), t.movePoint(e.lastPointIndex, e.oldLastPoint), t.replaceRenderPoints(e.renderContext);\n        });\n      }, e;\n    }(r.HistoryItem);\n\n    e.MoveConnectorRightAnglePointsHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o105,\n        i = this && this.__extends || (_o105 = function o(t, e) {\n      return (_o105 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o105(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MoveShapeHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.shapeKey = e, o.position = n, o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        this.oldPosition = e.position.clone(), t.moveShape(e, this.position);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.moveShape(e, this.oldPosition);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.MoveShapeHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o106,\n        i = this && this.__extends || (_o106 = function o(t, e) {\n      return (_o106 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o106(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RemoveFromContainerHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.itemKey = e.key, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.containerKey = e.container && e.container.key, t.removeFromContainer(e);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findContainer(this.containerKey),\n            n = t.model.findItem(this.itemKey);\n        t.insertToContainer(n, e);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.RemoveFromContainerHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o107,\n        i = this && this.__extends || (_o107 = function o(t, e) {\n      return (_o107 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o107(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ModelResizeHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(87),\n        a = n(2),\n        c = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.offset = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.oldSize = t.model.size.clone(), this.backOffset = new s.Offsets(-this.offset.left, -this.offset.right, -this.offset.top, -this.offset.bottom);\n        var e = Math.max(this.oldSize.width + this.offset.left + this.offset.right, t.model.pageWidth),\n            n = Math.max(this.oldSize.height + this.offset.top + this.offset.bottom, t.model.pageHeight);\n        t.changeModelSize(new a.Size(e, n), this.offset);\n      }, e.prototype.undo = function (t) {\n        t.changeModelSize(this.oldSize, this.backOffset);\n      }, e;\n    }(r.HistoryItem);\n\n    e.ModelResizeHistoryItem = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o108,\n        i = this && this.__extends || (_o108 = function o(t, e) {\n      return (_o108 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o108(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.UpdatePositionsOnPageResizeHistoryItem = void 0;\n\n    var r = n(6),\n        s = n(13),\n        a = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.offset = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = this;\n        t.model.iterateItems(function (n) {\n          n instanceof s.Shape && t.moveShape(n, e.applyOffset(n.position, e.offset.x, e.offset.y)), n instanceof r.Connector && t.changeConnectorPoints(n, function (t) {\n            return t.updatePointsOnPageResize(e.offset.x, e.offset.y);\n          });\n        });\n      }, e.prototype.undo = function (t) {\n        var e = this;\n        t.model.iterateItems(function (n) {\n          n instanceof s.Shape && t.moveShape(n, e.applyOffset(n.position, -e.offset.x, -e.offset.y)), n instanceof r.Connector && t.changeConnectorPoints(n, function (t) {\n            return t.updatePointsOnPageResize(-e.offset.x, -e.offset.y);\n          });\n        });\n      }, e.prototype.applyOffset = function (t, e, n) {\n        return t.clone().offset(e, n);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.UpdatePositionsOnPageResizeHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.GraphInfo = void 0;\n\n    var o = n(196),\n        i = function () {\n      function t(t, e) {\n        this.container = t, this.sourceGraph = e;\n      }\n\n      return Object.defineProperty(t.prototype, \"graph\", {\n        get: function get() {\n          return this._graph || (this._graph = this.getNodeInfoGraph());\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"level\", {\n        get: function get() {\n          return void 0 !== this._level ? this._level : this._level = this.getLevel();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getNodeInfoGraph = function () {\n        return this.sourceGraph.cast(o.LayoutUtils.shapeToLayout);\n      }, t.prototype.getLevel = function () {\n        var t = 0;\n        return this.container && (t = this.getContainerLevel(this.container)), t;\n      }, t.prototype.getContainerLevel = function (t) {\n        var e = 1,\n            n = t.container;\n        return n && (e += this.getContainerLevel(n)), e;\n      }, t;\n    }();\n\n    e.GraphInfo = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.LayoutUtils = void 0;\n\n    var o = n(70),\n        i = function () {\n      function t() {}\n\n      return t.shapeToLayout = function (t) {\n        var e = new o.Margin(0),\n            n = t.rectangle;\n        t.attachedConnectors.filter(function (t) {\n          return !t.beginItem || !t.endItem;\n        }).forEach(function (t) {\n          var o = t.rectangle;\n          e.left = Math.max(e.left, n.x - o.x), e.right = Math.max(e.right, o.right - n.right), e.top = Math.max(e.top, n.y - o.y), e.bottom = Math.max(e.bottom, o.bottom - n.bottom);\n        });\n        var i = new o.NodeInfo(t.key, e, t.size.clone());\n        return i.connectionPoints = t.description.getConnectionPoints(), i;\n      }, t;\n    }();\n\n    e.LayoutUtils = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CommandBase = void 0;\n\n    var o = function () {\n      function t(t) {\n        this.control = t;\n      }\n\n      return t.prototype.execute = function (t) {\n        this.isPermissionsRequired && this.permissionsProvider.lockPermissions();\n        var e = this.getState();\n        if (this.isPermissionsRequired && this.permissionsProvider.unlockPermissions(), !e.enabled) return !1;\n        this.control.beginUpdate();\n        var n = !1;\n        return n = this.isPermissionsRequired ? this.executeWithPermissions(e, t) : this.executeCore(e, t), this.control.endUpdate(), n && this.updateControlState(), n;\n      }, t.prototype.executeWithPermissions = function (t, e) {\n        var n = !1;\n        return this.permissionsProvider.beginStorePermissions(), this.control.history.beginTransaction(), n = this.executeCore(t, e), this.permissionsProvider.isStoredPermissionsGranted() || (this.permissionsProvider.lockPermissions(), this.control.history.undoTransaction(), this.permissionsProvider.unlockPermissions(), n = !1), this.control.history.endTransaction(), this.permissionsProvider.endStorePermissions(), n;\n      }, t.prototype.updateControlState = function () {\n        this.lockInputPositionUpdating() || this.control.selection.inputPosition.reset(), this.lockUIUpdating() || this.control.barManager.updateItemsState();\n      }, Object.defineProperty(t.prototype, \"permissionsProvider\", {\n        get: function get() {\n          return this.control && this.control.permissionsProvider;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"isPermissionsRequired\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.lockUIUpdating = function () {\n        return !1;\n      }, t.prototype.lockInputPositionUpdating = function () {\n        return !1;\n      }, t;\n    }();\n\n    e.CommandBase = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SimpleCommandState = void 0;\n\n    var o = function () {\n      return function (t, e, n, o, i) {\n        this.visible = !0, this.denyUpdateValue = !1, this.enabled = t, this.value = e, this.items = o, this.visible = i, this.defaultValue = n;\n      };\n    }();\n\n    e.SimpleCommandState = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o109,\n        i = this && this.__extends || (_o109 = function o(t, e) {\n      return (_o109 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o109(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.UndoCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t) {\n        return this.control.beginUpdateCanvas(), this.permissionsProvider.lockPermissions(), this.control.history.undo(), this.permissionsProvider.unlockPermissions(), this.control.endUpdateCanvas(), !0;\n      }, e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && this.control.history.canUndo();\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.UndoCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o110,\n        i = this && this.__extends || (_o110 = function o(t, e) {\n      return (_o110 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o110(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RedoCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t) {\n        return this.control.beginUpdateCanvas(), this.permissionsProvider.lockPermissions(), this.control.history.redo(), this.permissionsProvider.unlockPermissions(), this.control.endUpdateCanvas(), !0;\n      }, e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && this.control.history.canRedo();\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.RedoCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o111,\n        i = this && this.__extends || (_o111 = function o(t, e) {\n      return (_o111 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o111(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImportCommand = void 0;\n\n    var r = n(120),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        this.permissionsProvider.lockPermissions();\n        var n = e.data ? e.data : e,\n            o = new r.Importer(this.control.shapeDescriptionManager, n);\n        if (!0 === e.keepExistingItems) o.importItemsData(this.control.model), this.control.importItemsData();else {\n          var i = o.import();\n          this.control.importModel(i);\n        }\n        return this.permissionsProvider.unlockPermissions(), !0;\n      }, e;\n    }(n(56).ExportImportCommandBase);\n\n    e.ImportCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o112,\n        i = this && this.__extends || (_o112 = function o(t, e) {\n      return (_o112 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o112(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ProcessShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Process;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(r.RectangleShapeDescription);\n\n    e.ProcessShapeDescription = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o113,\n        i = this && this.__extends || (_o113 = function o(t, e) {\n      return (_o113 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o113(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DecisionShapeDescription = void 0;\n\n    var r = n(121),\n        s = n(0),\n        a = n(2),\n        c = n(7),\n        u = function (t) {\n      function e() {\n        return t.call(this, new a.Size(c.ShapeDefaultDimension, .75 * c.ShapeDefaultDimension), !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Decision;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(r.DiamondShapeDescription);\n\n    e.DecisionShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o114,\n        i = this && this.__extends || (_o114 = function o(t, e) {\n      return (_o114 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o114(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ManualInputShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(9),\n        u = n(7),\n        h = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.ManualInput;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            c = i + n.height * e.slopeHeightRatio;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(o, c), new a.PathPrimitiveLineToCommand(r, i), new a.PathPrimitiveLineToCommand(r, s), new a.PathPrimitiveLineToCommand(o, s), new a.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.processConnectionPoint = function (t, n) {\n        t.getConnectionPointSide(n) === c.ConnectionPointSide.North && (n.y += e.slopeHeightRatio / 2 * t.size.height);\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.size.height * e.slopeHeightRatio;\n        return t.rectangle.clone().moveRectangle(u.ShapeTextPadding, n).resize(2 * -u.ShapeTextPadding, -n - u.ShapeTextPadding).nonNegativeSize();\n      }, e.slopeHeightRatio = .1, e;\n    }(r.RectangleShapeDescription);\n\n    e.ManualInputShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o115,\n        i = this && this.__extends || (_o115 = function o(t, e) {\n      return (_o115 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o115(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DataShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(9),\n        u = n(7),\n        h = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Data;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            c = n.width,\n            u = n.height,\n            h = Math.min(Math.max(0, u / Math.tan(e.slopeAngle)), c),\n            p = o + h,\n            l = r - h;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(p, i), new a.PathPrimitiveLineToCommand(r, i), new a.PathPrimitiveLineToCommand(l, s), new a.PathPrimitiveLineToCommand(o, s), new a.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.processConnectionPoint = function (t, n) {\n        var o = t.size.height / Math.tan(e.slopeAngle),\n            i = t.getConnectionPointSide(n);\n        i === c.ConnectionPointSide.East ? n.x -= o / 2 : i === c.ConnectionPointSide.West && (n.x += o / 2);\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = Math.min(Math.max(0, t.size.height / Math.tan(e.slopeAngle)), t.size.width);\n        return t.rectangle.clone().moveRectangle(n, u.ShapeTextPadding).resize(2 * -n, 2 * -u.ShapeTextPadding);\n      }, e.slopeAngle = 81 * Math.PI / 180, e;\n    }(r.RectangleShapeDescription);\n\n    e.DataShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o116,\n        i = this && this.__extends || (_o116 = function o(t, e) {\n      return (_o116 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o116(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TerminatorShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(2),\n        u = n(7),\n        h = n(11),\n        p = n(3),\n        l = function (t) {\n      function e() {\n        return t.call(this, new c.Size(u.ShapeDefaultDimension, .5 * u.ShapeDefaultDimension), !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Terminator;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            c = n.width,\n            u = n.center.y,\n            h = o + c * e.curveWidthRatio,\n            p = o + c * (1 - e.curveWidthRatio);\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(h, i), new a.PathPrimitiveLineToCommand(p, i), new a.PathPrimitiveQuadraticCurveToCommand(r, i, r, u), new a.PathPrimitiveQuadraticCurveToCommand(r, s, p, s), new a.PathPrimitiveLineToCommand(h, s), new a.PathPrimitiveQuadraticCurveToCommand(o, s, o, u), new a.PathPrimitiveQuadraticCurveToCommand(o, i, h, i), new a.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = p.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);\n        return h.Rectangle.fromGeometry(t.position.clone().offset((t.size.width - e.width) / 2, (t.size.height - e.height) / 2), e);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return p.GeometryUtils.getEllipseByEnscribedRectangle(t);\n      }, e.curveWidthRatio = .3, e;\n    }(r.RectangleShapeDescription);\n\n    e.TerminatorShapeDescription = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o117,\n        i = this && this.__extends || (_o117 = function o(t, e) {\n      return (_o117 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o117(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PredefinedProcessShapeDescription = e.PredefinedProcessEdgeParameterName = void 0;\n    var r = n(18),\n        s = n(0),\n        a = n(38),\n        c = n(32),\n        u = n(1),\n        h = n(5);\n    e.PredefinedProcessEdgeParameterName = \"e\";\n\n    var p = function (t) {\n      function n() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.PredefinedProcess;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(n.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.createShapePrimitives = function (n) {\n        var o = n.rectangle,\n            i = o.x,\n            r = o.y,\n            s = o.right,\n            a = o.bottom,\n            c = i + n.parameters.get(e.PredefinedProcessEdgeParameterName).value,\n            u = s - n.parameters.get(e.PredefinedProcessEdgeParameterName).value;\n        return t.prototype.createShapePrimitives.call(this, n).concat([new h.PathPrimitive([new h.PathPrimitiveMoveToCommand(c, r), new h.PathPrimitiveLineToCommand(c, a), new h.PathPrimitiveMoveToCommand(u, r), new h.PathPrimitiveLineToCommand(u, a)], n.style)]);\n      }, n.prototype.createParameters = function (t) {\n        t.add(new a.ShapeParameter(e.PredefinedProcessEdgeParameterName, .1 * this.defaultSize.width));\n      }, n.prototype.normalizeParameters = function (t, o) {\n        this.changeParameterValue(o, e.PredefinedProcessEdgeParameterName, function (e) {\n          return Math.max(n.minEdge, Math.min(.3 * t.size.width, e.value));\n        });\n      }, n.prototype.modifyParameters = function (t, n, o, i) {\n        this.changeParameterValue(n, e.PredefinedProcessEdgeParameterName, function (t) {\n          return t.value + o;\n        }), this.normalizeParameters(t, n);\n      }, n.prototype.getParameterPoints = function (t) {\n        return [new c.ShapeParameterPoint(\"c\", new u.Point(t.normalizeX(t.position.x + t.parameters.get(e.PredefinedProcessEdgeParameterName).value), t.position.y))];\n      }, n.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle,\n            o = t.parameters.get(e.PredefinedProcessEdgeParameterName).value;\n        return n.clone().resize(-2 * o, 0).clone().moveRectangle(o, 0);\n      }, n.minEdge = 72, n;\n    }(r.RectangleShapeDescription);\n\n    e.PredefinedProcessShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o118,\n        i = this && this.__extends || (_o118 = function o(t, e) {\n      return (_o118 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o118(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowUpDownShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(32),\n        a = n(1),\n        c = n(92),\n        u = n(0),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.ArrowUpDown;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            s = e.bottom,\n            a = e.width,\n            u = e.center.x,\n            h = (a - t.parameters.get(c.ArrowVerticalLineWidthParameterName).value) / 2,\n            p = t.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value,\n            l = t.normalizeX(n + h),\n            d = t.normalizeY(o + p),\n            f = t.normalizeX(i - h),\n            y = t.normalizeY(s - p);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(u, o), new r.PathPrimitiveLineToCommand(i, d), new r.PathPrimitiveLineToCommand(f, d), new r.PathPrimitiveLineToCommand(f, y), new r.PathPrimitiveLineToCommand(i, y), new r.PathPrimitiveLineToCommand(u, s), new r.PathPrimitiveLineToCommand(n, y), new r.PathPrimitiveLineToCommand(l, y), new r.PathPrimitiveLineToCommand(l, d), new r.PathPrimitiveLineToCommand(n, d), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.normalizeParameters = function (t, e) {\n        this.changeParameterValue(e, c.ArrowVerticalTriangleHeightParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.height / 2 - 2 * t.strokeWidth, e.value));\n        }), this.changeParameterValue(e, c.ArrowVerticalLineWidthParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.width, e.value));\n        });\n      }, e.prototype.modifyParameters = function (t, e, n, o) {\n        this.changeParameterValue(e, c.ArrowVerticalTriangleHeightParameterName, function (t) {\n          return t.value + o;\n        }), this.changeParameterValue(e, c.ArrowVerticalLineWidthParameterName, function (t) {\n          return t.value - 2 * n;\n        }), this.normalizeParameters(t, e);\n      }, e.prototype.getParameterPoints = function (t) {\n        return [new s.ShapeParameterPoint(\"c\", new a.Point(t.normalizeX(t.position.x + (t.size.width - t.parameters.get(c.ArrowVerticalLineWidthParameterName).value) / 2), t.normalizeY(t.position.y + t.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value)))];\n      }, e;\n    }(c.ArrowVerticalShapeDescription);\n\n    e.ArrowUpDownShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o119,\n        i = this && this.__extends || (_o119 = function o(t, e) {\n      return (_o119 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o119(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowRightShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(93),\n        a = n(32),\n        c = n(1),\n        u = n(0),\n        h = n(9),\n        p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.ArrowRight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            a = e.bottom,\n            c = e.width,\n            u = e.height,\n            h = e.center.y,\n            p = c - t.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value,\n            l = (u - t.parameters.get(s.ArrowVerticalLineHeightParameterName).value) / 2,\n            d = t.normalizeX(n + p),\n            f = t.normalizeY(o + l),\n            y = t.normalizeY(a - l);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(n, f), new r.PathPrimitiveLineToCommand(d, f), new r.PathPrimitiveLineToCommand(d, o), new r.PathPrimitiveLineToCommand(i, h), new r.PathPrimitiveLineToCommand(d, a), new r.PathPrimitiveLineToCommand(d, y), new r.PathPrimitiveLineToCommand(n, y), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.modifyParameters = function (t, e, n, o) {\n        this.changeParameterValue(e, s.ArrowVerticalTriangleWidthParameterName, function (t) {\n          return t.value - n;\n        }), this.changeParameterValue(e, s.ArrowVerticalLineHeightParameterName, function (t) {\n          return t.value - 2 * o;\n        }), this.normalizeParameters(t, e);\n      }, e.prototype.getParameterPoints = function (t) {\n        return [new a.ShapeParameterPoint(\"c\", new c.Point(t.normalizeX(t.position.x + t.size.width - t.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value), t.normalizeY(t.position.y + (t.size.height - t.parameters.get(s.ArrowVerticalLineHeightParameterName).value) / 2)))];\n      }, e.prototype.processConnectionPoint = function (e, n) {\n        var o = e.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value;\n\n        if (n.x > e.position.x + e.size.width - o) {\n          var i = e.size.height / 2 / o,\n              r = (n.x - (e.position.x + e.size.width - o)) * i,\n              a = e.getConnectionPointSide(n);\n          a === h.ConnectionPointSide.North ? n.y += r : a === h.ConnectionPointSide.South && (n.y -= r);\n        } else t.prototype.processConnectionPoint.call(this, e, n);\n      }, e;\n    }(s.ArrowHorizontalShapeDescription);\n\n    e.ArrowRightShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o120,\n        i = this && this.__extends || (_o120 = function o(t, e) {\n      return (_o120 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o120(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowUpShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(32),\n        a = n(1),\n        c = n(92),\n        u = n(0),\n        h = n(9),\n        p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.ArrowUp;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            s = e.bottom,\n            a = e.width,\n            u = e.center.x,\n            h = (a - t.parameters.get(c.ArrowVerticalLineWidthParameterName).value) / 2,\n            p = t.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value,\n            l = t.normalizeX(n + h),\n            d = t.normalizeY(o + p),\n            f = t.normalizeX(i - h);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(u, o), new r.PathPrimitiveLineToCommand(i, d), new r.PathPrimitiveLineToCommand(f, d), new r.PathPrimitiveLineToCommand(f, s), new r.PathPrimitiveLineToCommand(l, s), new r.PathPrimitiveLineToCommand(l, d), new r.PathPrimitiveLineToCommand(n, d), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.modifyParameters = function (t, e, n, o) {\n        this.changeParameterValue(e, c.ArrowVerticalTriangleHeightParameterName, function (t) {\n          return t.value + o;\n        }), this.changeParameterValue(e, c.ArrowVerticalLineWidthParameterName, function (t) {\n          return t.value - 2 * n;\n        }), this.normalizeParameters(t, e);\n      }, e.prototype.getParameterPoints = function (t) {\n        return [new s.ShapeParameterPoint(\"c\", new a.Point(t.normalizeX(t.position.x + (t.size.width - t.parameters.get(c.ArrowVerticalLineWidthParameterName).value) / 2), t.normalizeY(t.position.y + t.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value)))];\n      }, e.prototype.processConnectionPoint = function (e, n) {\n        var o = e.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value;\n\n        if (n.y < e.position.y + o) {\n          var i = e.size.width / 2 / o,\n              r = (e.position.y + o - n.y) * i,\n              s = e.getConnectionPointSide(n);\n          s === h.ConnectionPointSide.East ? n.x -= r : s === h.ConnectionPointSide.West && (n.x += r);\n        } else t.prototype.processConnectionPoint.call(this, e, n);\n      }, e;\n    }(c.ArrowVerticalShapeDescription);\n\n    e.ArrowUpShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o121,\n        i = this && this.__extends || (_o121 = function o(t, e) {\n      return (_o121 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o121(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CrossShapeDescription = e.CrossVerticalWidthParameterName = e.CrossHorizontalWidthParameterName = void 0;\n    var r = n(7),\n        s = n(1),\n        a = n(38),\n        c = n(32),\n        u = n(5),\n        h = n(0);\n    e.CrossHorizontalWidthParameterName = \"chw\", e.CrossVerticalWidthParameterName = \"cvw\";\n\n    var p = function (t) {\n      function n() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"key\", {\n        get: function get() {\n          return h.ShapeTypes.Cross;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(n.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            a = n.width,\n            c = n.height,\n            h = (a - t.parameters.get(e.CrossHorizontalWidthParameterName).value) / 2,\n            p = (c - t.parameters.get(e.CrossVerticalWidthParameterName).value) / 2,\n            l = t.normalizeX(o + h),\n            d = t.normalizeY(i + p),\n            f = t.normalizeX(r - h),\n            y = t.normalizeY(s - p);\n        return [new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(o, d), new u.PathPrimitiveLineToCommand(l, d), new u.PathPrimitiveLineToCommand(l, i), new u.PathPrimitiveLineToCommand(f, i), new u.PathPrimitiveLineToCommand(f, d), new u.PathPrimitiveLineToCommand(r, d), new u.PathPrimitiveLineToCommand(r, y), new u.PathPrimitiveLineToCommand(f, y), new u.PathPrimitiveLineToCommand(f, s), new u.PathPrimitiveLineToCommand(l, s), new u.PathPrimitiveLineToCommand(l, y), new u.PathPrimitiveLineToCommand(o, y), new u.PathPrimitiveClosePathCommand()], t.style)];\n      }, n.prototype.createParameters = function (t) {\n        t.addRange([new a.ShapeParameter(e.CrossHorizontalWidthParameterName, .2 * this.defaultSize.width), new a.ShapeParameter(e.CrossVerticalWidthParameterName, .2 * this.defaultSize.height)]);\n      }, n.prototype.normalizeParameters = function (t, n) {\n        this.changeParameterValue(n, e.CrossHorizontalWidthParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.width, e.value));\n        }), this.changeParameterValue(n, e.CrossVerticalWidthParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.height, e.value));\n        });\n      }, n.prototype.modifyParameters = function (t, n, o, i) {\n        this.changeParameterValue(n, e.CrossHorizontalWidthParameterName, function (t) {\n          return t.value - 2 * o;\n        }), this.changeParameterValue(n, e.CrossVerticalWidthParameterName, function (t) {\n          return t.value - 2 * i;\n        }), this.normalizeParameters(t, n);\n      }, n.prototype.getParameterPoints = function (t) {\n        return [new c.ShapeParameterPoint(\"c\", new s.Point(t.normalizeX(t.position.x + (t.size.width - t.parameters.get(e.CrossHorizontalWidthParameterName).value) / 2), t.normalizeY(t.position.y + (t.size.height - t.parameters.get(e.CrossVerticalWidthParameterName).value) / 2)))];\n      }, n.prototype.getTextRectangle = function (t) {\n        return t.rectangle.clone().inflate(-r.ShapeTextPadding, -r.ShapeTextPadding);\n      }, n.prototype.getSizeByText = function (t, e) {\n        return t.clone().offset(2 * r.ShapeTextPadding, 2 * r.ShapeTextPadding);\n      }, n;\n    }(r.ShapeDescription);\n\n    e.CrossShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o122,\n        i = this && this.__extends || (_o122 = function o(t, e) {\n      return (_o122 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o122(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.HeartShapeDescription = void 0;\n\n    var r = n(7),\n        s = n(5),\n        a = n(0),\n        c = n(45),\n        u = n(9),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return a.ShapeTypes.Heart;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createConnectionPoints = function () {\n        return [new c.ConnectionPoint(.5, .15, u.ConnectionPointSide.North), new c.ConnectionPoint(1, .25, u.ConnectionPointSide.East), new c.ConnectionPoint(.5, 1, u.ConnectionPointSide.South), new c.ConnectionPoint(0, .25, u.ConnectionPointSide.West)];\n      }, e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            r = e.bottom,\n            a = e.width,\n            c = e.height;\n        return [new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(i - .25 * a, o), new s.PathPrimitiveCubicCurveToCommand(i - .15 * a, o, i, o + .1 * c, i, o + .25 * c), new s.PathPrimitiveCubicCurveToCommand(i, o + .3 * c, i - .02 * a, o + .35 * c, i - .05 * a, o + .4 * c), new s.PathPrimitiveLineToCommand(e.center.x, r), new s.PathPrimitiveLineToCommand(n + .05 * a, o + .4 * c), new s.PathPrimitiveCubicCurveToCommand(n + .02 * a, o + .35 * c, n, o + .3 * c, n, o + .25 * c), new s.PathPrimitiveCubicCurveToCommand(n, o + .1 * c, n + .15 * a, o, n + .25 * a, o), new s.PathPrimitiveCubicCurveToCommand(n + .3 * a, o, n + .45 * a, o + .03 * c, n + .5 * a, o + .15 * c), new s.PathPrimitiveCubicCurveToCommand(i - .45 * a, o + .03 * c, i - .3 * a, o, i - .25 * a, o), new s.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        return t.rectangle.clone().inflate(-r.ShapeTextPadding, -r.ShapeTextPadding);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return e.size.clone().offset(2 * r.ShapeTextPadding, 2 * r.ShapeTextPadding);\n      }, e;\n    }(r.ShapeDescription);\n\n    e.HeartShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o123,\n        i = this && this.__extends || (_o123 = function o(t, e) {\n      return (_o123 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o123(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.OctagonShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(0),\n        a = n(94),\n        c = n(3),\n        u = n(11),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Octagon;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"angleCount\", {\n        get: function get() {\n          return 8;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            s = e.bottom,\n            a = e.width,\n            c = e.height,\n            u = Math.PI - this.angle,\n            h = a / (1 + 2 * Math.cos(u)),\n            p = c / (1 + 2 * Math.cos(u)),\n            l = n + (a - h) / 2,\n            d = l + h,\n            f = o + (c - p) / 2,\n            y = f + p;\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(l, o), new r.PathPrimitiveLineToCommand(d, o), new r.PathPrimitiveLineToCommand(i, f), new r.PathPrimitiveLineToCommand(i, y), new r.PathPrimitiveLineToCommand(d, s), new r.PathPrimitiveLineToCommand(l, s), new r.PathPrimitiveLineToCommand(n, y), new r.PathPrimitiveLineToCommand(n, f), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.calculateHeight = function (t) {\n        return t;\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = c.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);\n        return u.Rectangle.fromGeometry(t.position.clone().offset((t.size.width - e.width) / 2, (t.size.height - e.height) / 2), e);\n      }, e.prototype.getSizeByText = function (t, e) {\n        return c.GeometryUtils.getEllipseByEnscribedRectangle(t);\n      }, e;\n    }(a.PolygonShapeDescription);\n\n    e.OctagonShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o124,\n        i = this && this.__extends || (_o124 = function o(t, e) {\n      return (_o124 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o124(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.StarShapeDescription = e.StarConvexParameterName = void 0;\n    var r = n(5),\n        s = n(0),\n        a = n(123),\n        c = n(38),\n        u = n(32),\n        h = n(1),\n        p = n(9);\n    e.StarConvexParameterName = \"sc\";\n\n    var l = function (t) {\n      function n() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Star;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            s = n.right,\n            a = n.width,\n            c = n.height,\n            u = this.getActualBottom(i, n.bottom, a, c),\n            h = n.center.x,\n            p = i + (u - i) / 2,\n            l = c / a,\n            d = Math.PI - this.angle,\n            f = a / 2 * Math.tan(d / 2) * l,\n            y = i + f,\n            g = (c - f) / Math.tan(d) / l,\n            m = o + g,\n            v = s - g,\n            P = t.parameters.get(e.StarConvexParameterName).value,\n            C = this.getInnerPointDistance(h, h, s, p, i, y);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(h, i), new r.PathPrimitiveLineToCommand(this.getInnerPointPos(h, h, s, P, C), this.getInnerPointPos(p, i, y, P, C)), new r.PathPrimitiveLineToCommand(s, y), new r.PathPrimitiveLineToCommand(this.getInnerPointPos(h, s, v, P, C), this.getInnerPointPos(p, y, u, P, C)), new r.PathPrimitiveLineToCommand(v, u), new r.PathPrimitiveLineToCommand(this.getInnerPointPos(h, v, m, P, C), this.getInnerPointPos(p, u, u, P, C)), new r.PathPrimitiveLineToCommand(m, u), new r.PathPrimitiveLineToCommand(this.getInnerPointPos(h, m, o, P, C), this.getInnerPointPos(p, u, y, P, C)), new r.PathPrimitiveLineToCommand(o, y), new r.PathPrimitiveLineToCommand(this.getInnerPointPos(h, o, h, P, C), this.getInnerPointPos(p, y, i, P, C)), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, n.prototype.createParameters = function (t) {\n        t.addRange([new c.ShapeParameter(e.StarConvexParameterName, 300)]);\n      }, n.prototype.normalizeParameters = function (t, n) {\n        var o = t.rectangle,\n            i = o.y,\n            r = o.right,\n            s = o.width,\n            a = o.height,\n            c = this.getActualBottom(i, o.bottom, s, a),\n            u = o.center.x,\n            h = i + (c - i) / 2,\n            p = a / s,\n            l = Math.PI - this.angle,\n            d = i + s / 2 * Math.tan(l / 2) * p,\n            f = this.getInnerPointDistance(u, u, r, h, i, d);\n        this.changeParameterValue(n, e.StarConvexParameterName, function (t) {\n          return Math.max(0, Math.min(f, t.value));\n        });\n      }, n.prototype.modifyParameters = function (t, n, o, i) {\n        var r = Math.sqrt(Math.pow(o, 2) + Math.pow(i, 2));\n        (o < 0 || i > 0) && (r = -r), this.changeParameterValue(n, e.StarConvexParameterName, function (t) {\n          return t.value + r;\n        }), this.normalizeParameters(t, n);\n      }, n.prototype.getParameterPoints = function (t) {\n        var n = t.rectangle,\n            o = n.y,\n            i = n.right,\n            r = n.width,\n            s = n.height,\n            a = this.getActualBottom(o, n.bottom, r, s),\n            c = n.center.x,\n            p = o + (a - o) / 2,\n            l = s / r,\n            d = Math.PI - this.angle,\n            f = o + r / 2 * Math.tan(d / 2) * l,\n            y = t.parameters.get(e.StarConvexParameterName).value,\n            g = this.getInnerPointDistance(c, c, i, p, o, f),\n            m = this.getInnerPointPos(c, c, i, y, g),\n            v = this.getInnerPointPos(p, o, f, y, g);\n        return [new u.ShapeParameterPoint(\"c\", new h.Point(m, v))];\n      }, n.prototype.processConnectionPoint = function (n, o) {\n        if (t.prototype.processConnectionPoint.call(this, n, o), n.getConnectionPointSide(o) === p.ConnectionPointSide.South) {\n          var i = n.rectangle,\n              r = i.y,\n              s = i.right,\n              a = i.width,\n              c = i.height,\n              u = this.getActualBottom(r, i.bottom, a, c),\n              h = i.center.x,\n              l = r + (u - r) / 2,\n              d = c / a,\n              f = Math.PI - this.angle,\n              y = r + a / 2 * Math.tan(f / 2) * d,\n              g = n.parameters.get(e.StarConvexParameterName).value,\n              m = this.getInnerPointDistance(h, h, s, l, r, y);\n          o.y = this.getInnerPointPos(l, u, u, g, m);\n        }\n      }, n.prototype.getInnerPointDistanceByAxis = function (t, e, n) {\n        return Math.min(e, n) + Math.abs(e - n) / 2 - t;\n      }, n.prototype.getInnerPointPos = function (t, e, n, o, i) {\n        var r = Math.min(1, o / i);\n        return t + this.getInnerPointDistanceByAxis(t, e, n) * r;\n      }, n.prototype.getInnerPointDistance = function (t, e, n, o, i, r) {\n        var s = this.getInnerPointDistanceByAxis(t, e, n),\n            a = this.getInnerPointDistanceByAxis(o, i, r);\n        return Math.sqrt(Math.pow(s, 2) + Math.pow(a, 2));\n      }, n.prototype.getActualBottom = function (e, n, o, i) {\n        var r = e + t.prototype.calculateHeight.call(this, o) * i / o;\n        return r < n ? r : n;\n      }, n.prototype.calculateHeight = function (t) {\n        return t;\n      }, n;\n    }(a.PentagonShapeDescription);\n\n    e.StarShapeDescription = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o125,\n        i = this && this.__extends || (_o125 = function o(t, e) {\n      return (_o125 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o125(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowDownShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(32),\n        a = n(1),\n        c = n(92),\n        u = n(0),\n        h = n(9),\n        p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.ArrowDown;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            s = e.bottom,\n            a = e.width,\n            u = e.height,\n            h = e.center.x,\n            p = (a - t.parameters.get(c.ArrowVerticalLineWidthParameterName).value) / 2,\n            l = u - t.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value,\n            d = t.normalizeX(n + p),\n            f = t.normalizeY(o + l),\n            y = t.normalizeX(i - p);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(d, o), new r.PathPrimitiveLineToCommand(y, o), new r.PathPrimitiveLineToCommand(y, f), new r.PathPrimitiveLineToCommand(i, f), new r.PathPrimitiveLineToCommand(h, s), new r.PathPrimitiveLineToCommand(n, f), new r.PathPrimitiveLineToCommand(d, f), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.modifyParameters = function (t, e, n, o) {\n        this.changeParameterValue(e, c.ArrowVerticalTriangleHeightParameterName, function (t) {\n          return t.value - o;\n        }), this.changeParameterValue(e, c.ArrowVerticalLineWidthParameterName, function (t) {\n          return t.value - 2 * n;\n        }), this.normalizeParameters(t, e);\n      }, e.prototype.getParameterPoints = function (t) {\n        return [new s.ShapeParameterPoint(\"c\", new a.Point(t.normalizeX(t.position.x + (t.size.width - t.parameters.get(c.ArrowVerticalLineWidthParameterName).value) / 2), t.normalizeY(t.position.y + t.size.height - t.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value)))];\n      }, e.prototype.processConnectionPoint = function (e, n) {\n        var o = e.parameters.get(c.ArrowVerticalTriangleHeightParameterName).value;\n\n        if (n.y > e.position.y + e.size.height - o) {\n          var i = e.size.width / 2 / o,\n              r = (n.y - (e.position.y + e.size.height - o)) * i,\n              s = e.getConnectionPointSide(n);\n          s === h.ConnectionPointSide.East ? n.x -= r : s === h.ConnectionPointSide.West && (n.x += r);\n        } else t.prototype.processConnectionPoint.call(this, e, n);\n      }, e;\n    }(c.ArrowVerticalShapeDescription);\n\n    e.ArrowDownShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o126,\n        i = this && this.__extends || (_o126 = function o(t, e) {\n      return (_o126 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o126(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowLeftRightShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(93),\n        a = n(32),\n        c = n(1),\n        u = n(0),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.ArrowLeftRight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            a = e.bottom,\n            c = e.height,\n            u = e.center.y,\n            h = t.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value,\n            p = (c - t.parameters.get(s.ArrowVerticalLineHeightParameterName).value) / 2,\n            l = t.normalizeX(n + h),\n            d = t.normalizeY(o + p),\n            f = t.normalizeX(i - h),\n            y = t.normalizeY(a - p);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(n, u), new r.PathPrimitiveLineToCommand(l, o), new r.PathPrimitiveLineToCommand(l, d), new r.PathPrimitiveLineToCommand(f, d), new r.PathPrimitiveLineToCommand(f, o), new r.PathPrimitiveLineToCommand(i, u), new r.PathPrimitiveLineToCommand(f, a), new r.PathPrimitiveLineToCommand(f, y), new r.PathPrimitiveLineToCommand(l, y), new r.PathPrimitiveLineToCommand(l, a), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.normalizeParameters = function (t, e) {\n        this.changeParameterValue(e, s.ArrowVerticalTriangleWidthParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.width / 2 - 2 * t.strokeWidth, e.value));\n        }), this.changeParameterValue(e, s.ArrowVerticalLineHeightParameterName, function (e) {\n          return Math.max(0, Math.min(t.size.height, e.value));\n        });\n      }, e.prototype.modifyParameters = function (t, e, n, o) {\n        this.changeParameterValue(e, s.ArrowVerticalTriangleWidthParameterName, function (t) {\n          return t.value + n;\n        }), this.changeParameterValue(e, s.ArrowVerticalLineHeightParameterName, function (t) {\n          return t.value - 2 * o;\n        }), this.normalizeParameters(t, e);\n      }, e.prototype.getParameterPoints = function (t) {\n        return [new a.ShapeParameterPoint(\"c\", new c.Point(t.normalizeX(t.position.x + t.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value), t.normalizeY(t.position.y + (t.size.height - t.parameters.get(s.ArrowVerticalLineHeightParameterName).value) / 2)))];\n      }, e;\n    }(s.ArrowHorizontalShapeDescription);\n\n    e.ArrowLeftRightShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o127,\n        i = this && this.__extends || (_o127 = function o(t, e) {\n      return (_o127 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o127(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ArrowLeftShapeDescription = void 0;\n\n    var r = n(5),\n        s = n(93),\n        a = n(32),\n        c = n(1),\n        u = n(0),\n        h = n(9),\n        p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.ArrowLeft;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            a = e.bottom,\n            c = e.height,\n            u = e.center.y,\n            h = t.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value,\n            p = (c - t.parameters.get(s.ArrowVerticalLineHeightParameterName).value) / 2,\n            l = t.normalizeX(n + h),\n            d = t.normalizeY(o + p),\n            f = t.normalizeY(a - p);\n        return [new r.PathPrimitive([new r.PathPrimitiveMoveToCommand(n, u), new r.PathPrimitiveLineToCommand(l, o), new r.PathPrimitiveLineToCommand(l, d), new r.PathPrimitiveLineToCommand(i, d), new r.PathPrimitiveLineToCommand(i, f), new r.PathPrimitiveLineToCommand(l, f), new r.PathPrimitiveLineToCommand(l, a), new r.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.modifyParameters = function (t, e, n, o) {\n        this.changeParameterValue(e, s.ArrowVerticalTriangleWidthParameterName, function (t) {\n          return t.value + n;\n        }), this.changeParameterValue(e, s.ArrowVerticalLineHeightParameterName, function (t) {\n          return t.value - 2 * o;\n        }), this.normalizeParameters(t, e);\n      }, e.prototype.getParameterPoints = function (t) {\n        return [new a.ShapeParameterPoint(\"c\", new c.Point(t.normalizeX(t.position.x + t.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value), t.normalizeY(t.position.y + (t.size.height - t.parameters.get(s.ArrowVerticalLineHeightParameterName).value) / 2)))];\n      }, e.prototype.processConnectionPoint = function (e, n) {\n        var o = e.parameters.get(s.ArrowVerticalTriangleWidthParameterName).value;\n\n        if (n.x < e.position.x + o) {\n          var i = e.size.height / 2 / o,\n              r = (e.position.x + o - n.x) * i,\n              a = e.getConnectionPointSide(n);\n          a === h.ConnectionPointSide.North ? n.y += r : a === h.ConnectionPointSide.South && (n.y -= r);\n        } else t.prototype.processConnectionPoint.call(this, e, n);\n      }, e;\n    }(s.ArrowHorizontalShapeDescription);\n\n    e.ArrowLeftShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o128,\n        i = this && this.__extends || (_o128 = function o(t, e) {\n      return (_o128 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o128(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MultipleDocumentsShapeDescription = void 0;\n\n    var r = n(0),\n        s = n(5),\n        a = n(126),\n        c = n(55),\n        u = n(17),\n        h = n(7),\n        p = n(2),\n        l = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return r.ShapeTypes.MultipleDocuments;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t, n) {\n        var o = t.rectangle,\n            i = t.rectangle,\n            r = i.width,\n            s = i.height,\n            a = n ? e.documentsOffsetRatioForToolbox : e.documentsOffsetRatio,\n            c = Math.ceil(r * a),\n            h = Math.ceil(s * a),\n            p = (o = o.clone().inflate(-c, -h).clone().moveRectangle(-c, -h)).clone().moveRectangle(c, h),\n            l = p.clone().moveRectangle(c, h),\n            d = u.RenderUtils.generateSvgElementId(\"clipRect\");\n        return [].concat(this.createDocumentPrimitives(o, t.style, d + \"1\", p)).concat(this.createDocumentPrimitives(p, t.style, d + \"2\", l)).concat(this.createDocumentPrimitives(l, t.style));\n      }, e.prototype.createDocumentPrimitives = function (t, e, n, o) {\n        var i = t.x,\n            r = t.y,\n            u = t.right,\n            h = t.bottom,\n            p = t.width,\n            l = t.height,\n            d = t.center.x,\n            f = l * a.DocumentShapeDescription.curveOffsetRatio,\n            y = [];\n        return y = y.concat([new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(i, r), new s.PathPrimitiveLineToCommand(u, r), new s.PathPrimitiveLineToCommand(u, h), new s.PathPrimitiveQuadraticCurveToCommand(u - .25 * p, h - 2 * f, d, h - f), new s.PathPrimitiveQuadraticCurveToCommand(i + .25 * p, h + f, i, h - f), new s.PathPrimitiveClosePathCommand()], e, void 0, o && n)]), o && n && (y = y.concat([new c.ClipPathPrimitive(n, [new s.PathPrimitive([new s.PathPrimitiveMoveToCommand(i - e.strokeWidth, r - e.strokeWidth), new s.PathPrimitiveLineToCommand(u + e.strokeWidth, r - e.strokeWidth), new s.PathPrimitiveLineToCommand(u + e.strokeWidth, o.y), new s.PathPrimitiveLineToCommand(o.x, o.y), new s.PathPrimitiveLineToCommand(o.x, h + e.strokeWidth), new s.PathPrimitiveLineToCommand(i - e.strokeWidth, h + e.strokeWidth), new s.PathPrimitiveClosePathCommand()])])])), y;\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle,\n            o = n.width * e.documentsOffsetRatio,\n            i = n.height * e.documentsOffsetRatio;\n        return (n = n.clone().inflate(-o, -i).clone().moveRectangle(-o, -i)).clone().moveRectangle(2 * o + h.ShapeTextPadding, 2 * i + h.ShapeTextPadding).clone().resize(-2 * h.ShapeTextPadding, -n.height * a.DocumentShapeDescription.curveOffsetRatio - 2 * h.ShapeTextPadding);\n      }, e.prototype.getSizeByText = function (t, n) {\n        return new p.Size((t.width + 2 * h.ShapeTextPadding) / (1 - 2 * e.documentsOffsetRatio), (t.height + 2 * h.ShapeTextPadding) / ((1 - a.DocumentShapeDescription.curveOffsetRatio) * (1 - e.documentsOffsetRatio))).nonNegativeSize();\n      }, e.documentsOffsetRatio = .1, e.documentsOffsetRatioForToolbox = .16, e;\n    }(a.DocumentShapeDescription);\n\n    e.MultipleDocumentsShapeDescription = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o129,\n        i = this && this.__extends || (_o129 = function o(t, e) {\n      return (_o129 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o129(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PreparationShapeDescription = void 0;\n\n    var r = n(0),\n        s = n(2),\n        a = n(7),\n        c = function (t) {\n      function e() {\n        var e = t.call(this, !0) || this;\n        return e.defaultSize = new s.Size(a.ShapeDefaultDimension, .75 * a.ShapeDefaultDimension), e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return r.ShapeTypes.Preparation;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(n(124).HexagonShapeDescription);\n\n    e.PreparationShapeDescription = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o130,\n        i = this && this.__extends || (_o130 = function o(t, e) {\n      return (_o130 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o130(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.HardDiskShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(54),\n        u = n(7),\n        h = n(2),\n        p = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.HardDisk;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            u = n.width,\n            h = n.center.y,\n            p = u * e.arcWidthRatio;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(r - p / 2, i), new a.PathPrimitiveLineToCommand(o + p / 2, i), new a.PathPrimitiveArcToCommand(p / 2, (s - i) / 2, 0, !1, !1, o + p / 2, s), new a.PathPrimitiveLineToCommand(r - p / 2, s)], t.style), new c.EllipsePrimitive(r - p / 2, h, p / 2, (s - i) / 2, t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle,\n            o = n.width * e.arcWidthRatio * 1.5;\n        return n.clone().resize(-o - 2 * u.ShapeTextPadding, -2 * u.ShapeTextPadding).moveRectangle(u.ShapeTextPadding, u.ShapeTextPadding).nonNegativeSize();\n      }, e.prototype.getSizeByText = function (t, n) {\n        return new h.Size((t.width + 2 * u.ShapeTextPadding) / (1 - 1.5 * e.arcWidthRatio), n.size.height + u.ShapeTextPadding);\n      }, e.arcWidthRatio = .2, e;\n    }(r.RectangleShapeDescription);\n\n    e.HardDiskShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o131,\n        i = this && this.__extends || (_o131 = function o(t, e) {\n      return (_o131 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o131(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DatabaseShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(54),\n        u = function (t) {\n      function e() {\n        var e = t.call(this, void 0, !0) || this;\n        return e.defaultSize.width = e.defaultSize.height, e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Database;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            u = n.height,\n            h = n.center.x,\n            p = u * e.arcWidthRatio;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(r, i + p / 2), new a.PathPrimitiveLineToCommand(r, s - p / 2), new a.PathPrimitiveArcToCommand((r - o) / 2, p / 2, 0, !1, !0, o, s - p / 2), new a.PathPrimitiveLineToCommand(o, i + p / 2)], t.style), new c.EllipsePrimitive(h, i + p / 2, (r - o) / 2, p / 2, t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle,\n            o = n.height * e.arcWidthRatio;\n        return n.clone().resize(0, -o).clone().moveRectangle(0, o);\n      }, e.arcWidthRatio = .2, e;\n    }(r.RectangleShapeDescription);\n\n    e.DatabaseShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o132,\n        i = this && this.__extends || (_o132 = function o(t, e) {\n      return (_o132 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o132(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.InternalStorageShapeDescription = e.InternalStorageVerticalEdgeParameterName = e.InternalStorageHorizontalEdgeParameterName = void 0;\n    var r = n(18),\n        s = n(0),\n        a = n(38),\n        c = n(32),\n        u = n(1),\n        h = n(5);\n    e.InternalStorageHorizontalEdgeParameterName = \"he\", e.InternalStorageVerticalEdgeParameterName = \"ve\";\n\n    var p = function (t) {\n      function n() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(n, t), Object.defineProperty(n.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.InternalStorage;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(n.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), n.prototype.createShapePrimitives = function (n) {\n        var o = n.rectangle,\n            i = o.x,\n            r = o.y,\n            s = o.right,\n            a = o.bottom,\n            c = i + n.parameters.get(e.InternalStorageHorizontalEdgeParameterName).value,\n            u = r + n.parameters.get(e.InternalStorageVerticalEdgeParameterName).value;\n        return t.prototype.createShapePrimitives.call(this, n).concat([new h.PathPrimitive([new h.PathPrimitiveMoveToCommand(c, r), new h.PathPrimitiveLineToCommand(c, a), new h.PathPrimitiveMoveToCommand(i, u), new h.PathPrimitiveLineToCommand(s, u)], n.style)]);\n      }, n.prototype.createParameters = function (t) {\n        t.addRange([new a.ShapeParameter(e.InternalStorageHorizontalEdgeParameterName, .1 * this.defaultSize.width), new a.ShapeParameter(e.InternalStorageVerticalEdgeParameterName, .1 * this.defaultSize.width)]);\n      }, n.prototype.normalizeParameters = function (t, o) {\n        this.changeParameterValue(o, e.InternalStorageHorizontalEdgeParameterName, function (e) {\n          return Math.max(n.minEdge, Math.min(.3 * t.size.width, e.value));\n        }), this.changeParameterValue(o, e.InternalStorageVerticalEdgeParameterName, function (e) {\n          return Math.max(n.minEdge, Math.min(.3 * t.size.height, e.value));\n        });\n      }, n.prototype.modifyParameters = function (t, n, o, i) {\n        this.changeParameterValue(n, e.InternalStorageHorizontalEdgeParameterName, function (t) {\n          return t.value + o;\n        }), this.changeParameterValue(n, e.InternalStorageVerticalEdgeParameterName, function (t) {\n          return t.value + i;\n        }), this.normalizeParameters(t, n);\n      }, n.prototype.getParameterPoints = function (t) {\n        return [new c.ShapeParameterPoint(\"c\", new u.Point(t.normalizeX(t.position.x + t.parameters.get(e.InternalStorageHorizontalEdgeParameterName).value), t.normalizeY(t.position.y + t.parameters.get(e.InternalStorageVerticalEdgeParameterName).value)))];\n      }, n.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle,\n            o = t.parameters.get(e.InternalStorageHorizontalEdgeParameterName).value;\n        return n.clone().resize(-o, 0).clone().moveRectangle(o, 0);\n      }, n.minEdge = 72, n;\n    }(r.RectangleShapeDescription);\n\n    e.InternalStorageShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o133,\n        i = this && this.__extends || (_o133 = function o(t, e) {\n      return (_o133 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o133(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PaperTapeShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(9),\n        u = n(7),\n        h = n(2),\n        p = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.PaperTape;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        return this.createDocumentPrimitives(t.rectangle, t.style);\n      }, e.prototype.createDocumentPrimitives = function (t, n) {\n        var o = t.x,\n            i = t.y,\n            r = t.right,\n            s = t.bottom,\n            c = t.width,\n            u = t.height,\n            h = t.center.x,\n            p = u * e.curveOffsetRatio;\n        return [].concat([new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(o, i), new a.PathPrimitiveQuadraticCurveToCommand(o + .25 * c, i + 2 * p, h, i + p), new a.PathPrimitiveQuadraticCurveToCommand(r - .25 * c, i - p, r, i + p), new a.PathPrimitiveLineToCommand(r, s), new a.PathPrimitiveQuadraticCurveToCommand(r - .25 * c, s - 2 * p, h, s - p), new a.PathPrimitiveQuadraticCurveToCommand(o + .25 * c, s + p, o, s - p), new a.PathPrimitiveClosePathCommand()], n)]);\n      }, e.prototype.processConnectionPoint = function (t, n) {\n        var o = t.getConnectionPointSide(n);\n        o === c.ConnectionPointSide.North && (n.y += t.size.height * e.curveOffsetRatio), o === c.ConnectionPointSide.South && (n.y -= t.size.height * e.curveOffsetRatio);\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle;\n        return n.clone().inflate(u.ShapeTextPadding, -n.height * e.curveOffsetRatio);\n      }, e.prototype.getSizeByText = function (t, n) {\n        return new h.Size(t.width + 2 * u.ShapeTextPadding, t.height / (1 - 2 * e.curveOffsetRatio));\n      }, e.curveOffsetRatio = .1, e;\n    }(r.RectangleShapeDescription);\n\n    e.PaperTapeShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o134,\n        i = this && this.__extends || (_o134 = function o(t, e) {\n      return (_o134 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o134(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ManualOperationShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(9),\n        u = n(7),\n        h = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.ManualOperation;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = t.rectangle,\n            i = o.x,\n            r = o.y,\n            s = o.right,\n            c = o.bottom,\n            u = o.width,\n            h = o.height,\n            p = Math.min(Math.max(0, h / Math.tan(e.slopeAngle)), u),\n            l = n.center.x,\n            d = Math.min(i + p, l),\n            f = Math.max(s - p, l);\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(i, r), new a.PathPrimitiveLineToCommand(s, r), new a.PathPrimitiveLineToCommand(f, c), new a.PathPrimitiveLineToCommand(d, c), new a.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.processConnectionPoint = function (t, n) {\n        var o = t.size.height / Math.tan(e.slopeAngle),\n            i = t.getConnectionPointSide(n);\n        i === c.ConnectionPointSide.East ? n.x -= o / 2 : i === c.ConnectionPointSide.West && (n.x += o / 2);\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = Math.min(Math.max(0, t.size.height / Math.tan(e.slopeAngle)), t.size.width);\n        return t.rectangle.clone().moveRectangle(n, u.ShapeTextPadding).resize(2 * -n, 2 * -u.ShapeTextPadding).nonNegativeSize();\n      }, e.slopeAngle = 81 * Math.PI / 180, e;\n    }(r.RectangleShapeDescription);\n\n    e.ManualOperationShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o135,\n        i = this && this.__extends || (_o135 = function o(t, e) {\n      return (_o135 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o135(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DelayShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(3),\n        u = n(7),\n        h = n(2),\n        p = function (t) {\n      function e() {\n        var e = t.call(this, void 0, !0) || this;\n        return e.defaultSize.width = e.defaultSize.height, e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Delay;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            r = e.bottom,\n            s = e.center.x;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(n, o), new a.PathPrimitiveLineToCommand(s, o), new a.PathPrimitiveArcToCommand((i - n) / 2, (r - o) / 2, 0, !1, !0, s, r), new a.PathPrimitiveLineToCommand(n, r), new a.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = c.GeometryUtils.getMaxRectangleEnscribedInEllipse(t.size);\n        return t.rectangle.clone().moveRectangle(u.ShapeTextPadding, u.ShapeTextPadding).setSize({\n          width: e.width / 2 + t.size.width / 2 - u.ShapeTextPadding,\n          height: e.height / 2 + t.size.height / 2 - u.ShapeTextPadding\n        }).nonNegativeSize();\n      }, e.prototype.getSizeByText = function (t, e) {\n        var n = c.GeometryUtils.getEllipseByEnscribedRectangle(t);\n        return new h.Size(n.width / 2 + t.width / 2 + u.ShapeTextPadding, n.height / 2 + t.height / 2 + u.ShapeTextPadding);\n      }, e.arcWidthRatio = .2, e;\n    }(r.RectangleShapeDescription);\n\n    e.DelayShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o136,\n        i = this && this.__extends || (_o136 = function o(t, e) {\n      return (_o136 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o136(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.StoredDataShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(7),\n        u = n(2),\n        h = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.StoredData;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            c = n.width * e.arcWidthRatio;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(r, i), new a.PathPrimitiveLineToCommand(o + c / 2, i), new a.PathPrimitiveArcToCommand(c / 2, (s - i) / 2, 0, !1, !1, o + c / 2, s), new a.PathPrimitiveLineToCommand(r, s), new a.PathPrimitiveArcToCommand(c / 2, (s - i) / 2, 0, !1, !0, r, i)], t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.rectangle,\n            o = n.width * e.arcWidthRatio / 2;\n        return n.clone().resize(-o - 2 * c.ShapeTextPadding, -2 * c.ShapeTextPadding).moveRectangle(c.ShapeTextPadding, c.ShapeTextPadding).nonNegativeSize();\n      }, e.prototype.getSizeByText = function (t, n) {\n        return new u.Size((t.width + 2 * c.ShapeTextPadding) / (1 - e.arcWidthRatio / 2), t.height + 2 * c.ShapeTextPadding);\n      }, e.arcWidthRatio = .2, e;\n    }(r.RectangleShapeDescription);\n\n    e.StoredDataShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o137,\n        i = this && this.__extends || (_o137 = function o(t, e) {\n      return (_o137 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o137(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MergeShapeDescription = void 0;\n\n    var r = n(0),\n        s = n(11),\n        a = n(125),\n        c = n(5),\n        u = n(7),\n        h = n(2),\n        p = function (t) {\n      function e() {\n        return t.call(this, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return r.ShapeTypes.Merge;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var e = t.rectangle,\n            n = e.x,\n            o = e.y,\n            i = e.right,\n            r = e.bottom;\n        return [new c.PathPrimitive([new c.PathPrimitiveMoveToCommand(n, o), new c.PathPrimitiveLineToCommand(i, o), new c.PathPrimitiveLineToCommand(e.center.x, r), new c.PathPrimitiveClosePathCommand()], t.style)];\n      }, e.prototype.calculateHeight = function (t) {\n        return .75 * t;\n      }, e.prototype.getTextRectangle = function (t) {\n        return s.Rectangle.fromGeometry(t.position.clone().offset(t.size.width / 4, u.ShapeTextPadding), new h.Size(t.size.width / 2, t.size.height / 2 - u.ShapeTextPadding));\n      }, e.prototype.getSizeByText = function (t, e) {\n        return new h.Size(2 * t.width, 2 * (t.height + u.ShapeTextPadding));\n      }, e;\n    }(a.TriangleShapeDescription);\n\n    e.MergeShapeDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o138,\n        i = this && this.__extends || (_o138 = function o(t, e) {\n      return (_o138 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o138(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DisplayShapeDescription = void 0;\n\n    var r = n(18),\n        s = n(0),\n        a = n(5),\n        c = n(7),\n        u = function (t) {\n      function e() {\n        return t.call(this, void 0, !0) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.Display;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (t) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            c = n.width,\n            u = n.center.y,\n            h = c * e.arcWidthRatio;\n        return [new a.PathPrimitive([new a.PathPrimitiveMoveToCommand(r - h / 2, i), new a.PathPrimitiveLineToCommand(o + h / 2, i), new a.PathPrimitiveLineToCommand(o, u), new a.PathPrimitiveLineToCommand(o + h / 2, s), new a.PathPrimitiveLineToCommand(r - h / 2, s), new a.PathPrimitiveArcToCommand(h / 2, (s - i) / 2, 0, !1, !1, r - h / 2, i)], t.style)];\n      }, e.prototype.getTextRectangle = function (t) {\n        var n = t.size.width * e.arcWidthRatio;\n        return t.rectangle.clone().moveRectangle(n / 2, c.ShapeTextPadding).resize(-n, 2 * -c.ShapeTextPadding).nonNegativeSize();\n      }, e.arcWidthRatio = .2, e;\n    }(r.RectangleShapeDescription);\n\n    e.DisplayShapeDescription = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o139,\n        i = this && this.__extends || (_o139 = function o(t, e) {\n      return (_o139 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o139(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.OrShapeDescription = void 0;\n\n    var r = n(0),\n        s = n(2),\n        a = n(7),\n        c = n(71),\n        u = n(5),\n        h = function (t) {\n      function e() {\n        var e = t.call(this, !0) || this;\n        return e.defaultSize = new s.Size(.5 * a.ShapeDefaultDimension, .5 * a.ShapeDefaultDimension), e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return r.ShapeTypes.Or;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"enableText\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (e) {\n        var n = e.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.right,\n            s = n.bottom,\n            a = n.center,\n            c = a.x,\n            h = a.y;\n        return [].concat(t.prototype.createShapePrimitives.call(this, e)).concat([new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(c, i), new u.PathPrimitiveLineToCommand(c, s), new u.PathPrimitiveMoveToCommand(o, h), new u.PathPrimitiveLineToCommand(r, h)], e.style)]);\n      }, e;\n    }(c.EllipseShapeDescription);\n\n    e.OrShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o140,\n        i = this && this.__extends || (_o140 = function o(t, e) {\n      return (_o140 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o140(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SummingJunctionShapeDescription = void 0;\n\n    var r = n(0),\n        s = n(2),\n        a = n(7),\n        c = n(71),\n        u = n(5),\n        h = function (t) {\n      function e() {\n        var e = t.call(this, !0) || this;\n        return e.defaultSize = new s.Size(.5 * a.ShapeDefaultDimension, .5 * a.ShapeDefaultDimension), e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return r.ShapeTypes.SummingJunction;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"enableText\", {\n        get: function get() {\n          return !1;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createShapePrimitives = function (e) {\n        var n = e.rectangle,\n            o = n.width,\n            i = n.height,\n            r = n.center,\n            s = r.x,\n            a = r.y,\n            c = o / 2,\n            h = i / 2,\n            p = Math.atan(h / c),\n            l = 1 / Math.sqrt(1 / Math.pow(c, 2) + Math.pow(Math.tan(p), 2) / Math.pow(h, 2)),\n            d = l * Math.tan(p);\n        return [].concat(t.prototype.createShapePrimitives.call(this, e)).concat([new u.PathPrimitive([new u.PathPrimitiveMoveToCommand(s - l, a - d), new u.PathPrimitiveLineToCommand(s + l, a + d), new u.PathPrimitiveMoveToCommand(s - l, a + d), new u.PathPrimitiveLineToCommand(s + l, a - d)], e.style)]);\n      }, e;\n    }(c.EllipseShapeDescription);\n\n    e.SummingJunctionShapeDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o141,\n        i = this && this.__extends || (_o141 = function o(t, e) {\n      return (_o141 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o141(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SvgElementPrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s, a, c, u) {\n        var h = t.call(this, null, c, void 0, u) || this;\n        return h.x = e, h.y = n, h.width = o, h.height = i, h.createContent = r, h.destroyContent = s, h.data = a, h;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"svg\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"x\", this.x), this.setUnitAttribute(e, \"y\", this.y), this.setUnitAttribute(e, \"width\", this.width), this.setUnitAttribute(e, \"height\", this.height), this.setPositionCorrectionAttribute(e), t.prototype.applyElementProperties.call(this, e, n);\n      }, e.prototype.createCustomContent = function (t) {\n        this.createContent && this.createContent(t, this.data);\n      }, e.prototype.destroyCustomContent = function (t) {\n        this.destroyContent && this.destroyContent(t);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.SvgElementPrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o142,\n        i = this && this.__extends || (_o142 = function o(t, e) {\n      return (_o142 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o142(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.VerticalContainerDescription = void 0;\n\n    var r = n(1),\n        s = n(2),\n        a = n(21),\n        c = n(11),\n        u = n(0),\n        h = n(7),\n        p = n(132),\n        l = function (t) {\n      function e() {\n        return t.call(this, new s.Size(2 * h.ShapeDefaultDimension, 1.5 * h.ShapeDefaultDimension)) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.VerticalContainer;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getExpandedSize = function (t) {\n        return new s.Size(t.size.width, t.expandedSize.height);\n      }, e.prototype.getCollapsedSize = function (t) {\n        return new s.Size(t.size.width, p.CONTAINER_HEADER_SIZE + 2 * t.strokeWidth);\n      }, e.prototype.allowResizeVertically = function (t) {\n        return t.expanded;\n      }, e.prototype.createHeaderPrimitives = function (t, e) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.width,\n            s = this.getHeaderSize(t, e),\n            u = [];\n        return u = u.concat([new a.RectanglePrimitive(o, i, r, s, t.style)]), e || (u = u.concat(this.createExpandButtonPrimitives(t, new c.Rectangle(o, i, s, s)))), u;\n      }, e.prototype.getClientRectangle = function (t) {\n        var e = t.rectangle,\n            n = this.getHeaderSize(t);\n        return c.Rectangle.fromGeometry(new r.Point(e.x, e.y + n), new s.Size(e.width, e.height - n));\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = t.rectangle,\n            n = this.getHeaderSize(t);\n        return c.Rectangle.fromGeometry(new r.Point(e.x + n, e.y), new s.Size(e.width - n, n));\n      }, e.prototype.getSizeByText = function (t, e) {\n        var n = this.getHeaderSize(e);\n        return new s.Size(Math.max(e.size.width, t.width + n), e.size.height);\n      }, e.prototype.getHeaderSize = function (t, e) {\n        var n = t.rectangle;\n        return e ? n.height * p.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO : p.CONTAINER_HEADER_SIZE + 2 * t.strokeWidth;\n      }, e;\n    }(p.ContainerDescription);\n\n    e.VerticalContainerDescription = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o143,\n        i = this && this.__extends || (_o143 = function o(t, e) {\n      return (_o143 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o143(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.HorizontalContainerDescription = void 0;\n\n    var r = n(7),\n        s = n(11),\n        a = n(2),\n        c = n(1),\n        u = n(0),\n        h = n(132),\n        p = n(21),\n        l = n(62),\n        d = function (t) {\n      function e() {\n        return t.call(this, new a.Size(2 * r.ShapeDefaultDimension, 1.5 * r.ShapeDefaultDimension)) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return u.ShapeTypes.HorizontalContainer;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getExpandedSize = function (t) {\n        return new a.Size(t.expandedSize.width, t.size.height);\n      }, e.prototype.getCollapsedSize = function (t) {\n        return new a.Size(h.CONTAINER_HEADER_SIZE + 2 * t.strokeWidth, t.size.height);\n      }, e.prototype.allowResizeHorizontally = function (t) {\n        return t.expanded;\n      }, e.prototype.createHeaderPrimitives = function (t, e) {\n        var n = t.rectangle,\n            o = n.x,\n            i = n.y,\n            r = n.height,\n            a = this.getHeaderSize(t, e),\n            c = [];\n        return c = c.concat([new p.RectanglePrimitive(o, i, a, r, t.style)]), e || (c = c.concat(this.createExpandButtonPrimitives(t, new s.Rectangle(o, i, a, a)))), c;\n      }, e.prototype.getClientRectangle = function (t) {\n        var e = t.rectangle,\n            n = this.getHeaderSize(t);\n        return s.Rectangle.fromGeometry(new c.Point(e.x + n, e.y), new a.Size(e.width - n, e.height));\n      }, e.prototype.getTextRectangle = function (t) {\n        var e = t.rectangle,\n            n = this.getHeaderSize(t);\n        return s.Rectangle.fromGeometry(new c.Point(e.x, e.y + n), new a.Size(n, e.height - n)).nonNegativeSize();\n      }, e.prototype.getSizeByText = function (t, e) {\n        var n = this.getHeaderSize(e);\n        return new a.Size(e.size.width, Math.max(e.size.height, Math.max(t.width + n, e.size.height)));\n      }, e.prototype.getTextEditRectangle = function (t) {\n        var e = this.getTextRectangle(t);\n        return s.Rectangle.fromGeometry(new c.Point(e.x, e.y + e.height), new a.Size(e.height, e.width));\n      }, e.prototype.getTextAngle = function () {\n        return l.TextAngle.Angle270deg;\n      }, e.prototype.getHeaderSize = function (t, e) {\n        var n = t.rectangle;\n        return e ? n.height * h.CONTAINER_HEADER_TOOLBOX_SIZE_RATIO : h.CONTAINER_HEADER_SIZE + 2 * t.strokeWidth;\n      }, e;\n    }(h.ContainerDescription);\n\n    e.HorizontalContainerDescription = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o144,\n        i = this && this.__extends || (_o144 = function o(t, e) {\n      return (_o144 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o144(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CardWithImageOnTopDescription = void 0;\n\n    var r = n(7),\n        s = n(2),\n        a = n(0),\n        c = n(133),\n        u = n(12),\n        h = function (t) {\n      function e() {\n        var e = t.call(this, new s.Size(.8 * r.ShapeDefaultDimension, r.ShapeDefaultDimension)) || this;\n        return e.isTextAfterImage = !0, e.isHorizontal = !1, e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return a.ShapeTypes.CardWithImageOnTop;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getImageSize = function (t, e, n) {\n        var o = t.width / 2;\n        u.UnitConverter.twipsToPixels(o) % 2 == 1 && (o -= u.UnitConverter.pixelsToTwips(1));\n        var i = Math.max(0, t.height - (e ? 0 : 2 * this.getImageMargin(n)));\n        return i = Math.min(o, i), new s.Size(i, i);\n      }, e.prototype.getImageSizeByTextBlockSize = function (t) {\n        return this.getImageSize(new s.Size(t.width, Number.MAX_VALUE), !0);\n      }, e;\n    }(c.CardBaseDescription);\n\n    e.CardWithImageOnTopDescription = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o145,\n        i = this && this.__extends || (_o145 = function o(t, e) {\n      return (_o145 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o145(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RoundedRectanglePrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s, a, c, u, h) {\n        void 0 === r && (r = 0), void 0 === s && (s = 0);\n        var p = t.call(this, e, n, o, i, a, c, u, h) || this;\n        return p.x = e, p.y = n, p.width = o, p.height = i, p.rx = r, p.ry = s, p;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        return document.createElementNS(r.svgNS, \"rect\");\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"rx\", this.rx), this.setUnitAttribute(e, \"ry\", this.ry), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(21).RectanglePrimitive);\n\n    e.RoundedRectanglePrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o146,\n        i = this && this.__extends || (_o146 = function o(t, e) {\n      return (_o146 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o146(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorShapeDescription = void 0;\n\n    var r = n(0),\n        s = n(2),\n        a = n(7),\n        c = function (t) {\n      function e() {\n        var e = t.call(this, !1) || this;\n        return e.defaultSize = new s.Size(.5 * a.ShapeDefaultDimension, .5 * a.ShapeDefaultDimension), e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return r.ShapeTypes.Connector;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"keepRatioOnAutoSize\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(n(71).EllipseShapeDescription);\n\n    e.ConnectorShapeDescription = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o147,\n        i = this && this.__extends || (_o147 = function o(t, e) {\n      return (_o147 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o147(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CardWithImageOnRightDescription = e.CardWithImageOnLeftDescription = void 0;\n\n    var r = n(7),\n        s = n(0),\n        a = n(133),\n        c = n(2),\n        u = function (t) {\n      function e() {\n        var e = t.call(this, new c.Size(1.5 * r.ShapeDefaultDimension, .5 * r.ShapeDefaultDimension)) || this;\n        return e.isHorizontal = !0, e;\n      }\n\n      return i(e, t), e.prototype.getToolboxHeightToWidthRatio = function (t, e) {\n        return 26 / 46;\n      }, e.prototype.getImageSize = function (t, e, n) {\n        var o = Math.min(t.height, t.width);\n        return e || (o = Math.max(0, o - 2 * this.getImageMargin(n))), new c.Size(o, o);\n      }, e.prototype.getImageSizeByTextBlockSize = function (t) {\n        return this.getImageSize(new c.Size(Number.MAX_VALUE, t.height), !0);\n      }, e;\n    }(a.CardBaseDescription),\n        h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.isTextAfterImage = !0, e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.CardWithImageOnLeft;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(u);\n\n    e.CardWithImageOnLeftDescription = h;\n\n    var p = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.isTextAfterImage = !1, e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"key\", {\n        get: function get() {\n          return s.ShapeTypes.CardWithImageOnRight;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(u);\n\n    e.CardWithImageOnRightDescription = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o148,\n        i = this && this.__extends || (_o148 = function o(t, e) {\n      return (_o148 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o148(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportCommand = void 0;\n\n    var r = n(72),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        return e(new r.Exporter().export(this.control.model)), !0;\n      }, e;\n    }(n(56).ExportImportCommandBase);\n\n    e.ExportCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o149,\n        i = this && this.__extends || (_o149 = function o(t, e) {\n      return (_o149 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o149(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleFontBoldCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"font-weight\";\n      }, e.prototype.getStylePropertyValue = function () {\n        return \"bold\";\n      }, e;\n    }(n(73).ToggleStyleTextPropertyCommand);\n\n    e.ToggleFontBoldCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o150,\n        i = this && this.__extends || (_o150 = function o(t, e) {\n      return (_o150 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o150(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleFontItalicCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"font-style\";\n      }, e.prototype.getStylePropertyValue = function () {\n        return \"italic\";\n      }, e;\n    }(n(73).ToggleStyleTextPropertyCommand);\n\n    e.ToggleFontItalicCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o151,\n        i = this && this.__extends || (_o151 = function o(t, e) {\n      return (_o151 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o151(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleFontUnderlineCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"text-decoration\";\n      }, e.prototype.getStylePropertyValue = function () {\n        return \"underline\";\n      }, e;\n    }(n(73).ToggleStyleTextPropertyCommand);\n\n    e.ToggleFontUnderlineCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o152,\n        i = this && this.__extends || (_o152 = function o(t, e) {\n      return (_o152 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o152(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeFontNameCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"font-family\";\n      }, e;\n    }(n(96).ChangeStyleTextPropertyCommand);\n\n    e.ChangeFontNameCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o153,\n        i = this && this.__extends || (_o153 = function o(t, e) {\n      return (_o153 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o153(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeFontSizeCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"font-size\";\n      }, e;\n    }(n(96).ChangeStyleTextPropertyCommand);\n\n    e.ChangeFontSizeCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o154,\n        i = this && this.__extends || (_o154 = function o(t, e) {\n      return (_o154 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o154(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeFontColorCommand = void 0;\n\n    var r = n(96),\n        s = n(22),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.processParameter = function (t) {\n        return s.ColorUtils.stringToHash(t);\n      }, e.prototype.getStyleProperty = function () {\n        return \"fill\";\n      }, e;\n    }(r.ChangeStyleTextPropertyCommand);\n\n    e.ChangeFontColorCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o155,\n        i = this && this.__extends || (_o155 = function o(t, e) {\n      return (_o155 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o155(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeFillColorCommand = void 0;\n\n    var r = n(74),\n        s = n(22),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.processParameter = function (t) {\n        return s.ColorUtils.stringToHash(t);\n      }, e.prototype.getStyleProperty = function () {\n        return \"fill\";\n      }, e;\n    }(r.ChangeStylePropertyCommand);\n\n    e.ChangeFillColorCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o156,\n        i = this && this.__extends || (_o156 = function o(t, e) {\n      return (_o156 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o156(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStrokeColorCommand = void 0;\n\n    var r = n(74),\n        s = n(22),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.processParameter = function (t) {\n        return s.ColorUtils.stringToHash(t);\n      }, e.prototype.getStyleProperty = function () {\n        return \"stroke\";\n      }, e;\n    }(r.ChangeStylePropertyCommand);\n\n    e.ChangeStrokeColorCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o157,\n        i = this && this.__extends || (_o157 = function o(t, e) {\n      return (_o157 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o157(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextRightAlignCommand = e.TextCenterAlignCommand = e.TextLeftAlignCommand = e.ChangeTextAlignCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"text-anchor\";\n      }, e;\n    }(n(73).ToggleStyleTextPropertyCommand);\n\n    e.ChangeTextAlignCommand = r;\n\n    var s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStylePropertyValue = function () {\n        return \"start\";\n      }, e;\n    }(r);\n\n    e.TextLeftAlignCommand = s;\n\n    var a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStylePropertyValue = function () {\n        return \"middle\";\n      }, e;\n    }(r);\n\n    e.TextCenterAlignCommand = a;\n\n    var c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStylePropertyValue = function () {\n        return \"end\";\n      }, e;\n    }(r);\n\n    e.TextRightAlignCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o158,\n        i = this && this.__extends || (_o158 = function o(t, e) {\n      return (_o158 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o158(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorEndLineEndingCommand = e.ChangeConnectorStartLineEndingCommand = void 0;\n\n    var r = n(137),\n        s = n(31),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPropertyName = function () {\n        return \"startLineEnding\";\n      }, e.prototype.getPropertyDefaultValue = function () {\n        return s.ConnectorLineEnding.None;\n      }, e;\n    }(r.ChangeConnectorPropertyCommand);\n\n    e.ChangeConnectorStartLineEndingCommand = a;\n\n    var c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPropertyName = function () {\n        return \"endLineEnding\";\n      }, e.prototype.getPropertyDefaultValue = function () {\n        return s.ConnectorLineEnding.Arrow;\n      }, e;\n    }(r.ChangeConnectorPropertyCommand);\n\n    e.ChangeConnectorEndLineEndingCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o159,\n        i = this && this.__extends || (_o159 = function o(t, e) {\n      return (_o159 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o159(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorLineOptionCommand = void 0;\n\n    var r = n(137),\n        s = n(31),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPropertyName = function () {\n        return \"lineOption\";\n      }, e.prototype.getPropertyDefaultValue = function () {\n        return s.ConnectorLineOption.Straight;\n      }, e;\n    }(r.ChangeConnectorPropertyCommand);\n\n    e.ChangeConnectorLineOptionCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o160,\n        i = this && this.__extends || (_o160 = function o(t, e) {\n      return (_o160 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o160(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SelectAllCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.executeCore = function (t, e) {\n        var n = [];\n        return this.control.model.iterateItems(function (t) {\n          return n.push(t.key);\n        }), this.control.selection.set(n), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.SelectAllCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o161,\n        i = this && this.__extends || (_o161 = function o(t, e) {\n      return (_o161 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o161(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ScrollIntoViewOnUndoHistoryItem = e.ScrollIntoViewOnRedoHistoryItem = void 0;\n\n    var r = n(8),\n        s = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.view = e, o.rectangle = n, o.view = e, o.rectangle = n.clone(), o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.view.scrollIntoView(this.rectangle);\n      }, e.prototype.undo = function (t) {}, e;\n    }(r.HistoryItem);\n\n    e.ScrollIntoViewOnRedoHistoryItem = s;\n\n    var a = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.view = e, o.rectangle = n, o.view = e, o.rectangle = n.clone(), o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {}, e.prototype.undo = function (t) {\n        this.view.scrollIntoView(this.rectangle);\n      }, e;\n    }(r.HistoryItem);\n\n    e.ScrollIntoViewOnUndoHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Tree = void 0;\n\n    var o = n(39),\n        i = function () {\n      function t(t, e) {\n        var n = this;\n        this.childToParent = {}, this.root = t, this.parentToChildren = e;\n\n        var o = function o(t) {\n          if (!Object.prototype.hasOwnProperty.call(e, t)) return \"continue\";\n          e[t].forEach(function (e) {\n            return n.childToParent[e.key] = t;\n          });\n        };\n\n        for (var i in e) o(i);\n      }\n\n      return t.prototype.getChildren = function (t) {\n        return t && this.parentToChildren[t.key] ? this.parentToChildren[t.key] : [];\n      }, t.prototype.hasChildren = function (t) {\n        return this.parentToChildren[t.key] && this.parentToChildren[t.key].length > 0;\n      }, t.prototype.iterate = function (t) {\n        this.iterateCore(this.root, 0, t);\n      }, t.createSpanningTree = function (e) {\n        var n = t.findRoot(e),\n            i = e.createIterator(o.ConnectionMode.Outgoing),\n            r = {};\n        return i.skipEdge = function (t) {\n          return void 0 === t.to || i.isNodeVisited(t.to);\n        }, i.onNode = function (t) {\n          return r[t.key] = [];\n        }, i.onEdge = function (t) {\n          var n = e.getNode(t.to);\n          n && r[t.from].push(n);\n        }, i.iterate(n), new t(e.getNode(n), r);\n      }, t.prototype.iterateCore = function (t, e, n) {\n        var o = this;\n        n(t, e), this.getChildren(t).forEach(function (t) {\n          return o.iterateCore(t, e + 1, n);\n        });\n      }, t.findRoot = function (t) {\n        return t.nodes.reduce(function (e, n) {\n          var o = t.getAdjacentEdges(n),\n              i = o.filter(function (t) {\n            return t.to === n;\n          }).length,\n              r = o.filter(function (t) {\n            return t.from === n;\n          }).length;\n          return (void 0 === e.candidate || 0 === i && e.inc > 0 || 0 !== e.inc && e.out - e.inc < r - i) && (e.candidate = n, e.inc = i, e.out = r), e;\n        }, {\n          inc: -1,\n          out: -1,\n          candidate: void 0\n        }).candidate;\n      }, t;\n    }();\n\n    e.Tree = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o162,\n        i = this && this.__extends || (_o162 = function o(t, e) {\n      return (_o162 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o162(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeSnapToGridCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        var n = void 0 === e ? !this.control.settings.snapToGrid : !!e;\n        return this.control.settings.snapToGrid !== n && (this.control.settings.snapToGrid = n, !0);\n      }, e.prototype.getValue = function () {\n        return this.control.settings.snapToGrid;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ChangeSnapToGridCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o163,\n        i = this && this.__extends || (_o163 = function o(t, e) {\n      return (_o163 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o163(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeGridSizeItemsCommand = e.ChangeGridSizeCommand = void 0;\n\n    var r = n(10),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.getModelUnit(this.control.settings.gridSize);\n      }, e.prototype.executeCore = function (t, e) {\n        return this.control.settings.gridSize = this.getModelUnitTwipsValue(e), !0;\n      }, e.prototype.getItems = function () {\n        var t = this;\n        return this.control.settings.gridSizeItems.map(function (e) {\n          return {\n            value: t.getModelUnit(e),\n            text: t.getViewUnitText(e)\n          };\n        });\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.ChangeGridSizeCommand = s;\n\n    var a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        var t = this;\n        return this.control.settings.gridSizeItems.map(function (e) {\n          return t.getModelUnit(e);\n        });\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n        return this.control.settings.gridSizeItems = e.map(function (t) {\n          return n.getModelUnitTwipsValue(t);\n        }), !0;\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.ChangeGridSizeItemsCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o164,\n        i = this && this.__extends || (_o164 = function o(t, e) {\n      return (_o164 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o164(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePageLandscapeCommand = void 0;\n\n    var r = n(76),\n        s = n(256),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.model.pageLandscape;\n      }, e.prototype.createHistoryItems = function (t) {\n        return [new s.ChangePageLandscapeHistoryItem(t)];\n      }, e;\n    }(r.ChangePagePropertyCommand);\n\n    e.ChangePageLandscapeCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o165,\n        i = this && this.__extends || (_o165 = function o(t, e) {\n      return (_o165 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o165(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePageLandscapeHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.value = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.oldValue = t.model.pageLandscape, t.changePageLandscape(this.value);\n      }, e.prototype.undo = function (t) {\n        t.changePageLandscape(this.oldValue);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangePageLandscapeHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o166,\n        i = this && this.__extends || (_o166 = function o(t, e) {\n      return (_o166 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o166(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePageSizeItemsCommand = e.ChangePageSizeCommand = void 0;\n\n    var r = n(76),\n        s = n(2),\n        a = n(258),\n        c = n(10),\n        u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.getModelUnitSize(this.control.model.pageSize);\n      }, e.prototype.createHistoryItems = function (t) {\n        return [new a.ChangePageSizeHistoryItem(new s.Size(this.getModelUnitTwipsValue(t.width), this.getModelUnitTwipsValue(t.height)))];\n      }, e.prototype.getItems = function () {\n        var t = this;\n        return this.control.settings.pageSizeItems.map(function (e) {\n          return {\n            value: t.getModelUnitSize(e.size),\n            text: e.text.replace(\"{width}\", t.getViewUnitText(e.size.width)).replace(\"{height}\", t.getViewUnitText(e.size.height))\n          };\n        });\n      }, e.prototype.getModelUnitSize = function (t) {\n        return new s.Size(this.getModelUnit(t.width), this.getModelUnit(t.height));\n      }, e;\n    }(r.ChangePagePropertyCommand);\n\n    e.ChangePageSizeCommand = u;\n\n    var h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        var t = this;\n        return this.control.settings.pageSizeItems.map(function (e) {\n          return {\n            size: new s.Size(t.getModelUnit(e.width), t.getModelUnit(e.height)),\n            text: e.text\n          };\n        });\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n        return this.control.settings.pageSizeItems = e.map(function (t) {\n          return {\n            size: new s.Size(n.getModelUnitTwipsValue(t.width), n.getModelUnitTwipsValue(t.height)),\n            text: t.text\n          };\n        }), !0;\n      }, e;\n    }(c.SimpleCommandBase);\n\n    e.ChangePageSizeItemsCommand = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o167,\n        i = this && this.__extends || (_o167 = function o(t, e) {\n      return (_o167 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o167(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePageSizeHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.size = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.oldSize = t.model.pageSize, t.changePageSize(this.size);\n      }, e.prototype.undo = function (t) {\n        t.changePageSize(this.oldSize);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangePageSizeHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o168,\n        i = this && this.__extends || (_o168 = function o(t, e) {\n      return (_o168 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o168(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportPngCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getExtension = function () {\n        return \"png\";\n      }, e.prototype.getExportFunc = function () {\n        return this.exporter.exportPng;\n      }, e;\n    }(n(98).ExportImageCommand);\n\n    e.ExportPngCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o169,\n        i = this && this.__extends || (_o169 = function o(t, e) {\n      return (_o169 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o169(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    }),\n        r = this && this.__awaiter || function (t, e, n, o) {\n      return new (n || (n = Promise))(function (i, r) {\n        function s(t) {\n          try {\n            c(o.next(t));\n          } catch (t) {\n            r(t);\n          }\n        }\n\n        function a(t) {\n          try {\n            c(o.throw(t));\n          } catch (t) {\n            r(t);\n          }\n        }\n\n        function c(t) {\n          var e;\n          t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(s, a);\n        }\n\n        c((o = o.apply(t, e || [])).next());\n      });\n    },\n        s = this && this.__generator || function (t, e) {\n      var n,\n          o,\n          i,\n          r,\n          s = {\n        label: 0,\n        sent: function sent() {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return r = {\n        next: a(0),\n        throw: a(1),\n        return: a(2)\n      }, \"function\" == typeof Symbol && (r[Symbol.iterator] = function () {\n        return this;\n      }), r;\n\n      function a(r) {\n        return function (a) {\n          return function (r) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; s;) try {\n              if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;\n\n              switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {\n                case 0:\n                case 1:\n                  i = r;\n                  break;\n\n                case 4:\n                  return s.label++, {\n                    value: r[1],\n                    done: !1\n                  };\n\n                case 5:\n                  s.label++, o = r[1], r = [0];\n                  continue;\n\n                case 7:\n                  r = s.ops.pop(), s.trys.pop();\n                  continue;\n\n                default:\n                  if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {\n                    s = 0;\n                    continue;\n                  }\n\n                  if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {\n                    s.label = r[1];\n                    break;\n                  }\n\n                  if (6 === r[0] && s.label < i[1]) {\n                    s.label = i[1], i = r;\n                    break;\n                  }\n\n                  if (i && s.label < i[2]) {\n                    s.label = i[2], s.ops.push(r);\n                    break;\n                  }\n\n                  i[2] && s.ops.pop(), s.trys.pop();\n                  continue;\n              }\n\n              r = e.call(t, s);\n            } catch (t) {\n              r = [6, t], o = 0;\n            } finally {\n              n = i = 0;\n            }\n\n            if (5 & r[0]) throw r[1];\n            return {\n              value: r[0] ? r[1] : void 0,\n              done: !0\n            };\n          }([r, a]);\n        };\n      }\n    };\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasExportManager = void 0;\n\n    var a = n(12),\n        c = n(19),\n        u = n(17),\n        h = n(43),\n        p = n(15),\n        l = n(100),\n        d = n(22),\n        f = function (t) {\n      function e(e, n) {\n        var o = t.call(this, 1, new l.ExportDOMManipulator(n)) || this;\n        return o.itemsContainer = e, o;\n      }\n\n      return i(e, t), e.prototype.getSvgImage = function (t, e, n, o) {\n        var i = p.RenderHelper.createSvgElement(void 0, !0),\n            r = t.clone().applyConverter(a.UnitConverter.twipsToPixelsF).clone().applyConverter(Math.ceil);\n        u.RenderUtils.updateSvgElementSize(i, r.width, r.height, !0), i.style.backgroundColor = d.ColorUtils.colorToHash(e), this.createTextFloodFilter(void 0, i, e);\n        var s = !n && !c.Browser.IE && this.getExportCssRules();\n\n        if (s) {\n          var h = document.createElementNS(p.svgNS, \"style\");\n          h.innerHTML = s, i.appendChild(h);\n        }\n\n        if (o) {\n          var l = document.createElementNS(p.svgNS, \"rect\");\n          l.setAttributeNS(null, \"x\", \"0\"), l.setAttributeNS(null, \"y\", \"0\"), l.setAttributeNS(null, \"height\", r.height.toString()), l.setAttributeNS(null, \"width\", r.width.toString()), l.setAttributeNS(null, \"fill\", i.style.backgroundColor), i.appendChild(l);\n        }\n\n        for (var f = 0; f < this.itemsContainer.childNodes.length; f++) {\n          var y = this.itemsContainer.childNodes[f].cloneNode(!0);\n          s || this.inlineStyle(y, this.itemsContainer.childNodes[f]), i.appendChild(y);\n        }\n\n        return i;\n      }, e.prototype.getSvgImageUrl = function (t, e, n) {\n        var o = this.getSvgImage(t, e, n, !1);\n        return this.getSvgBase64String(o);\n      }, e.prototype.getSvgString = function (t) {\n        return new XMLSerializer().serializeToString(t);\n      }, e.prototype.getSvgBase64String = function (t) {\n        var n = this.getSvgString(t);\n        return e.base64Start + this.getBase64EncodeUnicode(n);\n      }, e.prototype.getBase64EncodeUnicode = function (t) {\n        return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g, function (t, e) {\n          return String.fromCharCode(parseInt(\"0x\" + e, 16));\n        }));\n      }, e.prototype.getExportCssRules = function () {\n        for (var t = 0; t < document.styleSheets.length; t++) {\n          var e = this.getRules(document.styleSheets[t]);\n\n          if (e) {\n            for (var n = \"\", o = 0; o < e.length; o++) {\n              var i = e[o],\n                  r = this.isCSSStyleRule(i) ? i.selectorText : null;\n              r && this.checkSelector(r) && (n += i.cssText + \"\\n\");\n            }\n\n            if (n.length > 0) return \"\\n\" + n;\n          }\n        }\n      }, e.prototype.checkSelector = function (t) {\n        for (var n = 0; n < e.exportStyleRules.length; n++) if (0 === t.indexOf(e.exportStyleRules[n])) return !0;\n\n        return !1;\n      }, e.prototype.getRules = function (t) {\n        try {\n          return this.isCSSStyleSheet(t) ? t.rules || t.cssRules : null;\n        } catch (t) {}\n      }, e.prototype.isCSSStyleSheet = function (t) {\n        return void 0 !== t.rules;\n      }, e.prototype.isCSSStyleRule = function (t) {\n        return void 0 !== t.selectorText;\n      }, e.prototype.inlineStyle = function (t, n) {\n        for (var o = 0; o < t.childNodes.length; o++) {\n          var i = t.childNodes[o];\n          if (i.tagName) if (\"g\" === i.tagName) this.inlineStyle(i, n.childNodes[o]);else if (i.style) {\n            var r = window.getComputedStyle(n.childNodes[o]);\n            if (void 0 !== r) for (var s = 0; s < e.exportStyleAttributes.length; s++) {\n              var a = e.exportStyleAttributes[s];\n              i.style.setProperty(a, r.getPropertyValue(a));\n            }\n            this.inlineStyle(i, n.childNodes[o]);\n          }\n        }\n      }, e.prototype.exportSvgImage = function (t, e, n) {\n        n(this.getSvgImageUrl(t, e, !0));\n      }, e.prototype.exportBinaryImage = function (t, e, n, o, i) {\n        var r = this.getAbsoluteSize(t).clone().applyConverter(Math.ceil),\n            s = document.createElement(\"canvas\");\n        s.width = r.width, s.height = r.height;\n        var a = s.getContext(\"2d\");\n        if (a.fillStyle = d.ColorUtils.colorToHash(e), a.fillRect(0, 0, r.width, r.height), (i || c.Browser.IE) && \"object\" == typeof canvg) this.exportBinaryImageCanvgAsync(t, e, s, a, n).then(function (t) {\n          return o(t);\n        });else if (c.Browser.IE && \"function\" == typeof canvg) this.exportBinaryImageCanvgOld(t, e, s, a, n, o);else {\n          var u = new Image();\n          u.width = r.width, u.height = r.height, u.setAttribute(\"crossOrigin\", \"anonymous\"), u.onload = function () {\n            a.drawImage(u, 0, 0), o(s.toDataURL(n, 1));\n          }, u.src = this.getSvgImageUrl(t, e, !0);\n        }\n      }, e.prototype.exportBinaryImageCanvgOld = function (t, e, n, o, i, r) {\n        var s = this.getSvgImage(t, e, !0, !1),\n            a = this.getSvgString(s);\n        o.drawSvg(a, 0, 0, null, null, {\n          renderCallback: function renderCallback() {\n            r(n.toDataURL(i, 1));\n          }\n        });\n      }, e.prototype.exportBinaryImageCanvgAsync = function (t, e, n, o, i) {\n        return r(this, void 0, void 0, function () {\n          var r, a;\n          return s(this, function (s) {\n            switch (s.label) {\n              case 0:\n                return r = this.getSvgImage(t, e, !0, !0), a = this.getSvgString(r), [4, canvg.Canvg.fromString(o, a).render()];\n\n              case 1:\n                return s.sent(), [2, n.toDataURL(i, 1)];\n            }\n          });\n        });\n      }, e.prototype.exportPngImage = function (t, e, n, o) {\n        this.exportBinaryImage(t, e, \"image/png\", n, o);\n      }, e.prototype.exportJpgImage = function (t, e, n, o) {\n        this.exportBinaryImage(t, e, \"image/jpeg\", n, o);\n      }, e.prototype.notifyModelChanged = function (t) {}, e.prototype.notifyPageColorChanged = function (t) {}, e.prototype.notifyPageSizeChanged = function (t, e) {}, e.base64Start = \"data:image/svg+xml;base64,\", e.exportStyleRules = [\".dxdi-canvas .shape \", \".dxdi-canvas .connector \", \".dxdi-canvas text\", \".dxdi-canvas.export\"], e.exportStyleAttributes = [\"fill\", \"stroke\", \"stroke-width\", \"stroke-linejoin\", \"font-family\", \"font-size\", \"font-weight\", \"font-style\", \"text-decoration\", \"text-anchor\"], e;\n    }(h.CanvasManagerBase);\n\n    e.CanvasExportManager = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o170,\n        i = this && this.__extends || (_o170 = function o(t, e) {\n      return (_o170 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o170(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportSvgCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getExtension = function () {\n        return \"svg\";\n      }, e.prototype.getExportFunc = function () {\n        return this.exporter.exportSvg;\n      }, e;\n    }(n(98).ExportImageCommand);\n\n    e.ExportSvgCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o171,\n        i = this && this.__extends || (_o171 = function o(t, e) {\n      return (_o171 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o171(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ExportJpgCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getExtension = function () {\n        return \"jpg\";\n      }, e.prototype.getExportFunc = function () {\n        return this.exporter.exportJpg;\n      }, e;\n    }(n(98).ExportImageCommand);\n\n    e.ExportJpgCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o172,\n        i = this && this.__extends || (_o172 = function o(t, e) {\n      return (_o172 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o172(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CopySelectionCommand = void 0;\n\n    var r = n(72),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && !this.control.selection.isEmpty(!0);\n      }, e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.executeCore = function (t) {\n        var e = new r.Exporter().exportItems(this.control.selection.getSelectedItems(!0, !0));\n        return this.setClipboardData(e), !0;\n      }, e;\n    }(n(101).ClipboardCommand);\n\n    e.CopySelectionCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o173,\n        i = this && this.__extends || (_o173 = function o(t, e) {\n      return (_o173 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o173(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CutSelectionCommand = void 0;\n\n    var r = n(72),\n        s = n(4),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.control.selection.getSelectedItems();\n        return t.prototype.isEnabled.call(this) && e.length && (e.length > 1 || this.permissionsProvider.canDeleteItems(e));\n      }, e.prototype.executeCore = function (t) {\n        var e = new r.Exporter(),\n            n = this.control.selection.getSelectedItems(!0, !0),\n            o = e.exportItems(n);\n        return this.permissionsProvider.beginDeleteItems(n), this.setClipboardData(o), s.ModelUtils.deleteSelection(this.control.history, this.control.model, this.control.selection), this.permissionsProvider.endDeleteItems(), !0;\n      }, Object.defineProperty(e.prototype, \"isPermissionsRequired\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(n(101).ClipboardCommand);\n\n    e.CutSelectionCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o174,\n        i = this && this.__extends || (_o174 = function o(t, e) {\n      return (_o174 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o174(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PasteSelectionCommand = void 0;\n\n    var r = n(142),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getShapeNewPosition = function (t) {\n        return r.PasteSelectionCommandBase.getShapeNewPosition(this.control.model, t);\n      }, e.prototype.changeConnectorPoints = function (t) {\n        r.PasteSelectionCommandBase.changeConnectorPoints(this.control.model, t);\n      }, e;\n    }(r.PasteSelectionCommandBase);\n\n    e.PasteSelectionCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o175,\n        i = this && this.__extends || (_o175 = function o(t, e) {\n      return (_o175 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o175(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImportShapeHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.shape = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.shapeKey = this.shape.key, t.insertShape(this.shape);\n      }, e.prototype.undo = function (t) {\n        t.removeShape(t.model.findShape(this.shapeKey), !0);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ImportShapeHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o176,\n        i = this && this.__extends || (_o176 = function o(t, e) {\n      return (_o176 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o176(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImportConnectorHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.connector = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.connectorKey = this.connector.key, t.insertConnector(this.connector);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.removeConnector(e);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ImportConnectorHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o177,\n        i = this && this.__extends || (_o177 = function o(t, e) {\n      return (_o177 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o177(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImportBPMNCommand = void 0;\n\n    var r = n(269),\n        s = n(4),\n        a = n(53),\n        c = n(1),\n        u = n(6),\n        h = n(64),\n        p = n(48),\n        l = n(79),\n        d = n(20),\n        f = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        var n = new r.BPMNImporter(e).import();\n        return this.updateModel(n), !0;\n      }, e.prototype.updateModel = function (t) {\n        var e = this,\n            n = {},\n            o = [],\n            i = [];\n        this.control.history.beginTransaction(), t.items.forEach(function (t) {\n          var i = new a.AddShapeHistoryItem(e.getShapeDescription(t.type), new c.Point(0, 0), t.text, t.key);\n          e.control.history.addAndRedo(i), n[t.key] = i.shapeKey;\n          var r = e.control.model.findShape(i.shapeKey);\n          o.push(r);\n        }), t.edges.forEach(function (t) {\n          var o = e.control.model.findShape(n[t.from]),\n              r = e.control.model.findShape(n[t.to]),\n              s = new h.AddConnectorHistoryItem([o.getConnectionPointPosition(0), r.getConnectionPointPosition(0)]);\n          e.control.history.addAndRedo(s);\n          var a = e.control.model.findConnector(s.connectorKey);\n          e.control.history.addAndRedo(new p.AddConnectionHistoryItem(a, o, 0, u.ConnectorPosition.Begin)), e.control.history.addAndRedo(new p.AddConnectionHistoryItem(a, r, 0, u.ConnectorPosition.End)), i.push(a);\n        });\n        var r = new d.LayoutSettings();\n        s.ModelUtils.getGraphInfoByItems(this.control.model, o, i).forEach(function (t) {\n          var n = new l.SugiyamaLayoutBuilder(r, t.graph).build(),\n              a = s.ModelUtils.getNonGraphItems(e.control.model, t.container, n.nodeToLayout, o, i);\n          s.ModelUtils.applyLayout(e.control.history, e.control.model, void 0, t.graph, n, a, r, e.control.settings.snapToGrid, e.control.settings.gridSize, !1);\n        }), s.ModelUtils.tryUpdateModelRectangle(this.control.history), this.control.history.endTransaction();\n      }, e.prototype.getShapeDescription = function (t) {\n        return this.control.shapeDescriptionManager.get(t);\n      }, e;\n    }(n(56).ExportImportCommandBase);\n\n    e.ImportBPMNCommand = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o178,\n        i = this && this.__extends || (_o178 = function o(t, e) {\n      return (_o178 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o178(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.BPMNNode = e.BPMNImporter = void 0;\n\n    var r = n(69),\n        s = n(0),\n        a = n(39),\n        c = n(95),\n        u = function () {\n      function t(t) {\n        this.doc = c.ImportUtils.createDocument(t), this.graph = new r.Graph([], []);\n      }\n\n      return t.prototype.import = function () {\n        for (var t = void 0, e = 0; t = this.doc.children[e]; e++) \"DEFINITIONS\" === t.nodeName.toUpperCase() && this.onDefinitionsElement(t);\n\n        return this.validate(), this.graph;\n      }, t.prototype.validate = function () {\n        var t = {};\n        this.graph.nodes.forEach(function (e) {\n          return t[e] = !0;\n        });\n\n        for (var e = 0, n = void 0; n = this.graph.edges[e]; e++) t[n.from] && t[n.to] || (this.graph.edges.splice(e, 1), e--);\n      }, t.prototype.onDefinitionsElement = function (t) {\n        this.dataSourceKey = t.getAttribute(\"id\");\n\n        for (var e = void 0, n = 0; e = t.children[n]; n++) \"PROCESS\" === e.nodeName.toUpperCase() && this.onProcessElement(e);\n      }, t.prototype.onProcessElement = function (t) {\n        for (var e = void 0, n = 0; e = t.children[n]; n++) switch (e.nodeName.toUpperCase()) {\n          case \"STARTEVENT\":\n            this.onStartEventElement(e);\n            break;\n\n          case \"SEQUENCEFLOW\":\n            this.onSequenceFlowElement(e);\n            break;\n\n          case \"SCRIPTTASK\":\n            this.onScriptTaskElement(e);\n            break;\n\n          case \"USERTASK\":\n            this.onUserTaskElement(e);\n            break;\n\n          case \"SERVICETASK\":\n            this.onServiceTaskElement(e);\n            break;\n\n          case \"SENDTASK\":\n            this.onSendTaskElement(e);\n            break;\n\n          case \"EXCLUSIVEGATEWAY\":\n            this.onExclusiveGateway(e);\n            break;\n\n          case \"ENDEVENT\":\n            this.onEndEventGateway(e);\n        }\n      }, t.prototype.onStartEventElement = function (t) {\n        var e = this.createNode(t);\n        e.type = s.ShapeTypes.Ellipse, e.text = t.getAttribute(\"name\"), this.graph.addNode(e);\n      }, t.prototype.onSequenceFlowElement = function (t) {\n        var e = t.getAttribute(\"sourceRef\"),\n            n = t.getAttribute(\"targetRef\"),\n            o = this.createEdge(t, e, n);\n        t.hasAttribute(\"name\") && (o.text = t.getAttribute(\"name\")), this.graph.addEdge(o);\n      }, t.prototype.onScriptTaskElement = function (t) {\n        var e = this.createNode(t);\n        e.text = t.getAttribute(\"name\"), this.graph.addNode(e);\n      }, t.prototype.onUserTaskElement = function (t) {\n        var e = this.createNode(t);\n        e.text = t.getAttribute(\"name\"), this.graph.addNode(e);\n      }, t.prototype.onServiceTaskElement = function (t) {\n        var e = this.createNode(t);\n        e.text = t.getAttribute(\"name\"), this.graph.addNode(e);\n      }, t.prototype.onSendTaskElement = function (t) {\n        var e = this.createNode(t);\n        e.text = t.getAttribute(\"name\"), this.graph.addNode(e);\n      }, t.prototype.onExclusiveGateway = function (t) {\n        var e = this.createNode(t);\n        e.text = t.getAttribute(\"name\"), e.type = s.ShapeTypes.Decision, this.graph.addNode(e);\n      }, t.prototype.onEndEventGateway = function (t) {\n        var e = this.createNode(t);\n        e.text = t.getAttribute(\"name\"), e.type = s.ShapeTypes.Ellipse, this.graph.addNode(e);\n      }, t.prototype.createNode = function (t) {\n        return new h(this.dataSourceKey, t.getAttribute(\"id\"));\n      }, t.prototype.createEdge = function (t, e, n) {\n        return new p(this.dataSourceKey, t.getAttribute(\"id\"), e, n);\n      }, t;\n    }();\n\n    e.BPMNImporter = u;\n\n    var h = function () {\n      return function (t, e) {\n        this.sourceKey = t, this.key = e, this.type = s.ShapeTypes.Rectangle;\n      };\n    }();\n\n    e.BPMNNode = h;\n\n    var p = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, n, o, i) || this;\n        return r.sourceKey = e, r;\n      }\n\n      return i(e, t), e;\n    }(a.Edge);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CycleRemover = void 0;\n\n    var o = n(69),\n        i = n(39),\n        r = n(90),\n        s = function () {\n      function t() {}\n\n      return t.removeCycles = function (t) {\n        var e = this.getFeedbackSet(t);\n        return this.reverseEdges(t, e);\n      }, t.getFeedbackSet = function (t) {\n        for (var e = this, n = {}, o = this.getNonTrivialStronglyConnectedComponents(t); o.length;) o.forEach(function (t) {\n          var o = e.getMaxCyclicEdges(t);\n          o.forEach(function (t) {\n            return delete n[t.reverse().getHashKey()];\n          }), o.forEach(function (t) {\n            return n[t.getHashKey()] = !0;\n          });\n        }), o = this.getNonTrivialStronglyConnectedComponents(this.reverseEdges(t, n).graph);\n\n        return n;\n      }, t.getMaxCyclicEdges = function (t) {\n        var e = {},\n            n = {},\n            o = {},\n            s = [],\n            a = [],\n            c = t.createIterator(i.ConnectionMode.Outgoing);\n        c.visitEachEdgeOnce = !1, c.onNode = function (t) {\n          n[t.key] = !0;\n        }, c.skipNode = function (t) {\n          if (n[t.key]) {\n            for (var i = [], r = 0; r < s.length; r++) {\n              var c = s[r];\n              if (void 0 === o[c.key] && (o[c.key] = 0), o[c.key]++, i.push(c), c.from === t.key) break;\n            }\n\n            a.push(i);\n          }\n\n          return n[t.key] || e[t.key];\n        }, c.skipEdge = function (t) {\n          return !1;\n        }, c.onEdge = function (t) {\n          s.splice(0, 0, t);\n        }, c.onAfterEdge = function (t) {\n          s.splice(0, 1);\n        }, c.onAllEdges = function (t) {\n          e[t.key] = !0, n[t.key] = !1;\n        }, c.iterate(t.nodes[0]);\n        var u = new r.HashSet([], function (t) {\n          return t.key;\n        });\n        return a.forEach(function (t) {\n          u.tryPush(t.reduce(function (t, e) {\n            return o[e.key] > o[t.key] ? e : t;\n          }, t[0]));\n        }), u.list();\n      }, t.reverseEdges = function (t, e) {\n        var n = new r.HashSet([], function (t) {\n          return t.getHashKey();\n        }),\n            i = {},\n            s = {};\n        return t.edges.forEach(function (t) {\n          e[t.getHashKey()] && (t = t.reverse(), i[t.key] = !0), n.tryPush(t) || (s[t.key] = !0, delete i[t.key]);\n        }), {\n          graph: new o.Graph(t.nodes.map(function (e) {\n            return t.getNode(e);\n          }), n.list()),\n          reversedEdges: i,\n          removedEdges: s\n        };\n      }, t.getNonTrivialStronglyConnectedComponents = function (t) {\n        return this.getStronglyConnectedComponents(t).filter(function (t) {\n          return t.edges.length;\n        });\n      }, t.getStronglyConnectedComponents = function (t) {\n        for (var e = this, n = [], o = 0, r = {}, s = {}, a = {}, c = [], u = {}, h = 0; h < t.nodes.length; h++) {\n          var p = t.nodes[h],\n              l = t.createIterator(i.ConnectionMode.Outgoing);\n          l.visitEachEdgeOnce = !1, l.visitEachNodeOnce = !1, l.onNode = function (t) {\n            u[t.key] = !0, n.push(t), a[t.key] = !0, s[t.key] = o, r[t.key] = o, o++;\n          }, l.skipNode = function (t) {\n            return u[t.key];\n          }, l.skipEdge = function (t) {\n            var e = u[t.to];\n            return e && a[t.to] && (s[t.from] = Math.min(s[t.from], r[t.to])), e;\n          }, l.onAfterEdge = function (t) {\n            s[t.from] = Math.min(s[t.from], s[t.to]);\n          }, l.onAllEdges = function (o, i) {\n            i && s[o.key] === r[o.key] && c.push(e.getStronglyConnectedComponent(t, o, n, a));\n          }, l.iterate(p);\n        }\n\n        return c;\n      }, t.getStronglyConnectedComponent = function (t, e, n, r) {\n        var s,\n            a = {},\n            c = [],\n            u = [];\n\n        do {\n          s = n.pop(), a[s.key] || c.push(s), a[s.key] = !0, r[s.key] = !1;\n        } while (s !== e);\n\n        return c.forEach(function (e) {\n          var n = t.getAdjacentEdges(e.key, i.ConnectionMode.Outgoing);\n          u = u.concat(n.filter(function (t) {\n            return !a[t.key] && a[t.to];\n          })), n.forEach(function (t) {\n            return a[t.key] = !0;\n          });\n        }), new o.Graph(c, u);\n      }, t;\n    }();\n\n    e.CycleRemover = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o179,\n        i = this && this.__extends || (_o179 = function o(t, e) {\n      return (_o179 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o179(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SendToBackCommand = void 0;\n\n    var r = n(102),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.control.selection.getSelectedItems();\n        return t.prototype.isEnabled.call(this) && e.length > 0 && this.needSendToBack(e);\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n        return this.control.history.beginTransaction(), this.control.selection.getSelectedItems().forEach(function (t) {\n          var e = n.control.model.getIntersectItemsMinZIndex(t) - 1;\n          n.control.history.addAndRedo(new r.ChangeZindexHistoryItem(t, e));\n        }), this.control.history.endTransaction(), !0;\n      }, e.prototype.needSendToBack = function (t) {\n        for (var e = this, n = function n(_n) {\n          var i = o.control.model.getIntersectItemsMinZIndex(t[_n]);\n          if (i < t[_n].zIndex) return {\n            value: !0\n          };\n\n          if (i === t[_n].zIndex) {\n            var r = !1;\n            return o.control.model.getIntersectItems(t[_n]).filter(function (e) {\n              return e.zIndex === t[_n].zIndex;\n            }).forEach(function (o) {\n              e.control.model.getItemIndex(o) < e.control.model.getItemIndex(t[_n]) && (r = !0);\n            }), {\n              value: r\n            };\n          }\n        }, o = this, i = 0; i < t.length; i++) {\n          var r = n(i);\n          if (\"object\" == typeof r) return r.value;\n        }\n\n        return !1;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.SendToBackCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o180,\n        i = this && this.__extends || (_o180 = function o(t, e) {\n      return (_o180 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o180(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.BringToFrontCommand = void 0;\n\n    var r = n(102),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.control.selection.getSelectedItems();\n        return t.prototype.isEnabled.call(this) && e.length > 0 && this.needBringToFront(e);\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n        return this.control.history.beginTransaction(), this.control.selection.getSelectedItems().forEach(function (t) {\n          var e = n.control.model.getIntersectItemsMaxZIndex(t) + 1;\n          n.control.history.addAndRedo(new r.ChangeZindexHistoryItem(t, e));\n        }), this.control.history.endTransaction(), !0;\n      }, e.prototype.needBringToFront = function (t) {\n        for (var e = this, n = function n(_n2) {\n          var i = o.control.model.getIntersectItemsMaxZIndex(t[_n2]);\n          if (i > t[_n2].zIndex) return {\n            value: !0\n          };\n\n          if (i === t[_n2].zIndex) {\n            var r = !1;\n            return o.control.model.getIntersectItems(t[_n2]).filter(function (e) {\n              return e.zIndex === t[_n2].zIndex;\n            }).forEach(function (o) {\n              e.control.model.getItemIndex(o) > e.control.model.getItemIndex(t[_n2]) && (r = !0);\n            }), {\n              value: r\n            };\n          }\n        }, o = this, i = 0; i < t.length; i++) {\n          var r = n(i);\n          if (\"object\" == typeof r) return r.value;\n        }\n\n        return !1;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.BringToFrontCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o181,\n        i = this && this.__extends || (_o181 = function o(t, e) {\n      return (_o181 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o181(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MoveStepDownCommand = e.MoveDownCommand = e.MoveStepUpCommand = e.MoveUpCommand = e.MoveStepRightCommand = e.MoveRightCommand = e.MoveStepLeftCommand = e.MoveLeftCommand = e.MoveCommand = void 0;\n\n    var r = n(1),\n        s = n(4),\n        a = n(12),\n        c = n(10),\n        u = n(81),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && !this.control.selection.isEmpty();\n      }, e.prototype.executeCore = function (t, e) {\n        var n = this;\n        this.control.history.beginTransaction();\n        var o = this.control.selection,\n            i = o.getSelectedShapes();\n        i.filter(function (t) {\n          for (; t.container;) {\n            if (-1 !== i.indexOf(t.container)) return !1;\n            t = t.container;\n          }\n\n          return !0;\n        }).forEach(function (t) {\n          n.permissionsProvider.addInteractingItem(t, u.DiagramModelOperation.MoveShape);\n          var e = n.getPosition(t.position);\n          s.ModelUtils.setShapePosition(n.control.history, n.control.model, t, e), s.ModelUtils.updateShapeAttachedConnectors(n.control.history, n.control.model, t), n.permissionsProvider.clearInteractingItems();\n        });\n        var r = s.ModelUtils.createSelectedItems(o);\n        return o.getSelectedConnectors().forEach(function (t) {\n          if (s.ModelUtils.canMoveConnector(r, t)) for (var e = t.beginItem ? 1 : 0, o = t.endItem ? t.points.length - 2 : t.points.length - 1, i = e; i <= o; i++) {\n            var a = n.getPosition(t.points[i]);\n            s.ModelUtils.moveConnectorPoint(n.control.history, t, i, a);\n          }\n        }), s.ModelUtils.tryUpdateModelRectangle(this.control.history), this.control.history.endTransaction(), !0;\n      }, Object.defineProperty(e.prototype, \"isPermissionsRequired\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(c.SimpleCommandBase);\n\n    e.MoveCommand = h;\n\n    var p = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return t.clone().offset(-a.UnitConverter.pixelsToTwips(1), 0);\n      }, e;\n    }(h);\n\n    e.MoveLeftCommand = p;\n\n    var l = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return this.control.settings.snapToGrid ? new r.Point(s.ModelUtils.getSnappedPos(this.control.model, this.control.settings.gridSize, t.x - (this.control.settings.gridSize / 2 + 2), !0), t.y) : t.clone().offset(-this.control.settings.gridSize, 0);\n      }, e;\n    }(h);\n\n    e.MoveStepLeftCommand = l;\n\n    var d = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return t.clone().offset(a.UnitConverter.pixelsToTwips(1), 0);\n      }, e;\n    }(h);\n\n    e.MoveRightCommand = d;\n\n    var f = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return this.control.settings.snapToGrid ? new r.Point(s.ModelUtils.getSnappedPos(this.control.model, this.control.settings.gridSize, t.x + (this.control.settings.gridSize / 2 + 2), !0), t.y) : t.clone().offset(this.control.settings.gridSize, 0);\n      }, e;\n    }(h);\n\n    e.MoveStepRightCommand = f;\n\n    var y = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return t.clone().offset(0, -a.UnitConverter.pixelsToTwips(1));\n      }, e;\n    }(h);\n\n    e.MoveUpCommand = y;\n\n    var g = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return this.control.settings.snapToGrid ? new r.Point(t.x, s.ModelUtils.getSnappedPos(this.control.model, this.control.settings.gridSize, t.y - (this.control.settings.gridSize / 2 + 2), !1)) : t.clone().offset(0, -this.control.settings.gridSize);\n      }, e;\n    }(h);\n\n    e.MoveStepUpCommand = g;\n\n    var m = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return t.clone().offset(0, a.UnitConverter.pixelsToTwips(1));\n      }, e;\n    }(h);\n\n    e.MoveDownCommand = m;\n\n    var v = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getPosition = function (t) {\n        return this.control.settings.snapToGrid ? new r.Point(t.x, s.ModelUtils.getSnappedPos(this.control.model, this.control.settings.gridSize, t.y + (this.control.settings.gridSize / 2 + 2), !1)) : t.clone().offset(0, this.control.settings.gridSize);\n      }, e;\n    }(h);\n\n    e.MoveStepDownCommand = v;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o182,\n        i = this && this.__extends || (_o182 = function o(t, e) {\n      return (_o182 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o182(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleAutoZoomCommand = e.ToggleAutoZoomToWidthCommand = e.ToggleAutoZoomToContentCommand = e.SwitchAutoZoomCommand = e.FitToWidthCommand = e.FitToScreenCommand = e.ChangeZoomLevelItemsCommand = e.ChangeZoomLevelTo200Command = e.ChangeZoomLevelTo150Command = e.ChangeZoomLevelTo125Command = e.ChangeZoomLevelTo100Command = e.ChangeZoomLevelTo75Command = e.ChangeZoomLevelTo50Command = e.ChangeZoomLevelTo25Command = e.ChangeZoomLevelInPercentageCommand = e.ChangeZoomLevelCommand = void 0;\n\n    var r = n(10),\n        s = n(29),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.view.getZoom();\n      }, e.prototype.executeCore = function (t, e) {\n        return this.control.settings.zoomLevel = e, this.control.settings.autoZoom = s.AutoZoomMode.Disabled, this.control.updateLayout(!0), !0;\n      }, e.prototype.getItems = function () {\n        return this.control.settings.zoomLevelItems.map(function (t) {\n          return {\n            value: t,\n            text: 100 * t + \"%\"\n          };\n        });\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.ChangeZoomLevelCommand = a;\n\n    var c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (e, n) {\n        return t.prototype.executeCore.call(this, e, n / 100);\n      }, e.prototype.getValue = function () {\n        return 100 * this.control.view.getZoom();\n      }, e;\n    }(a);\n\n    e.ChangeZoomLevelInPercentageCommand = c;\n\n    var u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.view.getZoom() === this.exactValue;\n      }, e.prototype.executeCore = function (e, n) {\n        return t.prototype.executeCore.call(this, e, this.exactValue), !0;\n      }, e.prototype.getItems = function () {}, e;\n    }(a),\n        h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = .25, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo25Command = h;\n\n    var p = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = .5, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo50Command = p;\n\n    var l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = .75, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo75Command = l;\n\n    var d = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = 1, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo100Command = d;\n\n    var f = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = 1.25, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo125Command = f;\n\n    var y = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = 1.5, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo150Command = y;\n\n    var g = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.exactValue = 2, e;\n      }\n\n      return i(e, t), e;\n    }(u);\n\n    e.ChangeZoomLevelTo200Command = g;\n\n    var m = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.zoomLevelItems;\n      }, e.prototype.executeCore = function (t, e) {\n        return this.control.settings.zoomLevelItems = e, !0;\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.ChangeZoomLevelItemsCommand = m;\n\n    var v = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && !!this.control.render;\n      }, e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.executeCore = function (t) {\n        var e = this.getZoomLevel();\n        return this.control.settings.zoomLevel = e, this.control.settings.autoZoom = s.AutoZoomMode.Disabled, this.control.updateLayout(!0), !0;\n      }, e;\n    }(r.SimpleCommandBase),\n        P = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getZoomLevel = function () {\n        return this.control.render.view.getActualAutoZoomLevel(s.AutoZoomMode.FitContent);\n      }, e;\n    }(v);\n\n    e.FitToScreenCommand = P;\n\n    var C = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getZoomLevel = function () {\n        return this.control.render.view.getActualAutoZoomLevel(s.AutoZoomMode.FitToWidth);\n      }, e;\n    }(v);\n\n    e.FitToWidthCommand = C;\n\n    var S = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.autoZoom;\n      }, e.prototype.executeCore = function (t, e) {\n        return e = parseInt(e), this.control.settings.autoZoom !== e && (e === s.AutoZoomMode.Disabled && (this.control.settings.zoomLevel = this.control.view.getZoom()), this.control.settings.autoZoom = e, this.control.updateLayout(!0), !0);\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.SwitchAutoZoomCommand = S;\n\n    var b = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.settings.autoZoom === s.AutoZoomMode.FitContent;\n      }, e.prototype.executeCore = function (e, n) {\n        return t.prototype.executeCore.call(this, e, s.AutoZoomMode.FitContent);\n      }, e;\n    }(S);\n\n    e.ToggleAutoZoomToContentCommand = b;\n\n    var x = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.settings.autoZoom === s.AutoZoomMode.FitToWidth;\n      }, e.prototype.executeCore = function (e, n) {\n        return t.prototype.executeCore.call(this, e, s.AutoZoomMode.FitToWidth);\n      }, e;\n    }(S);\n\n    e.ToggleAutoZoomToWidthCommand = x;\n\n    var I = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        return t.prototype.isEnabled.call(this) && !!this.control.render;\n      }, e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.autoZoom;\n      }, e.prototype.executeCore = function (t, e) {\n        var n;\n        return n = void 0 === e ? this.control.settings.autoZoom === s.AutoZoomMode.Disabled ? s.AutoZoomMode.FitContent : s.AutoZoomMode.Disabled : e ? s.AutoZoomMode.FitContent : s.AutoZoomMode.Disabled, this.control.settings.autoZoom !== n && (n || (this.control.settings.zoomLevel = this.control.view.getZoom()), this.control.settings.autoZoom = n, this.control.updateLayout(!0), !0);\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.ToggleAutoZoomCommand = I;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o183,\n        i = this && this.__extends || (_o183 = function o(t, e) {\n      return (_o183 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o183(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.BindDocumentCommand = void 0;\n\n    var r = n(103),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.executeCore = function (t, e) {\n        if (!e || !Array.isArray(e.nodeDataSource)) throw Error(\"Format exception\");\n        return this.performImportData(e), this.control.updateLayout(!0), !0;\n      }, e.prototype.performImportData = function (t) {\n        var e = this.control.createDocumentDataSource(t.nodeDataSource, t.edgeDataSource, t.dataParameters, t.nodeDataImporter, t.edgeDataImporter);\n        this.control.beginUpdateCanvas(), this.permissionsProvider.lockPermissions();\n        var n = new r.DataLayoutParameters(this.control.settings, t.layoutParameters);\n        e.createModelItems(this.control.history, this.control.model, this.control.shapeDescriptionManager, this.control.selection, n, this.control.settings.snapToGrid, this.control.settings.gridSize, this.control.measurer), this.permissionsProvider.unlockPermissions(), this.control.endUpdateCanvas();\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.BindDocumentCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o184,\n        i = this && this.__extends || (_o184 = function o(t, e) {\n      return (_o184 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o184(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.UnbindDocumentCommand = void 0;\n\n    var r = n(4),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.executeCore = function (t) {\n        return this.permissionsProvider.lockPermissions(), this.control.deleteDocumentDataSource(), r.ModelUtils.deleteAllItems(this.control.history, this.control.model, this.control.selection), this.control.history.clear(), this.permissionsProvider.unlockPermissions(), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.UnbindDocumentCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o185,\n        i = this && this.__extends || (_o185 = function o(t, e) {\n      return (_o185 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o185(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.LockCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getLockState = function () {\n        return !0;\n      }, e;\n    }(n(146).ChangeLockedCommand);\n\n    e.LockCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o186,\n        i = this && this.__extends || (_o186 = function o(t, e) {\n      return (_o186 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o186(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.UnLockCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getLockState = function () {\n        return !1;\n      }, e;\n    }(n(146).ChangeLockedCommand);\n\n    e.UnLockCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o187,\n        i = this && this.__extends || (_o187 = function o(t, e) {\n      return (_o187 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o187(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CloneDownCommand = e.CloneUpCommand = e.CloneRightCommand = e.CloneLeftCommand = e.CloneCommand = void 0;\n\n    var r = n(4),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.control.selection.getSelectedItems();\n        return t.prototype.isEnabled.call(this) && e.length && e.length > 0 && this.permissionsProvider.canAddItems(e);\n      }, e.prototype.executeCore = function (t, e) {\n        var n = r.ModelUtils.createRectangle(this.control.selection.getSelectedItems());\n        return r.ModelUtils.cloneSelectionToOffset(this.control.history, this.control.model, void 0, this.control.selection, this.getOffsetX(n), this.getOffsetY(n)), !0;\n      }, Object.defineProperty(e.prototype, \"isPermissionsRequired\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.getOffsetX = function (t) {\n        return 0;\n      }, e.prototype.getOffsetY = function (t) {\n        return 0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.CloneCommand = s;\n\n    var a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getOffsetX = function (t) {\n        return -t.width;\n      }, e;\n    }(s);\n\n    e.CloneLeftCommand = a;\n\n    var c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getOffsetX = function (t) {\n        return t.width;\n      }, e;\n    }(s);\n\n    e.CloneRightCommand = c;\n\n    var u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getOffsetY = function (t) {\n        return -t.height;\n      }, e;\n    }(s);\n\n    e.CloneUpCommand = u;\n\n    var h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getOffsetY = function (t) {\n        return t.height;\n      }, e;\n    }(s);\n\n    e.CloneDownCommand = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o188,\n        i = this && this.__extends || (_o188 = function o(t, e) {\n      return (_o188 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o188(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeViewUnitsCommand = e.ChangeUnitsCommand = void 0;\n\n    var r = n(76),\n        s = n(281),\n        a = n(10),\n        c = n(37),\n        u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.model.units;\n      }, e.prototype.createHistoryItems = function (t) {\n        return [new s.ChangeUnitsHistoryItem(t)];\n      }, e.prototype.getItems = function () {\n        return Object.keys(c.DiagramLocalizationService.unitItems).map(function (t) {\n          return {\n            value: parseInt(t),\n            text: c.DiagramLocalizationService.unitItems[t]\n          };\n        });\n      }, e;\n    }(r.ChangePagePropertyCommand);\n\n    e.ChangeUnitsCommand = u;\n\n    var h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.viewUnits;\n      }, e.prototype.executeCore = function (t, e) {\n        return this.control.settings.viewUnits = e, !0;\n      }, e.prototype.getItems = function () {\n        return Object.keys(c.DiagramLocalizationService.unitItems).map(function (t) {\n          return {\n            value: parseInt(t),\n            text: c.DiagramLocalizationService.unitItems[t]\n          };\n        });\n      }, e;\n    }(a.SimpleCommandBase);\n\n    e.ChangeViewUnitsCommand = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o189,\n        i = this && this.__extends || (_o189 = function o(t, e) {\n      return (_o189 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o189(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeUnitsHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.units = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.oldUnits = t.model.units, t.model.units = this.units;\n      }, e.prototype.undo = function (t) {\n        t.model.units = this.oldUnits;\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeUnitsHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o190,\n        i = this && this.__extends || (_o190 = function o(t, e) {\n      return (_o190 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o190(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePageColorCommand = void 0;\n\n    var r = n(76),\n        s = n(283),\n        a = n(61),\n        c = n(22),\n        u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return c.ColorUtils.colorToHash(this.control.model.pageColor);\n      }, e.prototype.getDefaultValue = function () {\n        return c.ColorUtils.colorToHash(a.DiagramModel.defaultPageColor);\n      }, e.prototype.createHistoryItems = function (t) {\n        return [new s.ChangePageColorHistoryItem(c.ColorUtils.fromString(t))];\n      }, e;\n    }(r.ChangePagePropertyCommand);\n\n    e.ChangePageColorCommand = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o191,\n        i = this && this.__extends || (_o191 = function o(t, e) {\n      return (_o191 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o191(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangePageColorHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.value = e, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        this.oldValue = t.model.pageColor, t.changePageColor(this.value);\n      }, e.prototype.undo = function (t) {\n        t.changePageColor(this.oldValue);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangePageColorHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o192,\n        i = this && this.__extends || (_o192 = function o(t, e) {\n      return (_o192 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o192(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeShowGridCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.executeCore = function (t, e) {\n        var n = void 0 === e ? !this.control.settings.showGrid : !!e;\n        return this.control.settings.showGrid !== n && (this.control.settings.showGrid = n, !0);\n      }, e.prototype.getValue = function () {\n        return this.control.settings.showGrid;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ChangeShowGridCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o193,\n        i = this && this.__extends || (_o193 = function o(t, e) {\n      return (_o193 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o193(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleFullscreenCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.fullscreen;\n      }, e.prototype.executeCore = function (t, e) {\n        var n = \"boolean\" == typeof e ? e : !t.value;\n        return this.control.settings.fullscreen !== n && (this.control.settings.fullscreen = !t.value, this.control.notifyToggleFullscreen(this.control.settings.fullscreen)), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ToggleFullscreenCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o194,\n        i = this && this.__extends || (_o194 = function o(t, e) {\n      return (_o194 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o194(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleSimpleViewCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.simpleView;\n      }, e.prototype.executeCore = function (t, e) {\n        return \"boolean\" == typeof e ? this.control.settings.simpleView = e : void 0 === e && (this.control.settings.simpleView = !t.value), this.control.updateLayout(!0), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ToggleSimpleViewCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o195,\n        i = this && this.__extends || (_o195 = function o(t, e) {\n      return (_o195 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o195(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleReadOnlyCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabledInReadOnlyMode = function () {\n        return !0;\n      }, e.prototype.getValue = function () {\n        return this.control.settings.readOnly;\n      }, e.prototype.executeCore = function (t, e) {\n        return \"boolean\" == typeof e ? this.control.settings.readOnly = e : void 0 === e && (this.control.settings.readOnly = !t.value), !0;\n      }, e;\n    }(n(10).SimpleCommandBase);\n\n    e.ToggleReadOnlyCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o196,\n        i = this && this.__extends || (_o196 = function o(t, e) {\n      return (_o196 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o196(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EditShapeImageCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.getSelectedShape();\n        return t.prototype.isEnabled.call(this) && !e.image.isEmpty;\n      }, e;\n    }(n(104).EditShapeImageCommandBase);\n\n    e.EditShapeImageCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o197,\n        i = this && this.__extends || (_o197 = function o(t, e) {\n      return (_o197 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o197(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PasteSelectionInPositionCommand = void 0;\n\n    var r = n(142),\n        s = n(13),\n        a = n(6),\n        c = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.calculateSelectionOffset = function (t, e) {\n        var n = t.reduce(function (t, e) {\n          return {\n            x: Math.min(t.x, e instanceof s.Shape ? e.position.x : e instanceof a.Connector ? e.getMinX() : Number.MAX_VALUE),\n            y: Math.min(t.y, e instanceof s.Shape ? e.position.y : e instanceof a.Connector ? e.getMinY() : Number.MAX_VALUE)\n          };\n        }, {\n          x: Number.MAX_VALUE,\n          y: Number.MAX_VALUE\n        }),\n            o = this.control.render.getModelPointByEventPoint(e.x, e.y);\n        this.offsetX = o.x - n.x, this.offsetY = o.y - n.y;\n      }, e.prototype.getShapeNewPosition = function (t) {\n        var e = t.clone();\n        return void 0 !== this.offsetX && void 0 !== this.offsetY && (e = e.offset(this.offsetX, this.offsetY)), r.PasteSelectionCommandBase.getShapeNewPosition(this.control.model, e);\n      }, e.prototype.changeConnectorPoints = function (t) {\n        var e = this;\n        t.points.forEach(function (t) {\n          t.x += e.offsetX, t.y += e.offsetY;\n        }), r.PasteSelectionCommandBase.changeConnectorPoints(this.control.model, t);\n      }, e;\n    }(r.PasteSelectionCommandBase);\n\n    e.PasteSelectionInPositionCommand = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o198,\n        i = this && this.__extends || (_o198 = function o(t, e) {\n      return (_o198 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o198(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ImportXMLCommand = void 0;\n\n    var r = n(291),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.executeCore = function (t, e) {\n        var n = new r.XmlImporter(this.control.shapeDescriptionManager, e).import();\n        return this.control.importModel(n), !0;\n      }, e;\n    }(n(56).ExportImportCommandBase);\n\n    e.ImportXMLCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o199,\n        i = this && this.__extends || (_o199 = function o(t, e) {\n      return (_o199 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o199(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.XmlImporter = void 0;\n\n    var r = n(6),\n        s = n(13),\n        a = n(134),\n        c = n(0),\n        u = n(91),\n        h = n(2),\n        p = n(1),\n        l = n(95),\n        d = n(22),\n        f = n(12),\n        y = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.doc = l.ImportUtils.createDocument(n), o;\n      }\n\n      return i(e, t), e.prototype.getObject = function () {\n        return this.doc;\n      }, e.prototype.getPageObject = function (t) {\n        var e = this.doc.querySelectorAll(\"[ItemKind='DiagramRoot']\");\n        return e && e[0];\n      }, e.prototype.getShapeObjects = function (t) {\n        var e = [];\n        return this.doc.querySelectorAll(\"[ItemKind='DiagramRoot'] > Children > [ItemKind='DiagramShape']\").forEach(function (t) {\n          e.push(t);\n        }), this.doc.querySelectorAll(\"[ItemKind='DiagramRoot'] > Children > [ItemKind='DiagramContainer']\").forEach(function (t) {\n          e.push(t);\n        }), e;\n      }, e.prototype.getConnectorObjects = function (t) {\n        var e = [];\n        return this.doc.querySelectorAll(\"[ItemKind='DiagramRoot'] > Children > [ItemKind='DiagramConnector']\").forEach(function (t) {\n          e.push(t);\n        }), e;\n      }, e.prototype.importPageSettings = function (t, e) {\n        if (e) {\n          var n = e.getAttribute(\"PageSize\"),\n              o = this.getSize(n);\n          o && (t.size = o.clone(), t.pageSize = o.clone());\n        }\n      }, e.prototype.importShape = function (t) {\n        var e = t.getAttribute(\"Position\"),\n            n = this.getPoint(e),\n            o = t.getAttribute(\"Shape\"),\n            i = this.getShapeType(o),\n            r = this.shapeDescriptionManager.get(i),\n            a = new s.Shape(r || u.ShapeDescriptionManager.default, n);\n        a.key = this.getItemKey(t);\n        var c = t.getAttribute(\"Size\"),\n            h = this.getSize(c);\n        h && (a.size = h);\n        var p = t.getAttribute(\"Content\");\n        if (\"string\" == typeof p) a.text = p;else {\n          var l = t.getAttribute(\"Header\");\n          \"string\" == typeof l && (a.text = l);\n        }\n        return this.importStyle(t, a), a;\n      }, e.prototype.importShapeChildren = function (t, e) {\n        var n = [];\n        t.setAttribute(\"dxDiagram\", \"\"), this.doc.querySelectorAll(\"[dxDiagram] > Children > [ItemKind='DiagramShape']\").forEach(function (t) {\n          n.push(t);\n        }), this.doc.querySelectorAll(\"[dxDiagram] > Children > [ItemKind='DiagramContainer']\").forEach(function (t) {\n          n.push(t);\n        }), t.removeAttribute(\"dxDiagram\");\n        var o = [];\n        if (!n) return o;\n\n        for (var i = 0; i < n.length; i++) {\n          var r = n[i],\n              s = this.importShape(r);\n          s.key = e.key + \",\" + s.key;\n          var a = e.clientRectangle;\n          s.position = s.position.clone().offset(a.x, a.y), e.childKeys || (e.childKeys = []), e.childKeys.push(s.key), o.push(s), o = o.concat(this.importShapeChildren(r, s));\n        }\n\n        return o;\n      }, e.prototype.importConnector = function (t) {\n        var e = this,\n            n = [],\n            o = t.getAttribute(\"BeginPoint\"),\n            i = this.getPoint(o);\n        i && n.push(i), t.getAttribute(\"Points\").split(\" \").forEach(function (t) {\n          var o = e.getPoint(t);\n          o && n.push(o);\n        });\n        var s = t.getAttribute(\"EndPoint\"),\n            a = this.getPoint(s);\n        a && n.push(a);\n        var c = new r.Connector(n);\n        c.key = this.getItemKey(t);\n        var u = t.getAttribute(\"EndItemPointIndex\"),\n            h = parseInt(u);\n        c.endConnectionPointIndex = isNaN(h) ? -1 : h;\n        var p = t.getAttribute(\"BeginItemPointIndex\"),\n            l = parseInt(p);\n        c.beginConnectionPointIndex = isNaN(l) ? -1 : l;\n        var d = t.getAttribute(\"EndItem\");\n        void 0 !== d && this.assert(d, \"string\");\n        var f = t.getAttribute(\"BeginItem\");\n        void 0 !== f && this.assert(f, \"string\"), c.endItemKey = d, c.beginItemKey = f;\n        var y = t.getAttribute(\"Content\");\n        return \"string\" == typeof y && c.setText(y), this.importStyle(t, c), c;\n      }, e.prototype.importStyle = function (t, e) {\n        var n = t.getAttribute(\"Background\");\n        \"string\" == typeof n && (e.style.fill = this.getColor(n));\n        var o = t.getAttribute(\"Stroke\");\n        \"string\" == typeof o && (e.style.stroke = this.getColor(o));\n        var i = t.getAttribute(\"Foreground\");\n        \"string\" == typeof i && (e.styleText.fill = this.getColor(i));\n        var r = t.getAttribute(\"FontFamily\");\n        \"string\" == typeof r && (e.styleText[\"font-family\"] = r);\n        var s = t.getAttribute(\"FontSize\");\n        \"string\" == typeof s && (e.styleText[\"font-size\"] = s), \"Bold\" === t.getAttribute(\"FontWeight\") && (e.styleText[\"font-weight\"] = \"bold\"), \"Italic\" === t.getAttribute(\"FontStyle\") && (e.styleText[\"font-style\"] = \"italic\"), \"Underline\" === t.getAttribute(\"TextDecorations\") && (e.styleText[\"text-decoration\"] = \"underline\");\n        var a = t.getAttribute(\"TextAlignment\");\n        \"Left\" === a ? e.styleText[\"text-anchor\"] = \"start\" : \"Right\" === a ? e.styleText[\"text-anchor\"] = \"end\" : \"Center\" === a && (e.styleText[\"text-anchor\"] = \"middle\");\n      }, e.prototype.getShapeType = function (t) {\n        return e.shapeTypes[t] ? e.shapeTypes[t] : t && t.toLowerCase().indexOf(\"container\") > -1 ? c.ShapeTypes.VerticalContainer : c.ShapeTypes.Rectangle;\n      }, e.prototype.getItemKey = function (t) {\n        return (parseInt(t.tagName.replace(\"Item\", \"\")) - 1).toString();\n      }, e.prototype.getNumbers = function (t) {\n        var e = t.split(\",\");\n        return e && e.length ? e.map(function (t) {\n          return +t;\n        }) : [];\n      }, e.prototype.getSize = function (t) {\n        if (t) {\n          var e = this.getNumbers(t);\n          if (e.length >= 2) return this.assert(e[0], \"number\"), this.assert(e[1], \"number\"), new h.Size(f.UnitConverter.pixelsToTwips(e[0]), f.UnitConverter.pixelsToTwips(e[1]));\n        }\n      }, e.prototype.getPoint = function (t) {\n        if (t) {\n          var e = this.getNumbers(t);\n          if (e.length >= 2) return this.assert(e[0], \"number\"), this.assert(e[1], \"number\"), new p.Point(f.UnitConverter.pixelsToTwips(e[0]), f.UnitConverter.pixelsToTwips(e[1]));\n        }\n      }, e.prototype.getColor = function (t) {\n        t = \"#\" === t.charAt(0) ? t.substr(1) : t;\n        var e = parseInt(t, 16);\n        return isNaN(e) ? void 0 : d.ColorUtils.colorToHash(e);\n      }, e.shapeTypes = {\n        \"BasicShapes.Rectangle\": c.ShapeTypes.Rectangle,\n        \"BasicShapes.Ellipse\": c.ShapeTypes.Ellipse,\n        \"BasicShapes.Triangle\": c.ShapeTypes.Triangle,\n        \"BasicShapes.Pentagon\": c.ShapeTypes.Pentagon,\n        \"BasicShapes.Hexagon\": c.ShapeTypes.Hexagon,\n        \"BasicShapes.Octagon\": c.ShapeTypes.Octagon,\n        \"BasicShapes.Diamond\": c.ShapeTypes.Diamond,\n        \"BasicShapes.Cross\": c.ShapeTypes.Cross,\n        \"BasicShapes.Star5\": c.ShapeTypes.Star,\n        \"BasicFlowchartShapes.StartEnd\": c.ShapeTypes.Terminator,\n        \"BasicFlowchartShapes.Data\": c.ShapeTypes.Data,\n        \"BasicFlowchartShapes.Database\": c.ShapeTypes.Database,\n        \"BasicFlowchartShapes.ExternalData\": c.ShapeTypes.StoredData,\n        \"BasicFlowchartShapes.Process\": c.ShapeTypes.Process,\n        \"BasicFlowchartShapes.Decision\": c.ShapeTypes.Decision,\n        \"BasicFlowchartShapes.Subprocess\": c.ShapeTypes.PredefinedProcess,\n        \"BasicFlowchartShapes.Document\": c.ShapeTypes.Document,\n        \"BasicFlowchartShapes.Custom1\": c.ShapeTypes.ManualInput,\n        \"BasicFlowchartShapes.Custom2\": c.ShapeTypes.ManualOperation,\n        \"ArrowShapes.SimpleArrow\": c.ShapeTypes.ArrowLeft,\n        \"ArrowShapes.SimpleDoubleArrow\": c.ShapeTypes.ArrowLeftRight\n      }, e;\n    }(a.ImporterBase);\n\n    e.XmlImporter = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o200,\n        i = this && this.__extends || (_o200 = function o(t, e) {\n      return (_o200 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o200(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.InsertShapeImageCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.getSelectedShape();\n        return t.prototype.isEnabled.call(this) && e.image.isEmpty;\n      }, e;\n    }(n(104).EditShapeImageCommandBase);\n\n    e.InsertShapeImageCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o201,\n        i = this && this.__extends || (_o201 = function o(t, e) {\n      return (_o201 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o201(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteShapeImageCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.isEnabled = function () {\n        var e = this.getSelectedShape();\n        return t.prototype.isEnabled.call(this) && !e.image.isEmpty;\n      }, e.prototype.executeCore = function (e, n) {\n        return t.prototype.executeCore.call(this, e, void 0);\n      }, e;\n    }(n(104).EditShapeImageCommandBase);\n\n    e.DeleteShapeImageCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o202,\n        i = this && this.__extends || (_o202 = function o(t, e) {\n      return (_o202 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o202(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStrokeStyleCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"stroke-dasharray\";\n      }, e;\n    }(n(74).ChangeStylePropertyCommand);\n\n    e.ChangeStrokeStyleCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o203,\n        i = this && this.__extends || (_o203 = function o(t, e) {\n      return (_o203 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o203(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeStrokeWidthCommand = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getStyleProperty = function () {\n        return \"stroke-width\";\n      }, e;\n    }(n(74).ChangeStylePropertyCommand);\n\n    e.ChangeStrokeWidthCommand = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o204,\n        i = this && this.__extends || (_o204 = function o(t, e) {\n      return (_o204 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o204(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutTreeVerticalBottomToTopCommand = void 0;\n\n    var r = n(20),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var e = t.prototype.createLayoutSettings.call(this);\n        return e.direction = r.LogicalDirectionKind.Backward, e;\n      }, e;\n    }(n(138).AutoLayoutTreeVerticalCommand);\n\n    e.AutoLayoutTreeVerticalBottomToTopCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o205,\n        i = this && this.__extends || (_o205 = function o(t, e) {\n      return (_o205 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o205(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutTreeHorizontalRightToLeftCommand = void 0;\n\n    var r = n(20),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var e = t.prototype.createLayoutSettings.call(this);\n        return e.direction = r.LogicalDirectionKind.Backward, e;\n      }, e;\n    }(n(144).AutoLayoutTreeHorizontalCommand);\n\n    e.AutoLayoutTreeHorizontalRightToLeftCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o206,\n        i = this && this.__extends || (_o206 = function o(t, e) {\n      return (_o206 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o206(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutLayeredVerticalBottomToTopCommand = void 0;\n\n    var r = n(20),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var e = t.prototype.createLayoutSettings.call(this);\n        return e.direction = r.LogicalDirectionKind.Backward, e;\n      }, e;\n    }(n(145).AutoLayoutLayeredVerticalCommand);\n\n    e.AutoLayoutLayeredVerticalBottomToTopCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o207,\n        i = this && this.__extends || (_o207 = function o(t, e) {\n      return (_o207 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o207(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoLayoutLayeredHorizontalRightToLeftCommand = void 0;\n\n    var r = n(20),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createLayoutSettings = function () {\n        var e = t.prototype.createLayoutSettings.call(this);\n        return e.direction = r.LogicalDirectionKind.Backward, e;\n      }, e;\n    }(n(143).AutoLayoutLayeredHorizontalCommand);\n\n    e.AutoLayoutLayeredHorizontalRightToLeftCommand = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o208,\n        i = this && this.__extends || (_o208 = function o(t, e) {\n      return (_o208 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o208(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorRoutingModeCommand = void 0;\n\n    var r = n(10),\n        s = n(29),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.getValue = function () {\n        return this.control.settings.connectorRoutingMode;\n      }, e.prototype.executeCore = function (t, e) {\n        var n = void 0 !== e ? e : s.ConnectorRoutingMode.None;\n        return this.control.settings.connectorRoutingMode = n, !0;\n      }, e;\n    }(r.SimpleCommandBase);\n\n    e.ChangeConnectorRoutingModeCommand = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DiagramControl = void 0;\n\n    var o = n(1),\n        i = n(19),\n        r = n(302),\n        s = n(82),\n        a = n(303),\n        c = n(61),\n        u = n(332),\n        h = n(335),\n        p = n(336),\n        l = n(337),\n        d = n(91),\n        f = n(345),\n        y = n(29),\n        g = n(16),\n        m = n(350),\n        v = n(4),\n        P = n(351),\n        C = n(3),\n        S = n(354),\n        b = n(46),\n        x = n(355),\n        I = n(369),\n        _ = n(78),\n        w = n(6),\n        T = n(103),\n        O = n(380),\n        E = n(17),\n        M = n(381),\n        D = n(382),\n        A = n(383),\n        R = n(384),\n        L = n(385),\n        N = n(386),\n        j = function () {\n      function t() {\n        this.updateLockCount = 0, this.shouldUpdateItemsByModel = !1, this.reloadContentNeeded = !1, this.reloadContentParameters = new O.ReloadContentParameters(), this.reloadContentByExternalChangesParameters = new O.ReloadContentParameters(), this.settings = new y.DiagramSettings(), this.shapeDescriptionManager = new d.ShapeDescriptionManager(), this.shapeDescriptionManager.onShapeDecriptionChanged.add(this), this.model = new c.DiagramModel(), this.selection = new u.Selection(this.model), this.onNativeAction = new C.EventDispatcher(), this.apiController = new S.ApiController(this.onNativeAction, this.selection, this.model), this.selection.onChanged.add(this.apiController), this.permissionsProvider = new x.PermissionsProvider(this.apiController), this.permissionsProvider.onRequestOperation.add(this), this.selection.onChanged.add(this.permissionsProvider), this.routingModel = new I.ConnectorRoutingModel(), this.settings.onConnectorRoutingModeChanged.add(this.routingModel), this.modelManipulator = new r.ModelManipulator(this.model, this.routingModel, this.permissionsProvider), this.modelManipulator.onModelChanged.add(this.permissionsProvider), this.history = new h.History(this.modelManipulator), this.history.onChanged.add(this), this.barManager = new p.BarManager(this), this.selection.onChanged.add(this.barManager), this.view = new m.ViewController(this.settings, this.barManager), this.commandManager = new s.CommandManager(this), this.eventManager = new a.EventManager(this), this.isTouchUIEnabled = this.hasTouchDragEvents || this.hasMaxTouchPoints, this.eventManager.initialize(this.model, this.selection, this.isTouchUIEnabled), this.modelManipulator.commitItemsCreateChanges(), this.toolboxManager = new P.ToolboxManager(this.shapeDescriptionManager), b.ImageCache.instance.onReadyStateChanged.add(this);\n      }\n\n      return Object.defineProperty(t.prototype, \"operationSettings\", {\n        get: function get() {\n          return this.permissionsProvider.operationSettings;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"hasMaxTouchPoints\", {\n        get: function get() {\n          return \"undefined\" != typeof navigator && navigator.maxTouchPoints > 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"hasTouchDragEvents\", {\n        get: function get() {\n          return i.Browser.TouchUI;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.cleanMarkup = function (t) {\n        t = t || function (t) {\n          E.RenderUtils.removeElement(t);\n        }, this.toolboxManager.clean(t), this.barManager.clean(), this.render && (this.settings.onZoomChanged.remove(this.render.view), this.settings.onViewChanged.remove(this.render.page), this.settings.onViewChanged.remove(this.render.view), this.settings.onReadOnlyChanged.remove(this.render), this.settings.onReadOnlyChanged.remove(this.render.selection), this.eventManager.cleanToolboxes(this.settings.onReadOnlyChanged), this.eventManager.onTextInputOperation.remove(this.render.input), this.eventManager.onTextInputOperation.remove(this.render.items), this.eventManager.onTextInputOperation.remove(this.render.selection), this.eventManager.onMouseOperation.remove(this.render.items), this.eventManager.onMouseOperation.remove(this.render.selection), this.eventManager.onMouseOperation.remove(this.render.view), this.eventManager.onMouseOperation.remove(this.render), this.eventManager.onVisualizersUpdate.remove(this.render.selection), this.modelManipulator.onModelSizeChanged.remove(this.render.view), this.modelManipulator.onModelSizeChanged.remove(this.render.page), this.modelManipulator.onModelChanged.remove(this.render.items), this.modelManipulator.onModelChanged.remove(this.render.page), this.modelManipulator.onModelChanged.remove(this.render.selection), this.selection.onChanged.remove(this.render.selection), this.selection.onChanged.remove(this.render.items), this.render.clean(t), this.render = void 0);\n      }, t.prototype.createDocument = function (t, e, n) {\n        this.measurer || this.initMeasurer(t), this.render ? this.render.replaceParent(t, e) : (this.render = new l.RenderManager(t, this.eventManager, this.measurer, {\n          pageColor: this.model.pageColor,\n          modelSize: this.model.size,\n          pageLandscape: this.model.pageLandscape,\n          pageSize: this.model.pageSize,\n          simpleView: this.settings.simpleView,\n          readOnly: this.settings.readOnly,\n          contextMenuEnabled: this.settings.contextMenuEnabled,\n          gridSize: this.settings.gridSize,\n          gridVisible: this.settings.showGrid,\n          zoomLevel: this.settings.zoomLevel,\n          autoZoom: this.settings.autoZoom,\n          rectangle: this.model.getRectangle(!0),\n          isTouchUIEnabled: this.isTouchUIEnabled\n        }, e, n), this.createRenderManagerDragEventsHandler().attach(this.render), this.settings.onZoomChanged.add(this.render.view), this.settings.onViewChanged.add(this.render.page), this.settings.onViewChanged.add(this.render.view), this.settings.onReadOnlyChanged.add(this.render), this.settings.onReadOnlyChanged.add(this.render.selection), this.eventManager.onTextInputOperation.add(this.render.input), this.eventManager.onTextInputOperation.add(this.render.items), this.eventManager.onTextInputOperation.add(this.render.selection), this.eventManager.onTextInputOperation.add(this), this.eventManager.onMouseOperation.add(this.render.items), this.eventManager.onMouseOperation.add(this.render.selection), this.eventManager.onMouseOperation.add(this.render.view), this.eventManager.onMouseOperation.add(this.render), this.eventManager.onVisualizersUpdate.add(this.render.selection), this.modelManipulator.onModelSizeChanged.add(this.render.view), this.modelManipulator.onModelSizeChanged.add(this.render.page), this.modelManipulator.onModelChanged.add(this.render.items), this.modelManipulator.onModelChanged.add(this.render.page), this.modelManipulator.onModelChanged.add(this.render.selection), this.selection.onChanged.add(this.render.selection), this.selection.onChanged.add(this.render.items), this.render.update(!1), this.render.onNewModel(this.model.items), this.modelManipulator.commitItemsCreateChanges(), this.view.initialize(this.render.view), this.settings.zoomLevelWasChanged && this.raiseCanvasViewActualZoomChanged(), this.selection.raiseSelectionChanged());\n      }, t.prototype.createToolbox = function (t, e, n, o) {\n        var i = this.createToolboxCore(t, !0, e, n, o);\n        this.settings.onReadOnlyChanged.add(i), i.onDragOperation.add(this), i.onDragOperation.add(this.apiController), this.eventManager.registerToolbox(i);\n      }, t.prototype.createContextToolbox = function (t, e, n, o, i) {\n        this.contextToolbox && this.cleanContextToolbox(t), this.contextToolbox = this.createToolboxCore(t, !1, e, n, o), this.contextToolbox.onClickOperation.add(this), this.contextToolboxOnClick = i;\n      }, t.prototype.createToolboxCore = function (t, e, n, o, i) {\n        var r = this.toolboxManager.create(t, this.settings.readOnly, e, n, o, this.getToolboxAllowedShapeTypes.bind(this), this.isTouchUIEnabled, i);\n        return this.createToolboxDragEventsHandler().attach(r), r;\n      }, t.prototype.getToolboxAllowedShapeTypes = function (t) {\n        var e = this,\n            n = [];\n        return this.permissionsProvider.beginUpdateUI(), t.forEach(function (t) {\n          e.permissionsProvider.canAddShapeFromToolbox(t) && n.push(t);\n        }), this.permissionsProvider.endUpdateUI(), n;\n      }, t.prototype.cleanContextToolbox = function (t) {\n        this.contextToolbox && (this.toolboxManager.clean(void 0, this.contextToolbox), this.contextToolbox = void 0);\n      }, t.prototype.refreshToolbox = function (t) {\n        this.permissionsProvider.clearCache(g.DiagramModelOperation.AddShapeFromToolbox), this.toolboxManager.refresh(t);\n      }, t.prototype.applyToolboxFilter = function (t, e) {\n        return this.toolboxManager.applyFilter(t, e);\n      }, t.prototype.notifyToolboxClick = function (t) {\n        this.contextToolboxOnClick && this.contextToolboxOnClick(t);\n      }, t.prototype.initMeasurer = function (t) {\n        this.measurer = new _.TextMeasurer(t);\n      }, t.prototype.onDimensionChanged = function () {\n        i.Browser.TouchUI || this.updateLayout(!0);\n      }, t.prototype.updateLayout = function (t) {\n        void 0 === t && (t = !1), this.render && this.render.update(!t);\n      }, t.prototype.captureFocus = function () {\n        this.render && this.render.input.captureFocus();\n      }, t.prototype.isFocused = function () {\n        return !this.render || this.render.input.isFocused();\n      }, t.prototype.registerBar = function (t) {\n        this.barManager.registerBar(t);\n      }, t.prototype.updateBarItemsState = function (t, e) {\n        this.barManager.updateBarItemsState(t, e);\n      }, t.prototype.getCommand = function (t) {\n        return this.commandManager.getCommand(t);\n      }, t.prototype.getNativeItemByKey = function (t) {\n        var e = this.model.findItem(t);\n        return e && this.apiController.createNativeItem(e);\n      }, t.prototype.getNativeItemByDataKey = function (t) {\n        var e = this.model.findItemByDataKey(t);\n        return e && this.apiController.createNativeItem(e);\n      }, t.prototype.getNativeItems = function () {\n        var t = this;\n        return this.model.items.map(function (e) {\n          return t.apiController.createNativeItem(e);\n        });\n      }, t.prototype.getNativeSelectedItems = function () {\n        var t = this;\n        return this.selection.getKeys().map(function (e) {\n          return t.apiController.createNativeItem(t.model.findItem(e));\n        });\n      }, t.prototype.setSelectedItems = function (t) {\n        this.selection.set(t);\n      }, t.prototype.scrollToItems = function (t) {\n        var e = this,\n            n = C.GeometryUtils.getCommonRectangle(t.map(function (t) {\n          return e.model.findItem(t).rectangle;\n        }));\n        this.view.scrollIntoView(n);\n      }, t.prototype.setInitialStyleProperties = function (t) {\n        this.selection.inputPosition.setInitialStyleProperties(t);\n      }, t.prototype.setInitialTextStyleProperties = function (t) {\n        this.selection.inputPosition.setInitialTextStyleProperties(t);\n      }, t.prototype.setInitialConnectorProperties = function (t) {\n        this.selection.inputPosition.setInitialConnectorProperties(t);\n      }, t.prototype.addCustomShapes = function (t) {\n        var e = this;\n        t.forEach(function (t) {\n          t.apiController = e.apiController, t.defaultWidth && (t.defaultWidth = v.ModelUtils.getTwipsValue(e.model.units, t.defaultWidth)), t.defaultHeight && (t.defaultHeight = v.ModelUtils.getTwipsValue(e.model.units, t.defaultHeight)), t.minWidth && (t.minWidth = v.ModelUtils.getTwipsValue(e.model.units, t.minWidth)), t.minHeight && (t.minHeight = v.ModelUtils.getTwipsValue(e.model.units, t.minHeight)), t.maxWidth && (t.maxWidth = v.ModelUtils.getTwipsValue(e.model.units, t.maxWidth)), t.maxHeight && (t.maxHeight = v.ModelUtils.getTwipsValue(e.model.units, t.maxHeight)), e.shapeDescriptionManager.registerCustomShape(t);\n        });\n      }, t.prototype.removeCustomShapes = function (t) {\n        var e = this;\n        t.forEach(function (t) {\n          e.shapeDescriptionManager.unregisterCustomShape(t);\n        });\n      }, t.prototype.removeAllCustomShapes = function () {\n        this.shapeDescriptionManager.unregisterAllCustomShapes();\n      }, t.prototype.importModel = function (t) {\n        t.units = this.model.units, this.model = t, this.model.initializeKeyCounter(), this.apiController.model = t, this.onImportData();\n      }, t.prototype.importItemsData = function () {\n        this.model.iterateItems(function (t) {\n          t instanceof w.Connector && t.invalidateRenderPoints();\n        }), this.onImportData();\n      }, t.prototype.onImportData = function () {\n        this.render && (this.render.clear(), this.render.onNewModel(this.model.items)), this.permissionsProvider.clearCache(), this.selection.initialize(this.model), this.modelManipulator.initialize(this.model, this.routingModel), this.history.clear(), this.eventManager.initialize(this.model, this.selection, this.isTouchUIEnabled), this.modelManipulator.commitPageChanges(), this.modelManipulator.commitItemsCreateChanges(), this.notifyViewChanged(), this.notifyHistoryChanged();\n      }, t.prototype.createDocumentDataSource = function (t, e, n, o, i) {\n        return this.documentDataSource = new f.DocumentDataSource(this, t, e, n, o, i), this.apiController.setDataSource(this.documentDataSource), this.documentDataSource;\n      }, t.prototype.deleteDocumentDataSource = function () {\n        this.apiController.setDataSource(null), delete this.documentDataSource;\n      }, t.prototype.applyShapeSizeSettings = function (t) {\n        this.settings.applyShapeSizeSettings(t, this.model.units);\n      }, t.prototype.applyOperationSettings = function (t) {\n        this.permissionsProvider.operationSettings.applySettings(t);\n      }, t.prototype.beginUpdateCanvas = function () {\n        this.render && (this.render.items.beginUpdate(), this.render.selection.beginUpdate());\n      }, t.prototype.endUpdateCanvas = function () {\n        this.render && (this.render.items.endUpdate(), this.render.selection.endUpdate());\n      }, t.prototype.beginUpdate = function () {\n        this.barManager.beginUpdate(), this.apiController.beginUpdate(), this.eventManager.beginUpdate();\n      }, t.prototype.endUpdate = function () {\n        this.barManager.endUpdate(), this.apiController.endUpdate(), this.eventManager.endUpdate();\n      }, t.prototype.notifyEdgeInserted = function (t, e, n) {\n        this.onEdgeInserted ? this.onEdgeInserted(t, e, n) : e(t);\n      }, t.prototype.notifyEdgeUpdated = function (t, e, n, o) {\n        this.onEdgeUpdated ? this.onEdgeUpdated(t, e, n, o) : n(t, e);\n      }, t.prototype.notifyEdgeRemoved = function (t, e, n, o) {\n        this.onEdgeUpdated ? this.onEdgeRemoved(t, e, n, o) : n(t, e);\n      }, t.prototype.notifyNodeInserted = function (t, e, n) {\n        this.onNodeInserted ? this.onNodeInserted(t, e, n) : e(t);\n      }, t.prototype.notifyNodeUpdated = function (t, e, n, o) {\n        this.onNodeUpdated ? this.onNodeUpdated(t, e, n, o) : n(t, e);\n      }, t.prototype.notifyNodeRemoved = function (t, e, n, o) {\n        this.onNodeRemoved ? this.onNodeRemoved(t, e, n, o) : n(t, e);\n      }, t.prototype.reloadInsertedItem = function (t) {\n        this.settings.reloadInsertedItemRequired && this.reloadContent(t);\n      }, t.prototype.reloadContent = function (t, e, n, o) {\n        if (this.documentDataSource) {\n          this.isChangesLocked() && (this.reloadContentNeeded = !0);\n          var i = !0 === o || void 0 === o && !this.reloadContentNeeded,\n              r = i ? this.reloadContentByExternalChangesParameters : this.reloadContentParameters;\n          r.add(t, e, n), this.isChangesLocked() || (this.reloadContentCore(r, i), this.barManager.updateItemsState());\n        }\n      }, t.prototype.reloadContentCore = function (t, e) {\n        var n = this,\n            o = t.getData && t.getData(),\n            i = this.documentDataSource.refetchData(o && o.nodeDataSource, o && o.edgeDataSource);\n        this.beginUpdateCanvas(), this.permissionsProvider.lockPermissions(), this.documentDataSource.updateModelItems(this.history, this.model, this.shapeDescriptionManager, this.selection, new T.DataLayoutParameters(this.settings, t.layoutParameters), e, t.dataKeys, function (t) {\n          n.modelManipulator.commitItemUpdateChanges(t);\n        }, i, this.settings.snapToGrid, this.settings.gridSize, this.measurer), this.permissionsProvider.unlockPermissions(), this.endUpdateCanvas(), t.clear();\n      }, t.prototype.notifyHistoryChanged = function () {\n        this.documentDataSource ? (this.shouldUpdateItemsByModel = !0, this.settings.readOnly || this.notifyDataChanges()) : this.raiseOnChanged();\n      }, t.prototype.notifyViewChanged = function () {\n        this.settings.notifyViewChanged();\n      }, t.prototype.notifyToolboxDragStart = function () {\n        this.onToolboxDragStart && this.onToolboxDragStart();\n      }, t.prototype.notifyToolboxDragEnd = function () {\n        this.onToolboxDragEnd && this.onToolboxDragEnd();\n      }, t.prototype.notifyTextInputStart = function (t, e, n, o) {\n        this.onTextInputStart && this.onTextInputStart();\n      }, t.prototype.notifyTextInputEnd = function (t) {\n        this.onTextInputEnd && this.onTextInputEnd();\n      }, t.prototype.notifyTextInputPermissionsCheck = function (t, e) {}, t.prototype.notifyToggleFullscreen = function (t) {\n        this.onToggleFullscreen && this.onToggleFullscreen(t);\n      }, t.prototype.notifyShowContextMenu = function (t, e, n) {\n        if (this.onShowContextMenu && this.render) {\n          var i = void 0;\n\n          if (this.selection.getSelectedItems(!0).length > 0) {\n            var r = v.ModelUtils.createRectangle(this.selection.getSelectedItems(!0)),\n                s = this.render.getEventPointByModelPoint(r.createPosition()),\n                a = this.render.view.getAbsoluteSize(r.createSize());\n            i = {\n              x: s.x,\n              y: s.y,\n              width: a.width,\n              height: a.height\n            };\n          }\n\n          if (t) this.contextMenuPosition = new o.Point(t.x, t.y), this.onShowContextMenu(t.x, t.y, n, i);else if (e) {\n            var c = this.render.getEventPointByModelPoint(e);\n            this.contextMenuPosition = c.clone(), this.onShowContextMenu(c.x, c.y, n, i);\n          }\n        }\n      }, t.prototype.notifyHideContextMenu = function () {\n        this.onHideContextMenu && this.render && this.onHideContextMenu();\n      }, t.prototype.notifyShowContextToolbox = function (t, e, n, o, i) {\n        if (this.onShowContextToolbox && this.render) {\n          var r = this.render.getEventPointByModelPoint(t);\n          this.onShowContextToolbox(r.x, r.y, n, o, i), this.render.view.notifyShowContextToolbox();\n        }\n      }, t.prototype.notifyHideContextToolbox = function () {\n        this.onHideContextToolbox && this.render && (this.onHideContextToolbox(), this.render.view.notifyHideContextToolbox());\n      }, t.prototype.notifyShapeDescriptionChanged = function (t) {\n        this.modelManipulator.updateShapeDescription(t);\n      }, t.prototype.notifyImageCacheReadyStateChanged = function (t) {\n        this.barManager.updateItemsState();\n      }, t.prototype.raiseCanvasViewActualZoomChanged = function () {\n        this.render.view.raiseActualZoomChanged();\n      }, t.prototype.notifyRequestOperation = function (t, e) {\n        this.requestOperationByDataSource(t, e) || this.onRequestOperation && this.onRequestOperation(t, e);\n      }, t.prototype.requestOperationByDataSource = function (t, e) {\n        if (!this.documentDataSource || !this.documentDataSource.IsNodeParentIdMode() && !this.documentDataSource.IsNodeItemsMode()) return !1;\n\n        if (t === g.DiagramModelOperation.ChangeConnection) {\n          var n = e,\n              o = n.shape && this.model.findItem(n.shape.id),\n              i = n.connector && this.model.findItem(n.connector.id);\n          if (!o || !i) return;\n          if (n.position === w.ConnectorPosition.End) for (var r = 0; r < o.attachedConnectors.length; r++) {\n            var s = o.attachedConnectors[r];\n\n            if (s !== i && s.endItem && s.endItem === o) {\n              n.allowed = !1;\n              break;\n            }\n          }\n          n.allowed && i.beginItem && i.endItem && this.isShapeParent(i.endItem, i.beginItem) && (n.allowed = !1);\n        }\n\n        return !e.allowed;\n      }, t.prototype.isShapeParent = function (t, e) {\n        if (t === e) return !0;\n\n        for (var n = 0; n < t.attachedConnectors.length; n++) {\n          var o = t.attachedConnectors[n];\n\n          if (o.beginItem === t && o.endItem) {\n            var i = o.endItem;\n            if (i === e || this.isShapeParent(i, e)) return !0;\n          }\n        }\n\n        return !1;\n      }, t.prototype.isChangesLocked = function () {\n        return this.updateLockCount > 0;\n      }, t.prototype.beginChangesNotification = function () {\n        this.isChangesLocked() || this.changesLockChanged && this.changesLockChanged(!0), this.updateLockCount++;\n      }, t.prototype.endChangesNotification = function (t) {\n        var e = this;\n        this.updateLockCount--, this.isChangesLocked() || (this.changesLockChanged(!1), t || setTimeout(function () {\n          e.notifyReloadContent(), e.notifyDataChanges();\n        }, 0));\n      }, t.prototype.changesLockChanged = function (t) {\n        t ? this.lockedReadOnly = this.settings.readOnly : t = this.lockedReadOnly, this.commandManager.getCommand(s.DiagramCommand.ToggleReadOnly).execute(t);\n      }, t.prototype.notifyDataChanges = function () {\n        this.isChangesLocked() || (this.shouldUpdateItemsByModel && (this.documentDataSource.updateItemsByModel(this.model), this.shouldUpdateItemsByModel = !1), this.raiseOnChanged());\n      }, t.prototype.notifyReloadContent = function () {\n        this.reloadContentNeeded && (this.reloadContentParameters.empty || this.reloadContentCore(this.reloadContentParameters, !1), this.reloadContentByExternalChangesParameters.empty || this.reloadContentCore(this.reloadContentByExternalChangesParameters, !0), this.reloadContentNeeded = !1);\n      }, t.prototype.raiseOnChanged = function () {\n        this.onChanged && this.onChanged();\n      }, t.prototype.createRenderManagerDragEventsHandler = function () {\n        return window.PointerEvent ? new L.RenderManagerPointerDragEventsHandler() : this.hasTouchDragEvents ? new R.RenderManagerTouchDragEventsHandler() : new N.RenderManagerMouseDragEventsHandler();\n      }, t.prototype.createToolboxDragEventsHandler = function () {\n        return window.PointerEvent ? new D.ToolboxPointerDragEventsHandler(this.isTouchUIEnabled) : this.hasTouchDragEvents ? new M.ToolboxTouchDragEventsHandler(this.isTouchUIEnabled) : new A.ToolboxMouseDragEventsHandler(this.isTouchUIEnabled);\n      }, t;\n    }();\n\n    e.DiagramControl = j;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ModelManipulator = void 0;\n\n    var o = n(87),\n        i = n(2),\n        r = n(59),\n        s = n(46),\n        a = n(131),\n        c = n(16),\n        u = n(3),\n        h = n(6),\n        p = n(99),\n        l = n(4),\n        d = function () {\n      function t(t, e, n) {\n        this.onModelChanged = new u.EventDispatcher(), this.onModelSizeChanged = new u.EventDispatcher(), this.initializeCore(t, e), this.permissionsProvider = n, this.imageLoader = new a.ImageLoader(this.updateShapeImage.bind(this));\n      }\n\n      return t.prototype.initialize = function (t, e) {\n        this.initializeCore(t, e), this.model.loadAllImages(this.imageLoader), this.updateModelSize();\n      }, t.prototype.initializeCore = function (t, e) {\n        this.model = t, this.routingModel = e, this.routingModel && this.routingModel.initialize(t);\n      }, t.prototype.commitPageChanges = function () {\n        this.raisePageSizeChanged(this.model.pageSize.clone(), this.model.pageLandscape), this.raiseModelSizeChanged(this.model.size.clone()), this.raisePageColorChanged(this.model.pageColor), this.raiseModelRectangleChanged(l.ModelUtils.createRectangle(this.model.items));\n      }, t.prototype.commitItemsCreateChanges = function () {\n        r.Diagnostics.timer(\"new model: model changes\"), this.commitItemsChangesCore(p.ItemChangeType.Create, this.model.items), r.Diagnostics.endTimer();\n      }, t.prototype.commitItemUpdateChanges = function (t) {\n        this.commitItemsChangesCore(p.ItemChangeType.UpdateStructure, [t]);\n      }, t.prototype.commitItemsChangesCore = function (t, e) {\n        var n = [];\n        e.forEach(function (e) {\n          n.push(new p.ItemChange(e, t));\n        }), n.length && this.raiseModelChanged(n);\n      }, t.prototype.insertToContainer = function (t, e) {\n        if (t.container && e && t.container.key !== e.key) throw Error(\"To insert an item to a container it's necessary to remove it from the current container.\");\n        e && (-1 === e.children.indexOf(t) && e.children.push(t), t.container = e, this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Update)]));\n      }, t.prototype.removeFromContainer = function (t) {\n        if (t.container) {\n          var e = t.container.children.indexOf(t);\n          t.container.children.splice(e, 1), t.container = void 0, this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Update)]);\n        }\n      }, t.prototype.changeStyle = function (t, e, n) {\n        this.changeStyleCore(t, t.style, e, n);\n      }, t.prototype.changeStyleText = function (t, e, n) {\n        this.changeStyleCore(t, t.styleText, e, n);\n      }, t.prototype.changeStyleCore = function (t, e, n, o) {\n        void 0 !== o ? e[n] = o : delete e[n], this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties)]);\n      }, t.prototype.changeZIndex = function (t, e) {\n        t.zIndex = e, this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Update)]);\n      }, t.prototype.changeLocked = function (t, e) {\n        t.locked = e, this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateClassName)]);\n      }, t.prototype.changeCustomData = function (t, e) {\n        t.customData = u.ObjectUtils.cloneObject(e), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateStructure)]);\n      }, t.prototype.addShape = function (t, e) {\n        if (t.attachedConnectors.length) throw Error(\"A creating shape should not contain existing connectors.\");\n        return t.key = void 0 !== e ? e : this.model.getNextKey(), this.insertShape(t);\n      }, t.prototype.insertShape = function (t) {\n        this.model.pushItem(t);\n        var e = this.permissionsProvider.canAddItems([t]);\n        return this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Create, e)]), this.model.loadAllImages(this.imageLoader), t;\n      }, t.prototype.resizeShape = function (t, e, n) {\n        t.position = e, t.size = n;\n        var o = this.permissionsProvider.isStoredPermissionsGranted(),\n            i = this.getInteractingItem(t, c.DiagramModelOperation.ResizeShape);\n\n        if (i) {\n          var r = i.size.clone(),\n              s = t.size.clone();\n          s.equals(r) || (o = this.permissionsProvider.canResizeShapes([{\n            shape: t,\n            size: s,\n            oldSize: r\n          }]));\n        }\n\n        var a = this.getInteractingItem(t, c.DiagramModelOperation.MoveShape);\n\n        if (a) {\n          var u = a.position.clone(),\n              h = t.position.clone();\n          h.equals(u) || (o = this.permissionsProvider.canMoveShapes([{\n            shape: t,\n            position: h,\n            oldPosition: u\n          }]));\n        }\n\n        this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, o)]);\n      }, t.prototype.moveShape = function (t, e) {\n        t.position = e;\n        var n = this.permissionsProvider.isStoredPermissionsGranted();\n        this.getInteractingItem(t, c.DiagramModelOperation.AddShape) && (n = this.permissionsProvider.canAddItems([t]));\n        var o = this.getInteractingItem(t, c.DiagramModelOperation.MoveShape);\n\n        if (o) {\n          var i = o.position.clone(),\n              r = t.position.clone();\n          r.equals(i) || (n = this.permissionsProvider.canMoveShapes([{\n            shape: t,\n            position: r,\n            oldPosition: i\n          }]));\n        }\n\n        this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, n)]);\n      }, t.prototype.changeShapeParameters = function (t, e) {\n        t.parameters.forEach(function (t) {\n          var n = e.get(t.key);\n          n && (t.value = n.value);\n        }), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties)]);\n      }, t.prototype.changeShapeText = function (t, e) {\n        t.text = e, this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateStructure)]);\n      }, t.prototype.changeShapeImage = function (t, e) {\n        t.image = e;\n        var n = s.ImageCache.instance.createUnloadedInfoByShapeImageInfo(e);\n        this.imageLoader.load(n), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateStructure)]);\n      }, t.prototype.changeShapeExpanded = function (t, e) {\n        t.expanded = e, t.toggleExpandedSize(), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateStructure)]);\n      }, t.prototype.deleteShape = function (t, e) {\n        if (t.attachedConnectors.length) throw Error(\"A removing shape should not contain existing connectors.\");\n        this.removeShape(t, e);\n      }, t.prototype.removeShape = function (t, e) {\n        this.model.removeItem(t), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Remove, e)]);\n      }, t.prototype.updateShapeImage = function (t) {\n        if (t.imageUrl) {\n          var e = this.model.findShapesByImageUrl(t.imageUrl);\n          e.forEach(function (e) {\n            t.base64 ? e.image.loadBase64Content(t.base64) : e.image.setUnableToLoadFlag();\n          }), this.commitItemsChangesCore(p.ItemChangeType.UpdateStructure, e);\n        }\n      }, t.prototype.updateShapeDescription = function (t) {\n        var e = this.model.findShapesByDescription(t);\n        this.commitItemsChangesCore(p.ItemChangeType.UpdateProperties, e);\n      }, t.prototype.addConnector = function (t, e) {\n        if (t.beginItem || t.endItem) throw Error(\"Creating connector should not contain begin/end items\");\n        return t.key = void 0 !== e ? e : this.model.getNextKey(), this.insertConnector(t);\n      }, t.prototype.insertConnector = function (t) {\n        this.model.pushItem(t);\n        var e = this.routingModel.createStrategy(t.properties.lineOption);\n        e ? t.changeRoutingStrategy(e) : t.clearRoutingStrategy();\n        var n = this.permissionsProvider.canAddItems([t]);\n        return this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Create, n)]), t;\n      }, t.prototype.deleteConnector = function (t) {\n        if (t.beginItem || t.endItem) throw Error(\"Creating connector should not contain begin/end items\");\n        this.removeConnector(t);\n      }, t.prototype.removeConnector = function (t) {\n        this.model.removeItem(t);\n        var e = this.permissionsProvider.canDeleteItems([t]);\n        this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.Remove, e)]);\n      }, t.prototype.addDeleteConnectorPoint = function (t, e) {\n        var n = this.getConnectorInteractingPoints(t);\n        e(t), this.addDeleteConnectorPointCore(t, n);\n      }, t.prototype.moveConnectorPoint = function (t, e, n) {\n        n(t), this.moveConnectorPointCore(t, e);\n      }, t.prototype.changeConnectorPoints = function (t, e) {\n        var n = this;\n        e(t), t.points.forEach(function (e, o) {\n          return n.moveConnectorPointCore(t, o);\n        });\n      }, t.prototype.moveConnectorPointCore = function (t, e) {\n        var n = this.getInteractingItem(t),\n            o = this.permissionsProvider.isStoredPermissionsGranted();\n\n        if (n) {\n          var i = 0 < e && e < t.points.length - 1;\n\n          if (i = (i = i || 0 === e && !t.beginItem) || e === t.points.length - 1 && !t.endItem) {\n            var r = n.points.map(function (t) {\n              return t.clone();\n            }),\n                s = t.points.map(function (t) {\n              return t.clone();\n            });\n            u.GeometryUtils.arePointsEqual(r, s) || (o = this.permissionsProvider.canChangeConnectorPoints(t, r, s));\n          }\n        }\n\n        this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, o)]);\n      }, t.prototype.getConnectorInteractingPoints = function (t) {\n        var e = this.getInteractingItem(t);\n        return e ? e.points.map(function (t) {\n          return t.clone();\n        }) : t.points.map(function (t) {\n          return t.clone();\n        });\n      }, t.prototype.addDeleteConnectorPointCore = function (t, e) {\n        var n = this.permissionsProvider.isStoredPermissionsGranted(),\n            o = t.points.map(function (t) {\n          return t.clone();\n        });\n        u.GeometryUtils.arePointsEqual(e, o) || (n = this.permissionsProvider.canChangeConnectorPoints(t, e, o)), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, n)]);\n      }, t.prototype.addConnection = function (t, e, n, o) {\n        var i = t.getExtremeItem(o),\n            r = t.getExtremeConnectionPointIndex(o);\n\n        if (i !== e || r !== n) {\n          if (i) throw Error(\"Connector is already connected\");\n          e.attachedConnectors.push(t), o === h.ConnectorPosition.Begin ? (t.beginItem = e, t.beginConnectionPointIndex = n) : (t.endItem = e, t.endConnectionPointIndex = n), t.invalidateRenderPoints();\n          var s = this.permissionsProvider.canChangeConnection(t, e, void 0, o, n);\n          this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, s)]);\n        }\n      }, t.prototype.setConnectionPointIndex = function (t, e, n) {\n        if (!t.getExtremeItem(n)) throw Error(\"Connection should be connected\");\n        n === h.ConnectorPosition.Begin ? t.beginConnectionPointIndex = e : t.endConnectionPointIndex = e, t.invalidateRenderPoints();\n        var o = t.getExtremeItem(n),\n            i = this.permissionsProvider.canChangeConnection(t, o, o, n, e);\n        this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, i)]);\n      }, t.prototype.deleteConnection = function (t, e) {\n        var n = t.getExtremeItem(e);\n\n        if (n) {\n          n.attachedConnectors.splice(n.attachedConnectors.indexOf(t), 1), e === h.ConnectorPosition.Begin ? (t.beginItem = null, t.beginConnectionPointIndex = -1) : (t.endItem = null, t.endConnectionPointIndex = -1), t.invalidateRenderPoints();\n          var o = this.permissionsProvider.canChangeConnection(t, void 0, n, e, -1);\n          this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties, o)]);\n        }\n      }, t.prototype.changeConnectorProperty = function (t, e, n) {\n        if (t.properties[e] = n, \"lineOption\" === e) {\n          var o = this.routingModel ? this.routingModel.createStrategy(t.properties.lineOption) : void 0;\n          o ? t.changeRoutingStrategy(o) : t.clearRoutingStrategy();\n        } else t.invalidateRenderPoints();\n\n        this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties)]);\n      }, t.prototype.changeConnectorText = function (t, e, n) {\n        t.setText(e, n), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateStructure)]);\n      }, t.prototype.changeConnectorTextPosition = function (t, e, n) {\n        var o = t.getText(e);\n        t.setText(null, e), t.setText(o, n), this.raiseModelChanged([new p.ItemChange(t, p.ItemChangeType.UpdateProperties)]);\n      }, t.prototype.changeModelSize = function (t, e) {\n        this.model.size.width = t.width, this.model.size.height = t.height, this.raiseModelSizeChanged(this.model.size.clone(), e), (e.left || e.top) && (this.model.snapStartPoint = this.model.snapStartPoint.clone().offset(e.left, e.top), this.raiseSnapPointChange(this.model.snapStartPoint));\n      }, t.prototype.changePageSize = function (t) {\n        this.model.pageSize.equals(t) || (this.model.pageSize = t, this.model.size = new i.Size(this.model.pageWidth, this.model.pageHeight), this.raiseModelSizeChanged(this.model.size.clone()), this.raisePageSizeChanged(this.model.pageSize, this.model.pageLandscape));\n      }, t.prototype.changePageLandscape = function (t) {\n        this.model.pageLandscape !== t && (this.model.pageLandscape = t, this.model.pageSize.width !== this.model.pageSize.height && (this.model.size = new i.Size(this.model.pageWidth, this.model.pageHeight), this.raiseModelSizeChanged(this.model.size.clone()), this.raisePageSizeChanged(this.model.pageSize, this.model.pageLandscape)));\n      }, t.prototype.changePageColor = function (t) {\n        this.model.pageColor !== t && (this.model.pageColor = t, this.raisePageColorChanged(t));\n      }, t.prototype.updateModelSize = function () {\n        var t = this.getModelSizeUpdateOffset();\n\n        if (!t.isEmpty()) {\n          var e = Math.max(this.model.size.width + t.left + t.right, this.model.pageWidth),\n              n = Math.max(this.model.size.height + t.top + t.bottom, this.model.pageHeight);\n          this.model.size = new i.Size(e, n);\n        }\n      }, t.prototype.getModelSizeUpdateOffset = function () {\n        var t = this.model.getRectangle(!1),\n            e = this.model.getRectangle(!0);\n        return e.equals(t) || this.raiseModelRectangleChanged(e), this.createModelRectangleOffset(e);\n      }, t.prototype.createModelRectangleOffset = function (t) {\n        var e = this.model.pageWidth,\n            n = this.model.pageHeight,\n            i = this.model.size;\n        return new o.Offsets(-Math.floor(t.x / e) * e, -Math.floor((i.width - t.right) / e) * e, -Math.floor(t.y / n) * this.model.pageHeight, -Math.floor((i.height - t.bottom) / n) * n);\n      }, t.prototype.raiseModelChanged = function (t) {\n        this.onModelChanged.raise1(function (e) {\n          return e.notifyModelChanged(t);\n        });\n      }, t.prototype.raisePageColorChanged = function (t) {\n        this.onModelChanged.raise1(function (e) {\n          return e.notifyPageColorChanged(t);\n        });\n      }, t.prototype.raisePageSizeChanged = function (t, e) {\n        this.onModelChanged.raise1(function (n) {\n          return n.notifyPageSizeChanged(t, e);\n        });\n      }, t.prototype.raiseModelSizeChanged = function (t, e) {\n        this.onModelSizeChanged.raise1(function (n) {\n          return n.notifyModelSizeChanged(t, e);\n        });\n      }, t.prototype.raiseModelRectangleChanged = function (t) {\n        this.onModelSizeChanged.raise1(function (e) {\n          return e.notifyModelRectangleChanged(t);\n        });\n      }, t.prototype.raiseSnapPointChange = function (t) {\n        this.onModelSizeChanged.raise1(function (e) {\n          return e.notifySnapPointPositionChanged(t);\n        });\n      }, t.prototype.getInteractingItem = function (t, e) {\n        return this.permissionsProvider.getInteractingItem(t, e);\n      }, t;\n    }();\n\n    e.ModelManipulator = d;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.EventManager = void 0;\n\n    var o = n(304),\n        i = n(3),\n        r = n(323),\n        s = n(324),\n        a = n(325),\n        c = n(331),\n        u = n(26),\n        h = function () {\n      function t(t) {\n        this.control = t, this.onMouseOperation = new i.EventDispatcher(), this.onTextInputOperation = new i.EventDispatcher(), this.toolboxes = [];\n        var e = t.settings;\n        this.visualizersManager = new a.VisualizerManager(e), this.onMouseOperation.add(this.visualizersManager), this.contextMenuHandler = new s.ContextMenuHandler(), this.contextMenuHandler.onVisibilityChanged.add(t), this.onMouseOperation.add(this.contextMenuHandler), this.onTextInputOperation.add(this.contextMenuHandler), this.contextToolboxHandler = new c.ContextToolboxHandler(), this.contextToolboxHandler.onVisibilityChanged.add(t), this.contextToolboxHandler.onVisibilityChanged.add(this.contextMenuHandler), this.mouseHandler = new o.MouseHandler(t.history, t.view, this.visualizersManager, this.contextToolboxHandler, t.shapeDescriptionManager, e, t.permissionsProvider), this.textInputHandler = new r.TextInputHandler(t), this.visualizersManager.onVisualizersUpdate.add(this.mouseHandler);\n      }\n\n      return Object.defineProperty(t.prototype, \"onVisualizersUpdate\", {\n        get: function get() {\n          return this.visualizersManager.onVisualizersUpdate;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.registerToolbox = function (t) {\n        this.toolboxes.push(t);\n      }, t.prototype.cleanToolboxes = function (t) {\n        this.toolboxes.forEach(function (e) {\n          t.remove(e);\n        }), this.toolboxes = [];\n      }, t.prototype.initialize = function (t, e, n) {\n        this.visualizersManager.initialize(t, this, e, n), this.mouseHandler.initialize(t, e, n), this.contextMenuHandler.initialize(e, n), this.contextToolboxHandler.initialize(n);\n      }, t.prototype.beginUpdate = function (t) {\n        this.contextMenuHandler.beginUpdate(), this.visualizersManager.beginUpdate();\n      }, t.prototype.endUpdate = function () {\n        this.contextMenuHandler.endUpdate(), this.visualizersManager.endUpdate();\n      }, t.prototype.onMouseDown = function (t) {\n        this.mouseHandler.onMouseDown(t), this.contextMenuHandler.onMouseDown(t), this.visualizersManager.onMouseDown(t), this.contextToolboxHandler.onMouseDown(t);\n      }, t.prototype.onMouseMove = function (t) {\n        this.mouseHandler.onMouseMove(t);\n      }, t.prototype.onMouseUp = function (t) {\n        this.contextToolboxHandler.onMouseUp(t), this.mouseHandler.onMouseUp(t), this.contextMenuHandler.onMouseUp(t), this.visualizersManager.onMouseUp(t), this.onDragEndFromToolbox(t);\n      }, t.prototype.onMouseEnter = function (t) {\n        this.visualizersManager.onMouseEnter(t);\n      }, t.prototype.onMouseLeave = function (t) {\n        this.visualizersManager.onMouseLeave(t);\n      }, t.prototype.onDblClick = function (t) {\n        this.mouseHandler.onMouseDblClick(t), this.textInputHandler.onDblClick(t), this.control.apiController.notifyDblClick(t);\n      }, t.prototype.onClick = function (t) {\n        this.mouseHandler.onMouseClick(t), this.control.apiController.notifyClick(t);\n      }, t.prototype.onContextMenu = function (t) {\n        this.contextMenuHandler.onContextMenu(t);\n      }, t.prototype.onLongTouch = function (t) {\n        this.mouseHandler.onLongTouch(t), this.contextMenuHandler.onLongTouch(t);\n      }, t.prototype.onBlur = function (t) {\n        this.contextMenuHandler.onBlur(t), this.contextToolboxHandler.onBlur(t), this.visualizersManager.onBlur(t);\n      }, t.prototype.onFocus = function (t) {\n        this.contextMenuHandler.onFocus(t), this.contextToolboxHandler.onFocus(t), this.visualizersManager.onFocus(t);\n      }, t.prototype.onKeyDown = function (t) {\n        var e = t.getShortcutCode();\n        this.onShortcut(e) ? (this.visualizersManager.updateConnectionPoints(), this.contextMenuHandler.onShortcut(t), this.contextToolboxHandler.onShortcut(t), t.preventDefault = !0) : this.isShortcutForFocusInput(e) && (t.preventDefault = !0), this.contextMenuHandler.onKeyDown(t), this.contextToolboxHandler.onKeyDown(t), this.mouseHandler.onKeyDown(t);\n      }, t.prototype.onKeyUp = function (t) {\n        this.mouseHandler.onKeyUp(t);\n      }, t.prototype.onTextInputBlur = function (t) {\n        this.textInputHandler.onBlur(t), this.contextMenuHandler.onTextInputBlur(t);\n      }, t.prototype.onTextInputFocus = function (t) {\n        this.textInputHandler.onFocus(t), this.contextMenuHandler.onTextInputFocus(t);\n      }, t.prototype.onTextInputKeyDown = function (t) {\n        this.textInputHandler.onKeyDown(t);\n      }, t.prototype.onShortcut = function (t) {\n        return this.control.commandManager.processShortcut(t) || this.mouseHandler.onShortcut(t);\n      }, t.prototype.isShortcutForFocusInput = function (t) {\n        return t === u.KeyCode.Delete || t === (u.KeyCode.Delete | u.ModifierKey.Ctrl) || t === (u.KeyCode.Delete | u.ModifierKey.Meta) || t === u.KeyCode.Backspace || t === (u.KeyCode.Backspace | u.ModifierKey.Ctrl) || t === (u.KeyCode.Backspace | u.ModifierKey.Shift) || t === (u.KeyCode.Backspace | u.ModifierKey.Meta) || t === u.KeyCode.Home || t === u.KeyCode.End || t === u.KeyCode.Up || t === (u.KeyCode.Up | u.ModifierKey.Ctrl) || t === (u.KeyCode.Up | u.ModifierKey.Meta) || t === u.KeyCode.Down || t === (u.KeyCode.Down | u.ModifierKey.Ctrl) || t === (u.KeyCode.Down | u.ModifierKey.Meta) || t === u.KeyCode.Left || t === (u.KeyCode.Left | u.ModifierKey.Ctrl) || t === (u.KeyCode.Left | u.ModifierKey.Meta) || t === u.KeyCode.Right || t === (u.KeyCode.Right | u.ModifierKey.Ctrl) || t === (u.KeyCode.Right | u.ModifierKey.Meta);\n      }, t.prototype.onPaste = function (t) {\n        !this.textInputHandler.isTextInputActive() && this.control.commandManager.processPaste(t.clipboardData) && (this.visualizersManager.updateConnectionPoints(), t.preventDefault = !0);\n      }, t.prototype.onMouseWheel = function (t) {\n        this.mouseHandler.onWheel(t) && (t.preventDefault = !0);\n      }, t.prototype.isFocused = function () {\n        return this.control.isFocused();\n      }, t.prototype.onDocumentDragStart = function (t) {\n        this.control.beginUpdate(), this.control.captureFocus(), this.onMouseOperation.raise(\"notifyDragStart\", t);\n      }, t.prototype.onDocumentDragEnd = function (t) {\n        this.onMouseOperation.raise(\"notifyDragEnd\", t), this.control.endUpdate(), this.control.barManager.updateItemsState();\n      }, t.prototype.onDocumentDragScrollStart = function () {\n        this.onMouseOperation.raise1(function (t) {\n          return t.notifyDragScrollStart();\n        });\n      }, t.prototype.onDocumentDragScrollEnd = function () {\n        this.onMouseOperation.raise1(function (t) {\n          return t.notifyDragScrollEnd();\n        });\n      }, t.prototype.onDocumentClick = function (t) {\n        this.control.beginUpdate(), this.control.endUpdate(), this.control.barManager.updateItemsState();\n      }, t.prototype.raiseTextInputStart = function (t, e, n, o) {\n        this.onTextInputOperation.raise(\"notifyTextInputStart\", t, e, n, o);\n      }, t.prototype.raiseTextInputEnd = function (t) {\n        this.onTextInputOperation.raise(\"notifyTextInputEnd\", t);\n      }, t.prototype.raiseTextInputPermissionsCheck = function (t, e) {\n        this.onTextInputOperation.raise(\"notifyTextInputPermissionsCheck\", t, e);\n      }, t.prototype.canFinishTextEditing = function () {\n        return this.textInputHandler.canFinishTextEditing();\n      }, t.prototype.getToolboxDraggingObject = function () {\n        return this.toolboxes.filter(function (t) {\n          return t.draggingObject;\n        }).map(function (t) {\n          return t.draggingObject;\n        })[0];\n      }, t.prototype.onDragStartFromToolbox = function (t) {\n        this.draggingEvent || (this.draggingEvent = t, this.mouseHandler.onDragStart(this.draggingEvent), this.control.captureFocus());\n      }, t.prototype.onDragEndFromToolbox = function (t) {\n        this.draggingEvent && (delete this.draggingEvent, this.mouseHandler.onDragEnd(t));\n      }, t;\n    }();\n\n    e.EventManager = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandler = void 0;\n\n    var o = n(148),\n        i = n(14),\n        r = n(1),\n        s = n(4),\n        a = n(320),\n        c = n(153),\n        u = n(321),\n        h = n(26),\n        p = n(27),\n        l = function () {\n      function t(t, e, n, o, i, r, s) {\n        this.history = t, this.view = e, this.visualizerManager = n, this.contextToolboxHandler = o, this.shapeDescriptionManager = i, this.settings = r, this.permissionsProvider = s, this.finishStateLock = 0, this.isTouchUIEnabled = !1, this.readOnly = this.settings.readOnly, this.settings.onReadOnlyChanged.add(this);\n      }\n\n      return t.prototype.initialize = function (t, e, n) {\n        this.model = t, this.selection = e, this.isTouchUIEnabled = n, this.allowMultipleSelection = !0, this.allowCopyDiagramItems = !0, this.allowSnapToCellOnDragDiagramItem = !0, this.allowSnapToCellOnDragPoint = !0, this.allowSnapToCellOnResizeShape = !0, this.allowFixedDrag = !0, this.allowZoomOnWheel = !0, this.allowScrollPage = !0, this.shouldScrollPage = !1, this.copyDiagramItemsByCtrlAndShift = !1, this.startScrollingPageByCtrl = !1, this.initializeDefaultState();\n      }, t.prototype.initializeDefaultState = function () {\n        this.defaultState = this.readOnly ? this.isTouchUIEnabled ? new a.MouseHandlerDefaultReadOnlyTouchState(this, this.history, this.selection, this.model, this.view, this.visualizerManager, this.shapeDescriptionManager, this.settings) : new c.MouseHandlerDefaultReadOnlyState(this, this.history, this.selection, this.model, this.view, this.visualizerManager, this.shapeDescriptionManager, this.settings) : this.isTouchUIEnabled ? new u.MouseHandlerDefaultTouchState(this, this.history, this.selection, this.model, this.view, this.visualizerManager, this.shapeDescriptionManager, this.settings) : new o.MouseHandlerDefaultState(this, this.history, this.selection, this.model, this.view, this.visualizerManager, this.shapeDescriptionManager, this.settings), this.switchToDefaultState();\n      }, t.prototype.onMouseDown = function (t) {\n        this.mouseDownEvent = t, this.state.onMouseDown(t);\n      }, t.prototype.onMouseMove = function (t) {\n        this.state.onMouseMove(t);\n      }, t.prototype.onMouseUp = function (t) {\n        this.state.onMouseUp(t);\n      }, t.prototype.onMouseDblClick = function (t) {\n        this.state.onMouseDblClick(t);\n      }, t.prototype.onMouseClick = function (t) {\n        this.state.onMouseClick(t);\n      }, t.prototype.onLongTouch = function (t) {\n        if (t.touches && !(t.touches.length > 1)) {\n          var e = t.source.key;\n          void 0 === e ? this.selection.clear() : this.selection.hasKey(e) ? this.selection.remove(e) : this.selection.add(e);\n        }\n      }, t.prototype.onShortcut = function (t) {\n        return this.state.onShortcut(t);\n      }, t.prototype.onWheel = function (t) {\n        return this.state.onMouseWheel(t);\n      }, t.prototype.onDragStart = function (t) {\n        this.state.onDragStart(t);\n      }, t.prototype.onDragEnd = function (t) {\n        this.state.onDragEnd(t);\n      }, t.prototype.onKeyDown = function (t) {\n        this.state.onKeyDown(t);\n      }, t.prototype.onKeyUp = function (t) {\n        this.state.onKeyUp(t);\n      }, t.prototype.showContextToolbox = function (t, e, n, o, i, r) {\n        this.contextToolboxHandler.showContextToolbox(t, e, n, o, i, r);\n      }, t.prototype.hideContextToolbox = function (t) {\n        this.contextToolboxHandler.hideContextToolbox(t);\n      }, t.prototype.canScrollPage = function (t) {\n        return this.startScrollingPageByCtrl ? !!this.hasCtrlModifier(t.modifiers) && (!this.copyDiagramItemsByCtrlAndShift || t.source.type !== i.MouseEventElementType.Shape && t.source.type !== i.MouseEventElementType.Connector) : this.allowScrollPage && this.shouldScrollPage;\n      }, t.prototype.canMultipleSelection = function (t) {\n        return this.allowMultipleSelection && this.hasCtrlOrShiftModifier(t.modifiers);\n      }, t.prototype.canCopySelectedItems = function (t) {\n        return !!this.allowCopyDiagramItems && (this.copyDiagramItemsByCtrlAndShift ? this.hasCtrlAndShiftModifier(t.modifiers) : this.hasAltModifier(t.modifiers));\n      }, t.prototype.canCalculateFixedPosition = function (t) {\n        return !(!this.allowFixedDrag || !this.hasShiftModifier(t.modifiers)) && (!this.copyDiagramItemsByCtrlAndShift || !this.hasCtrlModifier(t.modifiers));\n      }, t.prototype.canStartZoomOnWheel = function (t) {\n        return this.allowZoomOnWheel && this.hasCtrlModifier(t.modifiers);\n      }, t.prototype.canFinishZoomOnWheel = function (t) {\n        return this.allowZoomOnWheel && !this.hasCtrlModifier(t.modifiers);\n      }, t.prototype.onStartScrollPageByKeyboard = function (t) {\n        this.canStartScrollingPageByKeyboard(t) && (this.visualizerManager.onDocumentDragScrollStart(), this.shouldScrollPage = !0);\n      }, t.prototype.onFinishScrollPageByKeyboard = function (t) {\n        this.canEndScrollingPageByKeyboard(t) && this.finishScrollingPage();\n      }, t.prototype.onFinishScrollPageByMouse = function (t) {\n        this.canEndScrollingPage(t) && this.finishScrollingPage();\n      }, t.prototype.onDocumentDragStart = function (t) {\n        this.visualizerManager.onDocumentDragStart(t);\n      }, t.prototype.onDocumentDragEnd = function (t) {\n        this.visualizerManager.onDocumentDragEnd(t);\n      }, t.prototype.onDocumentDragScrollStart = function () {\n        this.visualizerManager.onDocumentDragScrollStart();\n      }, t.prototype.onDocumentDragScrollEnd = function () {\n        this.visualizerManager.onDocumentDragScrollEnd();\n      }, t.prototype.onDocumentClick = function (t) {\n        this.visualizerManager.onDocumentClick(t);\n      }, t.prototype.finishScrollingPage = function () {\n        this.shouldScrollPage = !1, this.visualizerManager.onDocumentDragScrollEnd(), this.switchToDefaultState();\n      }, t.prototype.hasCtrlOrShiftModifier = function (t) {\n        return this.hasCtrlModifier(t) || this.hasShiftModifier(t);\n      }, t.prototype.hasCtrlAndShiftModifier = function (t) {\n        return this.hasCtrlModifier(t) && this.hasShiftModifier(t);\n      }, t.prototype.hasCtrlModifier = function (t) {\n        return (t & h.ModifierKey.Ctrl) > 0;\n      }, t.prototype.hasAltModifier = function (t) {\n        return (t & h.ModifierKey.Alt) > 0;\n      }, t.prototype.hasShiftModifier = function (t) {\n        return (t & h.ModifierKey.Shift) > 0;\n      }, t.prototype.canStartScrollingPageByKeyboard = function (t) {\n        return !this.startScrollingPageByCtrl && !this.shouldScrollPage && t.keyCode === h.KeyCode.Space;\n      }, t.prototype.canEndScrollingPageByKeyboard = function (t) {\n        return !this.startScrollingPageByCtrl && t.keyCode === h.KeyCode.Space;\n      }, t.prototype.canEndScrollingPage = function (t) {\n        return !this.startScrollingPageByCtrl || this.hasCtrlModifier(t.modifiers);\n      }, t.prototype.getSnappedPointOnDragDiagramItem = function (t, e, n, o, i) {\n        var s = this.getSnapToCellOnDragDiagramItem(t);\n        return new r.Point(this.getSnappedPos(this.getFixedXPosition(t, e, n, i), !0, s), this.getSnappedPos(this.getFixedYPosition(t, e, o, i), !1, s));\n      }, t.prototype.getSnappedPointOnDragPoint = function (t, e, n) {\n        var o = this.getSnapToCellOnDragPoint(t),\n            i = new r.Point(this.getSnappedPos(e.x, !0, o), this.getSnappedPos(e.y, !1, o));\n        return void 0 === n || this.getSquareEuclideanDistance(e, i) < this.getSquareEuclideanDistance(e, n) ? i : n;\n      }, t.prototype.getSquareEuclideanDistance = function (t, e) {\n        var n = t.x - e.x,\n            o = t.y - e.y;\n        return n * n + o * o;\n      }, t.prototype.getSnappedOffsetOnDragPoint = function (t, e) {\n        var n = this.getSnapToCellOnDragPoint(t);\n        return new r.Point(this.getSnappedPos(t.modelPoint.x - e.x, !0, n), this.getSnappedPos(t.modelPoint.y - e.y, !1, n));\n      }, t.prototype.lockAspectRatioOnShapeResize = function (t) {\n        return this.hasShiftModifier(t.modifiers);\n      }, t.prototype.getSnappedPositionOnResizeShape = function (t, e, n) {\n        return this.getSnapToCellOnResizeShape(t) ? s.ModelUtils.getSnappedPos(this.model, this.settings.gridSize, e, n) : e;\n      }, t.prototype.getSnappedPos = function (t, e, n) {\n        return n ? s.ModelUtils.getSnappedPos(this.model, this.settings.gridSize, t, e) : t;\n      }, t.prototype.getFixedXPosition = function (t, e, n, o) {\n        return n ? e.x : e.x + t.modelPoint.x - o.x;\n      }, t.prototype.getFixedYPosition = function (t, e, n, o) {\n        return n ? e.y : e.y + t.modelPoint.y - o.y;\n      }, t.prototype.getSnapToCellOnDragDiagramItem = function (t) {\n        return this.allowSnapToCellOnDragDiagramItem && this.settings.snapToGrid && !this.hasCtrlModifier(t.modifiers);\n      }, t.prototype.getSnapToCellOnDragPoint = function (t) {\n        return this.allowSnapToCellOnDragPoint && this.settings.snapToGrid && !this.hasCtrlModifier(t.modifiers);\n      }, t.prototype.getSnapToCellOnResizeShape = function (t) {\n        return this.allowSnapToCellOnResizeShape && this.settings.snapToGrid && !this.hasCtrlModifier(t.modifiers);\n      }, t.prototype.tryUpdateModelSize = function (t) {\n        this.lockPermissions(), s.ModelUtils.tryUpdateModelRectangle(this.history, t), this.unlockPermissions();\n      }, t.prototype.canAddDiagramItemToSelection = function (t) {\n        return t.source.key && (t.button === i.MouseButton.Left || t.button === i.MouseButton.Right);\n      }, t.prototype.addDiagramItemToSelection = function (t) {\n        this.pressedDiagramItemKey = t.source.key, this.pressedDiagramItemInSelection = this.selection.hasKey(this.pressedDiagramItemKey), this.canMultipleSelection(t) ? this.selection.add(t.source.key) : this.changeSingleSelection(t.source.key);\n      }, t.prototype.canRemoveDiagramItemToSelection = function (t) {\n        return this.pressedDiagramItemKey && t.source.key && this.pressedDiagramItemKey === t.source.key && (t.button === i.MouseButton.Left || t.button === i.MouseButton.Right);\n      }, t.prototype.removeDiagramItemFromSelection = function (t, e) {\n        p.isDefined(e) && t === i.MouseButton.Left && this.pressedDiagramItemInSelection && this.selection.getKeys().length > 1 && this.selection.remove(e);\n      }, t.prototype.changeSingleSelection = function (t) {\n        this.selection.hasKey(t) || this.selection.set([t]);\n      }, t.prototype.beginStorePermissions = function () {\n        this.permissionsProvider.beginStorePermissions();\n      }, t.prototype.endStorePermissions = function () {\n        this.permissionsProvider.endStorePermissions();\n      }, t.prototype.isStoredPermissionsGranted = function () {\n        return this.permissionsProvider.isStoredPermissionsGranted();\n      }, t.prototype.lockPermissions = function () {\n        this.permissionsProvider.lockPermissions();\n      }, t.prototype.unlockPermissions = function () {\n        this.permissionsProvider.unlockPermissions();\n      }, t.prototype.canPerformChangeConnection = function (t, e) {\n        var n = !0;\n        return t ? n = this.permissionsProvider.canChangeConnection(t, e.item, e.oldItem, e.position, e.connectionPointIndex) : e.item && (n = this.permissionsProvider.canChangeConnection(void 0, e.item, e.oldItem, e.position, e.connectionPointIndex)), n;\n      }, t.prototype.canPerformChangeConnectionOnUpdateUI = function (t, e) {\n        this.permissionsProvider.beginUpdateUI();\n        var n = this.canPerformChangeConnection(t, e);\n        return this.permissionsProvider.endUpdateUI(), n;\n      }, t.prototype.canFinishTextEditing = function () {\n        return this.visualizerManager.canFinishTextEditing();\n      }, t.prototype.restartState = function () {\n        this.state && !this.finishStateLock && (this.finishStateLock++, this.state.finish(), this.finishStateLock--), this.state.start();\n      }, t.prototype.switchToDefaultState = function () {\n        this.switchState(this.defaultState);\n      }, t.prototype.switchState = function (t) {\n        this.newState = t, this.state && !this.finishStateLock && (this.finishStateLock++, this.state.finish(), this.finishStateLock--), this.newState && (this.state = this.newState, this.state.start(), this.newState = void 0);\n      }, t.prototype.addInteractingItem = function (t, e) {\n        this.permissionsProvider.addInteractingItem(t, e);\n      }, t.prototype.clearInteractingItems = function () {\n        this.permissionsProvider.clearInteractingItems();\n      }, t.prototype.notifyReadOnlyChanged = function (t) {\n        this.readOnly = t, this.initializeDefaultState();\n      }, t.prototype.notifySelectionRectShow = function (t) {}, t.prototype.notifySelectionRectHide = function () {}, t.prototype.notifyResizeInfoShow = function (t, e) {}, t.prototype.notifyResizeInfoHide = function () {}, t.prototype.notifyConnectionPointsShow = function (t, e, n, o) {\n        this.state.onConnectionPointsShow(t, e);\n      }, t.prototype.notifyConnectionPointsHide = function () {}, t.prototype.notifyConnectionTargetShow = function (t, e) {\n        this.state.onConnectionTargetShow(t, e);\n      }, t.prototype.notifyConnectionTargetHide = function () {}, t.prototype.notifyContainerTargetShow = function (t, e) {}, t.prototype.notifyContainerTargetHide = function () {}, t.prototype.notifyExtensionLinesShow = function (t) {}, t.prototype.notifyExtensionLinesHide = function () {}, t;\n    }();\n\n    e.MouseHandler = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o209,\n        i = this && this.__extends || (_o209 = function o(t, e) {\n      return (_o209 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o209(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveConnectorPointState = void 0;\n\n    var r = n(1),\n        s = n(149),\n        a = n(6),\n        c = n(4),\n        u = n(31),\n        h = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        this.connector = this.model.findConnector(e.source.key), this.pointIndex = parseInt(e.source.value), 0 === this.pointIndex ? this.pointPosition = a.ConnectorPosition.Begin : this.pointIndex === this.connector.points.length - 1 && (this.pointPosition = a.ConnectorPosition.End), this.handler.addInteractingItem(this.connector), t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onApplyChanges = function (e) {\n        this.connector.properties.lineOption !== u.ConnectorLineOption.Straight && 0 !== this.pointIndex && this.pointIndex !== this.connector.points.length - 1 || t.prototype.onApplyChanges.call(this, e);\n      }, e.prototype.onFinishWithChanges = function () {\n        t.prototype.onFinishWithChanges.call(this), c.ModelUtils.deleteConnectorUnnecessaryPoints(this.history, this.connector), this.handler.tryUpdateModelSize();\n      }, e.prototype.getSnappedPoint = function (t, e) {\n        var n = this.connector.points,\n            o = this.pointIndex;\n\n        if (0 < o && o < n.length - 1) {\n          var i = (n[o + 1].y - n[o - 1].y) / (n[o + 1].x - n[o - 1].x),\n              s = e.x,\n              a = n[o + 1].y - (n[o + 1].x - s) * i;\n          return this.handler.getSnappedPointOnDragPoint(t, e, new r.Point(s, a));\n        }\n\n        return this.handler.getSnappedPointOnDragPoint(t, e);\n      }, e;\n    }(s.MouseHandlerMoveConnectorPointStateBase);\n\n    e.MouseHandlerMoveConnectorPointState = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o210,\n        i = this && this.__extends || (_o210 = function o(t, e) {\n      return (_o210 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o210(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerResizeShapeState = void 0;\n\n    var r = n(2),\n        s = n(1),\n        a = n(14),\n        c = n(35),\n        u = n(4),\n        h = n(7),\n        p = n(16),\n        l = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, e, n) || this;\n        return a.model = o, a.selection = i, a.visualizerManager = r, a.settings = s, a.startScrollLeft = 0, a.startScrollTop = 0, a.rotation = 0, a;\n      }\n\n      return i(e, t), e.prototype.finish = function () {\n        this.visualizerManager.resetResizeInfo(), this.visualizerManager.resetExtensionLines(), t.prototype.finish.call(this);\n      }, e.prototype.onMouseDown = function (e) {\n        var n = this,\n            o = parseInt(e.source.value);\n        this.resizeEventSource = o, this.startPoint = e.modelPoint, this.lockH = o === a.ResizeEventSource.ResizeBox_S || o === a.ResizeEventSource.ResizeBox_N, this.lockV = o === a.ResizeEventSource.ResizeBox_E || o === a.ResizeEventSource.ResizeBox_W, this.sideH = o === a.ResizeEventSource.ResizeBox_E || o === a.ResizeEventSource.ResizeBox_NE || o === a.ResizeEventSource.ResizeBox_SE, this.sideV = o === a.ResizeEventSource.ResizeBox_SE || o === a.ResizeEventSource.ResizeBox_S || o === a.ResizeEventSource.ResizeBox_SW, this.shapes = this.selection.getSelectedShapes(), 0 !== this.shapes.length ? (this.shapes.forEach(function (t) {\n          n.handler.addInteractingItem(t, p.DiagramModelOperation.ResizeShape), n.handler.addInteractingItem(t, p.DiagramModelOperation.MoveShape);\n        }), this.connectors = this.selection.getSelectedConnectors(), this.startRectangle = u.ModelUtils.createRectangle(this.shapes), this.startShapeSizes = this.shapes.map(function (t) {\n          return t.size.clone();\n        }), this.startShapePositions = this.shapes.map(function (t) {\n          return t.position.clone();\n        }), this.startConnectorPoints = this.connectors.map(function (t) {\n          return t.points.map(function (t) {\n            return t.clone();\n          });\n        }), t.prototype.onMouseDown.call(this, e)) : this.handler.switchToDefaultState();\n      }, e.prototype.onMouseMove = function (e) {\n        t.prototype.onMouseMove.call(this, e);\n        var n = this.selection.getSelectedShapes();\n        this.visualizerManager.setExtensionLines(n);\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this,\n            n = u.ModelUtils.createRectangle(this.shapes),\n            o = 1 === this.shapes.length ? this.shapes[0].getMinWidth(this.settings.shapeMinWidth) : h.ShapeMinDimension,\n            i = 1 === this.shapes.length ? this.shapes[0].getMinHeight(this.settings.shapeMinHeight) : h.ShapeMinDimension,\n            a = 1 === this.shapes.length ? this.shapes[0].getMaxWidth(this.settings.shapeMaxWidth) : void 0,\n            c = 1 === this.shapes.length ? this.shapes[0].getMaxHeight(this.settings.shapeMaxHeight) : void 0,\n            p = this.getSize(t, n.createPosition(), this.startRectangle.createSize(), o, i, a, c, this.handler.lockAspectRatioOnShapeResize(t)),\n            l = this.getPosition(t, p, this.startRectangle.createSize(), this.startRectangle.createPosition()),\n            d = p.width / this.startRectangle.width,\n            f = p.height / this.startRectangle.height;\n        this.shapes.forEach(function (t, n) {\n          var o = e.startShapeSizes[n].width * (t.allowResizeHorizontally ? d : 1);\n          o = e.getNormalizedSize(o, t.getMinWidth(e.settings.shapeMinWidth), t.getMaxWidth(e.settings.shapeMaxWidth));\n          var i = e.startShapeSizes[n].height * (t.allowResizeVertically ? f : 1);\n          i = e.getNormalizedSize(i, t.getMinHeight(e.settings.shapeMinHeight), t.getMaxHeight(e.settings.shapeMaxHeight));\n          var a = t.allowResizeHorizontally ? l.x + (e.startShapePositions[n].x - e.startRectangle.x) * d : e.startShapePositions[n].x,\n              c = t.allowResizeVertically ? l.y + (e.startShapePositions[n].y - e.startRectangle.y) * f : e.startShapePositions[n].y;\n          u.ModelUtils.setShapeSize(e.history, e.model, t, new s.Point(a, c), new r.Size(o, i));\n        }), this.connectors.forEach(function (t, n) {\n          for (var o = t.beginItem ? 1 : 0, i = t.endItem ? t.points.length - 2 : t.points.length - 1, r = o; r <= i; r++) {\n            var a = new s.Point(l.x + (e.startConnectorPoints[n][r].x - e.startRectangle.x) * d, l.y + (e.startConnectorPoints[n][r].y - e.startRectangle.y) * f);\n            u.ModelUtils.moveConnectorPoint(e.history, t, r, a);\n          }\n        }), this.selection.getSelectedShapes(!1, !0).forEach(function (t) {\n          u.ModelUtils.updateShapeAttachedConnectors(e.history, e.model, t);\n        }), this.tryUpdateModelSize(), this.visualizerManager.setResizeInfo(this.shapes);\n      }, e.prototype.tryUpdateModelSize = function () {\n        var t = this;\n        this.handler.tryUpdateModelSize(function (e, n) {\n          t.startShapePositions.forEach(function (t) {\n            t.x += e, t.y += n;\n          }), t.startConnectorPoints.forEach(function (t) {\n            t.forEach(function (t) {\n              t.x += e, t.y += n;\n            });\n          }), t.startRectangle.x += e, t.startRectangle.y += n, t.startPoint.x += e, t.startPoint.y += n;\n        });\n      }, e.prototype.getDraggingElementKeys = function () {\n        return this.shapes.map(function (t) {\n          return t.key;\n        });\n      }, e.prototype.getNormalizedSize = function (t, e, n) {\n        return void 0 !== e && (t = Math.max(t, e)), void 0 !== n && (t = Math.min(t, n)), t;\n      }, e.prototype.getSize = function (t, e, n, o, i, s, a, c) {\n        var u,\n            h,\n            p = t.modelPoint.x - (this.startScrollLeft - t.scrollX) - this.startPoint.x,\n            l = t.modelPoint.y - (this.startScrollTop - t.scrollY) - this.startPoint.y,\n            d = p * Math.cos(this.rotation) - -l * Math.sin(this.rotation),\n            f = -(p * Math.sin(this.rotation) + -l * Math.cos(this.rotation));\n        return f = !this.sideV && f > 0 ? Math.min(n.height + 1, f) : f, d = !this.sideH && d > 0 ? Math.min(n.width + 1, d) : d, this.lockH || this.lockV || !c ? (d = this.lockH ? 0 : d, f = this.lockV ? 0 : f, u = this.getNormalizedSize(this.sideH ? n.width + d : n.width - d, o, s), h = this.getNormalizedSize(this.sideV ? n.height + f : n.height - f, i, a)) : Math.abs(d) > Math.abs(f) ? (u = this.getNormalizedSize(this.sideH ? n.width + d : n.width - d, o, s), h = n.height * (u / n.width)) : (h = this.getNormalizedSize(this.sideV ? n.height + f : n.height - f, i, a), u = n.width * (h / n.height)), this.lockH || (u = this.getSnappedPosition(t, e.x + u, !0) - e.x), this.lockV || (h = this.getSnappedPosition(t, e.y + h, !1) - e.y), new r.Size(u, h);\n      }, e.prototype.getPosition = function (t, e, n, o) {\n        var i = o.x,\n            r = o.y;\n\n        if (this.resizeEventSource === a.ResizeEventSource.ResizeBox_N || this.resizeEventSource === a.ResizeEventSource.ResizeBox_NE || this.resizeEventSource === a.ResizeEventSource.ResizeBox_NW) {\n          r += n.height - e.height;\n          var c = this.getSnappedPosition(t, r, !1);\n          e.height += r - c, r = c;\n        }\n\n        if (this.resizeEventSource === a.ResizeEventSource.ResizeBox_W || this.resizeEventSource === a.ResizeEventSource.ResizeBox_NW || this.resizeEventSource === a.ResizeEventSource.ResizeBox_SW) {\n          i += n.width - e.width;\n          var u = this.getSnappedPosition(t, i, !0);\n          e.width += i - u, i = u;\n        }\n\n        return new s.Point(i, r);\n      }, e.prototype.getSnappedPosition = function (t, e, n) {\n        return this.handler.getSnappedPositionOnResizeShape(t, e, n);\n      }, e;\n    }(c.MouseHandlerDraggingState);\n\n    e.MouseHandlerResizeShapeState = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o211,\n        i = this && this.__extends || (_o211 = function o(t, e) {\n      return (_o211 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o211(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveConnectorSideState = void 0;\n\n    var r = n(35),\n        s = n(4),\n        a = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e, n) || this;\n        return i.model = o, i;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        this.startPoint = e.modelPoint, this.connectorKey = e.source.key, this.pointIndex = parseInt(e.source.value) + 1, t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this.getSnappedPoint(t, t.modelPoint),\n            n = this.model.findConnector(this.connectorKey);\n        this.pointCreated ? s.ModelUtils.moveConnectorPoint(this.history, n, this.pointIndex, e) : (this.handler.addInteractingItem(n), s.ModelUtils.addConnectorPoint(this.history, this.connectorKey, this.pointIndex, e.clone()), this.pointCreated = !0), this.handler.tryUpdateModelSize();\n      }, e.prototype.onFinishWithChanges = function () {\n        s.ModelUtils.deleteConnectorUnnecessaryPoints(this.history, this.model.findConnector(this.connectorKey)), this.handler.tryUpdateModelSize();\n      }, e.prototype.getDraggingElementKeys = function () {\n        return [this.connectorKey];\n      }, e;\n    }(r.MouseHandlerDraggingState);\n\n    e.MouseHandlerMoveConnectorSideState = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o212,\n        i = this && this.__extends || (_o212 = function o(t, e) {\n      return (_o212 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o212(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDragParameterPointState = void 0;\n\n    var r = n(35),\n        s = n(114),\n        a = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e, n) || this;\n        return i.model = o, i.startScrollLeft = 0, i.startScrollTop = 0, i;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        this.startPoint = e.modelPoint, this.shape = this.model.findShape(e.source.key), this.parameterPointKey = e.source.value, this.startParameters = this.shape.parameters.clone(), t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this.handler.getSnappedOffsetOnDragPoint(t, this.startPoint),\n            n = this.startParameters.clone();\n        this.shape.description.modifyParameters(this.shape, n, e.x, e.y), this.history.addAndRedo(new s.ChangeShapeParametersHistoryItem(this.shape.key, n));\n      }, e.prototype.getDraggingElementKeys = function () {\n        return [this.shape.key];\n      }, e;\n    }(r.MouseHandlerDraggingState);\n\n    e.MouseHandlerDragParameterPointState = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o213,\n        i = this && this.__extends || (_o213 = function o(t, e) {\n      return (_o213 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o213(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerCreateConnectorState = void 0;\n\n    var r = n(6),\n        s = n(48),\n        a = n(64),\n        c = n(9),\n        u = n(149),\n        h = n(66),\n        p = n(53),\n        l = n(4),\n        d = n(65),\n        f = n(115),\n        y = function (t) {\n      function e(e, n, o, i, r, s, a) {\n        var c = t.call(this, e, n, o, i) || this;\n        return c.shapeDescriptionManager = r, c.selection = s, c.connectionPointIndex = a, c;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        void 0 === this.connectionPointIndex && (this.connectionPointIndex = parseInt(e.source.value)), this.connectedItem = this.model.findItem(e.source.key), this.pointIndex = 1, this.pointPosition = r.ConnectorPosition.End, t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onMouseUp = function (e) {\n        this.connector && !this.connector.endItem && this.createNewShapeAtConnectorEnd(e), t.prototype.onMouseUp.call(this, e);\n      }, e.prototype.onApplyChanges = function (e) {\n        var n = this.getSnappedPoint(e, e.modelPoint);\n        if (this.connector) t.prototype.onApplyChanges.call(this, e);else {\n          var o = new a.AddConnectorHistoryItem([this.connectedItem.getConnectionPointPosition(this.connectionPointIndex, n), n]);\n          this.history.addAndRedo(o), this.connector = this.model.findConnector(o.connectorKey), this.handler.addInteractingItem(this.connector), this.history.addAndRedo(new s.AddConnectionHistoryItem(this.connector, this.connectedItem, this.connectionPointIndex, r.ConnectorPosition.Begin)), l.ModelUtils.updateNewConnectorProperties(this.history, this.selection, this.connector.key);\n        }\n      }, e.prototype.checkStoredPermissionsOnFinish = function () {\n        this.connector && this.connector.endItem && t.prototype.checkStoredPermissionsOnFinish.call(this);\n      }, e.prototype.onFinishWithChanges = function () {\n        t.prototype.onFinishWithChanges.call(this), this.history.addAndRedo(new h.SetSelectionHistoryItem(this.selection, [this.connector.key]));\n      }, e.prototype.createNewShapeAtConnectorEnd = function (t) {\n        var e = this,\n            n = this.connector && this.connector.beginItem;\n        if (n) if (!this.connector || this.handler.canPerformChangeConnection(this.connector, {\n          position: r.ConnectorPosition.End,\n          connectionPointIndex: -1\n        })) {\n          var o = this.getNewShapeSide(this.connector),\n              i = this.getSnappedPoint(t, t.modelPoint),\n              a = this.shapeDescriptionManager.getCategoryByDescription(n.description);\n          this.handler.showContextToolbox(i, function (n) {\n            var r = n.clone();\n            r.position = i.clone();\n            var s = e.getNewShapePosition(r, o);\n            return e.handler.getSnappedPointOnDragPoint(t, s);\n          }, o, a, function (n) {\n            if (n) {\n              e.handler.beginStorePermissions(), e.history.beginTransaction();\n              var a = new p.AddShapeHistoryItem(e.shapeDescriptionManager.get(n), i);\n              e.history.addAndRedo(a);\n              var c = e.model.findShape(a.shapeKey),\n                  u = e.targetItem && e.model.findNearestContainer(e.targetItem.key);\n              u && l.ModelUtils.insertToContainer(e.history, e.model, c, u);\n              var d = e.getNewShapePosition(c, o);\n              l.ModelUtils.setShapePosition(e.history, e.model, c, e.getSnappedPoint(t, d)), l.ModelUtils.updateNewShapeProperties(e.history, e.selection, c.key), e.history.addAndRedo(new s.AddConnectionHistoryItem(e.connector, c, c.getConnectionPointIndexForSide(o), r.ConnectorPosition.End)), u && l.ModelUtils.updateConnectorContainer(e.history, e.model, e.connector), l.ModelUtils.updateShapeAttachedConnectors(e.history, e.model, c), e.handler.isStoredPermissionsGranted() ? (e.handler.tryUpdateModelSize(), e.history.addAndRedo(new h.SetSelectionHistoryItem(e.selection, [c.key]))) : (e.handler.lockPermissions(), e.history.undoTransaction(), e.handler.unlockPermissions(), e.checkNewConnectorPermissions()), e.history.endTransaction(), e.handler.endStorePermissions(), e.handler.hideContextToolbox(!0);\n            }\n          }, function () {\n            e.checkNewConnectorPermissions();\n          });\n        } else this.cancelChanges();\n      }, e.prototype.checkNewConnectorPermissions = function () {\n        this.connector && !this.handler.canPerformChangeConnection(this.connector, {\n          position: r.ConnectorPosition.End,\n          connectionPointIndex: -1\n        }) && (this.handler.lockPermissions(), this.history.beginTransaction(), this.history.addAndRedo(new h.SetSelectionHistoryItem(this.selection, [])), this.connector.beginItem && this.history.addAndRedo(new d.DeleteConnectionHistoryItem(this.connector, r.ConnectorPosition.Begin)), this.connector.endItem && this.history.addAndRedo(new d.DeleteConnectionHistoryItem(this.connector, r.ConnectorPosition.End)), this.history.addAndRedo(new f.DeleteConnectorHistoryItem(this.connector.key)), this.history.endTransaction(), this.handler.unlockPermissions());\n      }, e.prototype.getNewShapePosition = function (t, e) {\n        switch (e) {\n          case c.ConnectionPointSide.North:\n            return t.position.clone().offset(-t.size.width / 2, 0);\n\n          case c.ConnectionPointSide.South:\n            return t.position.clone().offset(-t.size.width / 2, -t.size.height);\n\n          case c.ConnectionPointSide.East:\n            return t.position.clone().offset(-t.size.width, -t.size.height / 2);\n\n          case c.ConnectionPointSide.West:\n            return t.position.clone().offset(0, -t.size.height / 2);\n        }\n      }, e.prototype.getNewShapeSide = function (t) {\n        var n = t.getRenderPoints();\n        return e.getNewShapeSideByConnectorPoints(n[n.length - 1], n[n.length - 2]);\n      }, e.prototype.getSourceItem = function () {\n        return this.connectedItem;\n      }, e.getNewShapeSideByConnectorPoints = function (t, e) {\n        return t.x === e.x ? t.y > e.y ? c.ConnectionPointSide.North : c.ConnectionPointSide.South : t.x > e.x ? t.y === e.y ? c.ConnectionPointSide.West : t.y > e.y ? Math.abs(t.x - e.x) > Math.abs(t.y - e.y) ? c.ConnectionPointSide.West : c.ConnectionPointSide.North : Math.abs(t.x - e.x) > Math.abs(t.y - e.y) ? c.ConnectionPointSide.West : c.ConnectionPointSide.South : t.y === e.y ? c.ConnectionPointSide.East : t.y > e.y ? Math.abs(t.x - e.x) > Math.abs(t.y - e.y) ? c.ConnectionPointSide.East : c.ConnectionPointSide.North : Math.abs(t.x - e.x) > Math.abs(t.y - e.y) ? c.ConnectionPointSide.East : c.ConnectionPointSide.South;\n      }, e;\n    }(u.MouseHandlerMoveConnectorPointStateBase);\n\n    e.MouseHandlerCreateConnectorState = y;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o214,\n        i = this && this.__extends || (_o214 = function o(t, e) {\n      return (_o214 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o214(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveConnectorOrthogonalSideState = void 0;\n\n    var r = n(1),\n        s = n(6),\n        a = n(9),\n        c = n(4),\n        u = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e, n) || this;\n        return i.model = o, i;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        this.startPoint = e.modelPoint, this.connector = this.model.findConnector(e.source.key), this.handler.addInteractingItem(this.connector);\n        var n = e.source.value.split(\"_\"),\n            o = parseInt(n[0]),\n            i = parseInt(n[1]),\n            r = this.connector.getRenderPoints(!0);\n        this.renderPoint1 = r[o].clone(), this.renderPoint2 = r[i].clone(), this.isVerticalOrientation = this.renderPoint1.x === this.renderPoint2.x, -1 !== this.renderPoint1.pointIndex ? (this.pointIndex1 = this.renderPoint1.pointIndex, 0 === this.pointIndex1 ? (this.pointIndex1++, this.correctEdgePoint(this.renderPoint1, this.renderPoint2, this.connector.beginItem, this.connector.beginConnectionPointIndex)) : this.point1 = this.connector.points[this.pointIndex1].clone()) : this.pointIndex1 = this.findPointIndex(r, o, !1) + 1, -1 !== this.renderPoint2.pointIndex ? (this.pointIndex2 = this.renderPoint2.pointIndex, this.pointIndex2 === this.connector.points.length - 1 ? this.correctEdgePoint(this.renderPoint2, this.renderPoint1, this.connector.endItem, this.connector.endConnectionPointIndex) : this.point2 = this.connector.points[this.pointIndex2].clone()) : this.pointIndex2 = this.findPointIndex(r, i, !0), t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this;\n\n        if (!this.pointCreated) {\n          var n = void 0,\n              o = void 0;\n          void 0 === this.point1 && (this.point1 = new r.Point(this.renderPoint1.x, this.renderPoint1.y), c.ModelUtils.addConnectorPoint(this.history, this.connector.key, this.pointIndex1, this.point1.clone()), n = this.point1.clone(), this.pointIndex2++), void 0 === this.point2 && (this.point2 = new r.Point(this.renderPoint2.x, this.renderPoint2.y), c.ModelUtils.addConnectorPoint(this.history, this.connector.key, this.pointIndex2, this.point2.clone()), o = this.point2.clone());\n          var i = [];\n          n && i.push(n), o && i.push(o);\n          var s = this.createUnnecessaryPoints(this.connector, i);\n          Object.keys(s).forEach(function (t) {\n            var n = parseInt(t);\n            n < e.pointIndex1 && e.pointIndex1--, n < e.pointIndex2 && e.pointIndex2--;\n          }), this.pointCreated = !0;\n        }\n\n        var a = this.getSnappedPoint(t, t.modelPoint);\n        this.isVerticalOrientation ? (this.point1.x = a.x, this.point2.x = a.x) : (this.point1.y = a.y, this.point2.y = a.y), c.ModelUtils.moveConnectorRightAnglePoints(this.history, this.connector, this.point1.clone(), this.pointIndex1, this.point2.clone(), this.pointIndex2), this.handler.tryUpdateModelSize();\n      }, e.prototype.createUnnecessaryPoints = function (t, e) {\n        var n = t.getRenderPoints(!0).map(function (t) {\n          return t.clone();\n        }),\n            o = c.ModelUtils.createUnnecessaryRenderPoints(n.filter(function (t) {\n          return !t.skipped;\n        }).map(function (t) {\n          return t.clone();\n        }), t.skippedRenderPoints, function (t) {\n          return c.ModelUtils.findFirstPointIndex(n, function (e) {\n            return e.equals(t);\n          });\n        }, function (t) {\n          return !e.some(function (e) {\n            return e.equals(t);\n          });\n        }),\n            i = {};\n\n        if (Object.keys(o).length) {\n          var r = t.points.map(function (t) {\n            return t.clone();\n          }),\n              s = r.length - 1;\n          r.forEach(function (t, e) {\n            0 === e || e === s || c.ModelUtils.isNecessaryPoint(t, e, o) || (i[e] = t);\n          });\n        }\n\n        return i;\n      }, e.prototype.onFinishWithChanges = function () {\n        c.ModelUtils.deleteConnectorUnnecessaryPoints(this.history, this.connector), this.handler.tryUpdateModelSize();\n      }, e.prototype.findPointIndex = function (t, e, n) {\n        for (var o; o = t[e];) {\n          if (-1 !== o.pointIndex) return o.pointIndex;\n          e += n ? 1 : -1;\n        }\n      }, e.prototype.correctEdgePoint = function (t, e, n, o) {\n        var i = 0;\n\n        if (n) {\n          var r = n.getConnectionPointSideByIndex(o),\n              c = n.rectangle;\n\n          switch (i = s.Connector.minOffset, r) {\n            case a.ConnectionPointSide.South:\n              i += c.bottom - t.y;\n              break;\n\n            case a.ConnectionPointSide.North:\n              i += t.y - c.y;\n              break;\n\n            case a.ConnectionPointSide.East:\n              i += c.right - t.x;\n              break;\n\n            case a.ConnectionPointSide.West:\n              i += t.x - c.x;\n          }\n        }\n\n        this.isVerticalOrientation ? t.y > e.y ? t.y -= Math.min(i, t.y - e.y) : t.y += Math.min(i, e.y - t.y) : t.x > e.x ? t.x -= Math.min(i, t.x - e.x) : t.x += Math.min(i, e.x - t.x);\n      }, e.prototype.getDraggingElementKeys = function () {\n        return [this.connector.key];\n      }, e;\n    }(n(35).MouseHandlerDraggingState);\n\n    e.MouseHandlerMoveConnectorOrthogonalSideState = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o215,\n        i = this && this.__extends || (_o215 = function o(t, e) {\n      return (_o215 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o215(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerToolboxDraggingState = e.MouseHandlerBeforeToolboxDraggingState = void 0;\n\n    var r = n(14),\n        s = n(1),\n        a = n(53),\n        c = n(66),\n        u = n(35),\n        h = n(116),\n        p = n(4),\n        l = n(41),\n        d = n(16),\n        f = 300,\n        y = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, e) || this;\n        return a.history = n, a.model = o, a.selection = i, a.visualizerManager = r, a.shapeDescriptionManager = s, a.isModelEmpty = 0 === o.items.length, a;\n      }\n\n      return i(e, t), e.prototype.cancelChanges = function () {\n        this.tryRemoveTimer();\n      }, e.prototype.onDragStart = function (t) {\n        this.dragging = t;\n      }, e.prototype.onDragEnd = function (t) {\n        this.cancelChanges(), this.handler.switchToDefaultState();\n      }, e.prototype.onMouseMove = function (t) {\n        var e = this;\n        t.source.type > r.MouseEventElementType.Background ? (this.tryRemoveTimer(), this.switchToDraggingState(t, !1)) : t.source.type !== r.MouseEventElementType.Background || this.isModelEmpty ? void 0 !== this.nonPageAreaTimer && this.tryRemoveTimer() : (this.savedEvt = t, void 0 === this.nonPageAreaTimer && (this.nonPageAreaTimer = setTimeout(function () {\n          return e.switchToDraggingState(e.savedEvt, !0);\n        }, 500)));\n      }, e.prototype.switchToDraggingState = function (t, e) {\n        this.handler.switchState(new g(this.handler, this.history, this.model, this.selection, this.visualizerManager, this.shapeDescriptionManager, e)), this.handler.state.onDragStart(this.dragging), this.handler.state.onMouseMove(t);\n      }, e.prototype.tryRemoveTimer = function () {\n        void 0 !== this.nonPageAreaTimer && (clearTimeout(this.nonPageAreaTimer), delete this.nonPageAreaTimer);\n      }, e.prototype.finish = function () {\n        this.tryRemoveTimer();\n      }, e;\n    }(l.MouseHandlerCancellableState);\n\n    e.MouseHandlerBeforeToolboxDraggingState = y;\n\n    var g = function (t) {\n      function e(e, n, o, i, r, s, a) {\n        var c = t.call(this, e, n) || this;\n        return c.model = o, c.selection = i, c.visualizerManager = r, c.shapeDescriptionManager = s, a || (c.updatePageSizeTimer = setTimeout(function () {\n          c.processAndRemoveUpdatePageSizeTimer();\n        }, f)), c;\n      }\n\n      return i(e, t), e.prototype.cancelChanges = function () {\n        this.tryRemoveUpdatePageSizeTimer(), t.prototype.cancelChanges.call(this);\n      }, e.prototype.tryRemoveUpdatePageSizeTimer = function () {\n        void 0 !== this.updatePageSizeTimer && (clearTimeout(this.updatePageSizeTimer), delete this.updatePageSizeTimer);\n      }, e.prototype.processAndRemoveUpdatePageSizeTimer = function () {\n        void 0 !== this.updatePageSizeTimer && (this.handler.tryUpdateModelSize(), delete this.updatePageSizeTimer);\n      }, e.prototype.onMouseMove = function (e) {\n        t.prototype.onMouseMove.call(this, e);\n        var n = this.model.findShape(this.shapeKey);\n\n        if (n) {\n          this.visualizerManager.setExtensionLines([n]);\n          var o = p.ModelUtils.findContainerByEventKey(this.model, this.selection, e.source.key);\n          o && this.allowInsertToContainer(e, n, o) ? this.visualizerManager.setContainerTarget(o, e.source.type) : this.visualizerManager.resetContainerTarget();\n        }\n      }, e.prototype.getDraggingElementKeys = function () {\n        return void 0 === this.shapeKey ? [] : [this.shapeKey];\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this;\n\n        if (t.source.type === r.MouseEventElementType.Undefined) {\n          if (this.dragging.onCaptured(!1), void 0 !== this.shapeKey && !this.deleteHistoryItem) {\n            var n = this.model.findShape(this.shapeKey);\n            p.ModelUtils.detachConnectors(this.history, n), p.ModelUtils.removeFromContainer(this.history, this.model, n), this.deleteHistoryItem = new h.DeleteShapeHistoryItem(this.shapeKey, !0), this.history.addAndRedo(this.deleteHistoryItem);\n          }\n        } else {\n          if (this.dragging.onCaptured(!0), void 0 === this.shapeKey) {\n            this.startPoint = t.modelPoint, this.shapeKey = this.insertToolboxItem(t);\n            var o = this.model.findShape(this.shapeKey);\n            o && this.handler.addInteractingItem(o, d.DiagramModelOperation.AddShape);\n          }\n\n          this.deleteHistoryItem && (this.history.undoTransactionTo(this.deleteHistoryItem), delete this.deleteHistoryItem);\n          var i = this.getPosition(t, this.startShapePosition);\n          n = this.model.findShape(this.shapeKey);\n          p.ModelUtils.setShapePosition(this.history, this.model, n, i), p.ModelUtils.updateMovingShapeConnections(this.history, n, this.connectorsWithoutBeginItemInfo, this.connectorsWithoutEndItemInfo, function () {\n            e.visualizerManager.resetConnectionTarget(), e.visualizerManager.resetConnectionPoints();\n          }, function (t, n) {\n            e.visualizerManager.setConnectionTarget(t, r.MouseEventElementType.Shape), e.visualizerManager.setConnectionPoints(t, r.MouseEventElementType.Shape, n, !0);\n          }, function (t) {\n            return e.handler.addInteractingItem(t);\n          }), p.ModelUtils.updateShapeAttachedConnectors(this.history, this.model, n);\n          var s = p.ModelUtils.findContainerByEventKey(this.model, this.selection, t.source.key);\n          n && s && this.allowInsertToContainer(t, n, s) ? p.ModelUtils.insertToContainer(this.history, this.model, n, s) : p.ModelUtils.removeFromContainer(this.history, this.model, n), void 0 === this.updatePageSizeTimer && this.handler.tryUpdateModelSize(function (t, n) {\n            e.connectorsWithoutBeginItemInfo.forEach(function (e) {\n              e.point.x += t, e.point.y += n;\n            }), e.connectorsWithoutEndItemInfo.forEach(function (e) {\n              e.point.x += t, e.point.y += n;\n            });\n          });\n        }\n      }, e.prototype.onFinishWithChanges = function () {\n        this.deleteHistoryItem || this.history.addAndRedo(new c.SetSelectionHistoryItem(this.selection, [this.shapeKey]));\n      }, e.prototype.onDragStart = function (t) {\n        this.dragging = t, this.connectorsWithoutBeginItemInfo = p.ModelUtils.getConnectorsWithoutBeginItemInfo(this.model), this.connectorsWithoutEndItemInfo = p.ModelUtils.getConnectorsWithoutEndItemInfo(this.model);\n      }, e.prototype.onDragEnd = function (t) {\n        void 0 !== this.shapeKey && t.source.type === r.MouseEventElementType.Undefined && this.cancelChanges(), this.handler.switchToDefaultState();\n      }, e.prototype.finish = function () {\n        this.visualizerManager.resetExtensionLines(), this.visualizerManager.resetContainerTarget(), this.visualizerManager.resetConnectionTarget(), this.visualizerManager.resetConnectionPoints(), this.processAndRemoveUpdatePageSizeTimer(), this.dragging.onFinishDragging(), t.prototype.finish.call(this);\n      }, e.prototype.insertToolboxItem = function (t) {\n        var e = this.shapeDescriptionManager.get(this.dragging.data);\n        this.startShapePosition = this.getSnappedPoint(t, new s.Point(t.modelPoint.x - e.defaultSize.width / 2, t.modelPoint.y - e.defaultSize.height / 2));\n        var n = new a.AddShapeHistoryItem(e, this.startShapePosition);\n        return this.history.addAndRedo(n), p.ModelUtils.updateNewShapeProperties(this.history, this.selection, n.shapeKey), n.shapeKey;\n      }, e.prototype.allowInsertToContainer = function (t, e, n) {\n        return !this.handler.canMultipleSelection(t) && n && n.expanded && p.ModelUtils.canInsertToContainer(this.model, e, n);\n      }, e.prototype.getPosition = function (t, e) {\n        return this.getSnappedPoint(t, new s.Point(e.x + t.modelPoint.x - this.startPoint.x, e.y + t.modelPoint.y - this.startPoint.y));\n      }, e;\n    }(u.MouseHandlerDraggingState);\n\n    e.MouseHandlerToolboxDraggingState = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o216,\n        i = this && this.__extends || (_o216 = function o(t, e) {\n      return (_o216 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o216(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveConnectorTextState = void 0;\n\n    var r = n(35),\n        s = n(313),\n        a = n(67),\n        c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e, n) || this;\n        return i.model = o, i;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        this.connector = this.model.findConnector(e.source.key), this.position = parseFloat(e.source.value), this.text = this.connector.getText(this.position), this.savedText = \"\", t.prototype.onMouseDown.call(this, e);\n      }, e.prototype.onApplyChanges = function (t) {\n        var e = this.connector.getTextPositionByPoint(t.modelPoint);\n\n        if (e !== this.position) {\n          var n = this.connector.getText(e);\n          \"\" !== n && n !== this.text && (this.history.addAndRedo(new a.ChangeConnectorTextHistoryItem(this.connector, e, \"\")), this.savedText = n), this.history.addAndRedo(new s.ChangeConnectorTextPositionHistoryItem(this.connector, this.position, e)), \"\" !== this.savedText && this.savedText !== n && (this.history.addAndRedo(new a.ChangeConnectorTextHistoryItem(this.connector, this.position, this.savedText)), this.savedText = \"\"), this.position = e;\n        }\n      }, e.prototype.getDraggingElementKeys = function () {\n        return [this.connector.key];\n      }, e;\n    }(r.MouseHandlerDraggingState);\n\n    e.MouseHandlerMoveConnectorTextState = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o217,\n        i = this && this.__extends || (_o217 = function o(t, e) {\n      return (_o217 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o217(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorTextPositionHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connectorKey = e.key, i.position = n, i.newPosition = o, i;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.changeConnectorTextPosition(e, this.position, this.newPosition);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findConnector(this.connectorKey);\n        t.changeConnectorTextPosition(e, this.newPosition, this.position);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ChangeConnectorTextPositionHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o218,\n        i = this && this.__extends || (_o218 = function o(t, e) {\n      return (_o218 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o218(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerToggleShapeExpandedState = void 0;\n\n    var r = n(41),\n        s = n(315),\n        a = n(4),\n        c = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.history = n, r.model = o, r.selection = i, r;\n      }\n\n      return i(e, t), e.prototype.onMouseUp = function (t) {\n        var e = this.model.findShape(t.source.key);\n        e && !e.isLocked && (this.history.beginTransaction(), this.history.addAndRedo(new s.ToggleShapeExpandedHistoryItem(e)), a.ModelUtils.updateShapeAttachedConnectors(this.history, this.model, e), a.ModelUtils.updateContainerConnectorsAttachedPoints(this.history, this.model, e), a.ModelUtils.updateSelection(this.history, this.selection), this.handler.tryUpdateModelSize(), this.history.endTransaction(), this.handler.onDocumentClick([e.key])), this.handler.switchToDefaultState();\n      }, e;\n    }(r.MouseHandlerStateBase);\n\n    e.MouseHandlerToggleShapeExpandedState = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o219,\n        i = this && this.__extends || (_o219 = function o(t, e) {\n      return (_o219 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o219(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToggleShapeExpandedHistoryItem = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.shapeKey = e.key, n.expanded = e.expanded, n;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.changeShapeExpanded(e, !this.expanded);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findShape(this.shapeKey);\n        t.changeShapeExpanded(e, this.expanded);\n      }, e;\n    }(n(8).HistoryItem);\n\n    e.ToggleShapeExpandedHistoryItem = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o220,\n        i = this && this.__extends || (_o220 = function o(t, e) {\n      return (_o220 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o220(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerSelectionState = void 0;\n\n    var r = n(14),\n        s = n(11),\n        a = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.selection = n, i.visualizerManager = o, i;\n      }\n\n      return i(e, t), e.prototype.finish = function () {\n        this.handler.onDocumentDragEnd([]), this.visualizerManager.resetSelectionRectangle(), t.prototype.finish.call(this);\n      }, e.prototype.cancelChanges = function () {}, e.prototype.onMouseDown = function (t) {\n        this.startPoint = t.modelPoint, this.handler.onDocumentDragStart([]);\n      }, e.prototype.onMouseMove = function (t) {\n        t.button !== r.MouseButton.Left ? this.handler.switchToDefaultState() : (this.rectangle = s.Rectangle.fromPoints(this.startPoint, t.modelPoint), this.visualizerManager.setSelectionRectangle(this.rectangle));\n      }, e.prototype.onMouseUp = function (t) {\n        void 0 !== this.rectangle ? this.selection.selectRect(this.rectangle) : this.selection.set([]), this.rectangle = void 0, this.handler.switchToDefaultState();\n      }, e;\n    }(n(41).MouseHandlerCancellableState);\n\n    e.MouseHandlerSelectionState = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o221,\n        i = this && this.__extends || (_o221 = function o(t, e) {\n      return (_o221 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o221(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerZoomOnWheelState = void 0;\n\n    var r = n(41),\n        s = n(14),\n        a = n(29),\n        c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.settings = n, i.view = o, i;\n      }\n\n      return i(e, t), e.prototype.onMouseWheel = function (t) {\n        return this.trySwitchToDefault(t) ? this.handler.state.onMouseWheel(t) : (this.settings.zoomLevel = this.view.getNextStepZoom(t.deltaY < 0), t.source.type === s.MouseEventElementType.Background ? this.view.resetScroll() : (this.view.scrollTo(t.modelPoint, t.offsetPoint), this.view.normalize()), t.preventDefault = !0, !0);\n      }, e.prototype.onMouseUp = function (t) {\n        this.handler.switchToDefaultState(), this.handler.state.onMouseUp(t);\n      }, e.prototype.onMouseDown = function (t) {\n        this.handler.switchToDefaultState(), this.handler.state.onMouseDown(t);\n      }, e.prototype.onMouseMove = function (t) {\n        this.trySwitchToDefault(t) && this.handler.state.onMouseMove(t);\n      }, e.prototype.trySwitchToDefault = function (t) {\n        return !!this.handler.canFinishZoomOnWheel(t) && (this.handler.switchToDefaultState(), !0);\n      }, e.prototype.start = function () {\n        t.prototype.start.call(this), this.settings.zoomLevel = this.view.getZoom(), this.settings.autoZoom = a.AutoZoomMode.Disabled;\n      }, e;\n    }(r.MouseHandlerStateBase);\n\n    e.MouseHandlerZoomOnWheelState = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o222,\n        i = this && this.__extends || (_o222 = function o(t, e) {\n      return (_o222 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o222(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveShapeState = void 0;\n\n    var r = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this, e, n, o, i, r) || this;\n        return s.model = o, s.selection = i, s.visualizerManager = r, s;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"areValidDraggingShapes\", {\n        get: function get() {\n          return this.shouldClone || this.draggingShapes.length > 0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"areValidDraggingConnectors\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(n(152).MouseHandlerDragDiagramItemStateBase);\n\n    e.MouseHandlerMoveShapeState = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o223,\n        i = this && this.__extends || (_o223 = function o(t, e) {\n      return (_o223 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o223(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerMoveConnectorState = void 0;\n\n    var r = n(4),\n        s = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this, e, n, o, i, r) || this;\n        return s.model = o, s.selection = i, s.visualizerManager = r, s;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"areValidDraggingShapes\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"areValidDraggingConnectors\", {\n        get: function get() {\n          var t = this;\n          return this.shouldClone ? this.draggingShapes.length > 0 || this.draggingConnectors.length > 0 : !!this.draggingConnectors.length && (this.draggingShapes.length ? r.ModelUtils.canMoveConnector(this.selectedItems, this.draggingConnectors[this.draggingConnectorsIndexByKey[this.handler.mouseDownEvent.source.key]].connector) : !this.draggingConnectors.some(function (e) {\n            return !r.ModelUtils.canMoveConnector(t.selectedItems, e.connector);\n          }));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(n(152).MouseHandlerDragDiagramItemStateBase);\n\n    e.MouseHandlerMoveConnectorState = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o224,\n        i = this && this.__extends || (_o224 = function o(t, e) {\n      return (_o224 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o224(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDefaultReadOnlyTouchState = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.canDragObjectOnMouseDown = function (t) {\n        return !1;\n      }, e.prototype.canExpandContainerOnMouseDown = function (t) {\n        return !1;\n      }, e.prototype.canClearSelectionOnMouseDown = function () {\n        return !0;\n      }, e.prototype.processOnMouseMoveAfterLimit = function (t) {\n        this.startScrolling(t);\n      }, e.prototype.canSelectOnMouseUp = function (t) {\n        return !this.inSelection(t);\n      }, e.prototype.canClearSelectionOnMouseUp = function () {\n        return !1;\n      }, e;\n    }(n(153).MouseHandlerDefaultReadOnlyState);\n\n    e.MouseHandlerDefaultReadOnlyTouchState = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o225,\n        i = this && this.__extends || (_o225 = function o(t, e) {\n      return (_o225 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o225(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerDefaultTouchState = void 0;\n\n    var r = n(148),\n        s = n(322),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.updateConnectionsOnMouseMove = function (t) {}, e.prototype.canDragObjectOnMouseDown = function (t) {\n        return this.inSelection(t);\n      }, e.prototype.canExpandContainerOnMouseDown = function (t) {\n        return !0;\n      }, e.prototype.canClearSelectionOnMouseDown = function () {\n        return !0;\n      }, e.prototype.processOnMouseMoveAfterLimit = function (t) {\n        t.touches.length > 1 ? this.startZooming(t) : this.startScrolling(t);\n      }, e.prototype.startZooming = function (t) {\n        this.handler.switchState(new s.MouseHandlerZoomOnPinchState(this.handler, this.selection, this.settings, this.view));\n      }, e.prototype.canSelectOnMouseUp = function (t) {\n        return !this.inSelection(t);\n      }, e.prototype.canClearSelectionOnMouseUp = function () {\n        return !1;\n      }, e.prototype.canRemoveDiagramItemToSelection = function (t) {\n        return !1;\n      }, e;\n    }(r.MouseHandlerDefaultState);\n\n    e.MouseHandlerDefaultTouchState = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o226,\n        i = this && this.__extends || (_o226 = function o(t, e) {\n      return (_o226 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o226(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MouseHandlerZoomOnPinchState = void 0;\n\n    var r = n(29),\n        s = n(1),\n        a = n(151),\n        c = n(36),\n        u = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e, i, n) || this;\n        return r.selection = n, r.settings = o, r.view = i, r;\n      }\n\n      return i(e, t), e.prototype.onMouseDown = function (e) {\n        t.prototype.onMouseDown.call(this, e), e.touches.length > 1 && (this.startDistance = this.getTouchDistance(e), this.startZoomLevel = this.settings.zoomLevel, this.prevDistance = this.startDistance);\n      }, e.prototype.onMouseMove = function (e) {\n        if (e.touches.length > 1) {\n          var n = this.getTouchDistance(e);\n          Math.abs(this.prevDistance - n) > 1 && (this.settings.zoomLevel = this.startZoomLevel * (n / this.startDistance), this.view.scrollTo(this.getMiddleLayoutPoint(e), this.getMiddleAbsPoint(e)), this.view.normalize(), this.prevDistance = n);\n        }\n\n        t.prototype.onMouseMove.call(this, e);\n      }, e.prototype.onMouseUp = function (t) {\n        0 === t.touches.length && setTimeout(function () {\n          this.handler.switchToDefaultState();\n        }.bind(this), 1);\n      }, e.prototype.start = function () {\n        t.prototype.start.call(this), this.settings.zoomLevel = this.view.getZoom(), this.settings.autoZoom = r.AutoZoomMode.Disabled;\n      }, e.prototype.getTouchDistance = function (t) {\n        var e = new s.Point(t.touches[0].offsetPoint.x, t.touches[0].offsetPoint.y),\n            n = new s.Point(t.touches[1].offsetPoint.x, t.touches[1].offsetPoint.y);\n        return c.Metrics.euclideanDistance(e, n);\n      }, e.prototype.getPointByEvent = function (t) {\n        return this.getMiddleAbsPoint(t);\n      }, e.prototype.getMiddleAbsPoint = function (t) {\n        return t.touches.length > 1 ? e.getMiddlePointByEvent(t, function (t) {\n          return t.offsetPoint;\n        }) : t.offsetPoint;\n      }, e.prototype.getMiddleLayoutPoint = function (t) {\n        return t.touches.length > 1 ? e.getMiddlePointByEvent(t, function (t) {\n          return t.modelPoint;\n        }) : t.modelPoint;\n      }, e.getMiddlePointByEvent = function (t, e) {\n        if (t.touches.length > 1) return new s.Point((e(t.touches[0]).x + e(t.touches[1]).x) / 2, (e(t.touches[0]).y + e(t.touches[1]).y) / 2);\n      }, e;\n    }(a.MouseHandlerScrollingState);\n\n    e.MouseHandlerZoomOnPinchState = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextInputHandler = void 0;\n\n    var o = n(154),\n        i = n(14),\n        r = n(26),\n        s = n(13),\n        a = n(6),\n        c = n(67),\n        u = function () {\n      function t(t) {\n        this.control = t;\n      }\n\n      return t.prototype.startTextInput = function (t, e) {\n        var n = this;\n\n        if (!t.isLocked && t.enableText && t.allowEditText && !this.control.settings.readOnly && this.canFinishTextEditing()) {\n          this.control.beginUpdate(), this.textInputItem = t;\n          var o = !0;\n\n          if (this.textInputItem instanceof s.Shape) {\n            var i = this.textInputItem.textEditRectangle,\n                r = this.textInputItem;\n            (o = this.control.permissionsProvider.canChangeShapeText(this.textInputItem)) && setTimeout(function () {\n              n.control.eventManager.raiseTextInputStart(r, r.text, i.createPosition(), i.createSize());\n            }, 0);\n          } else if (this.textInputItem instanceof a.Connector) {\n            this.textInputPosition = e;\n            var c = this.textInputItem;\n            (o = this.control.permissionsProvider.canChangeConnectorText(c, this.textInputPosition)) && setTimeout(function () {\n              n.control.eventManager.raiseTextInputStart(c, c.getText(n.textInputPosition), c.getTextPoint(n.textInputPosition));\n            }, 0);\n          }\n\n          o || (delete this.textInputItem, this.control.endUpdate());\n        }\n      }, t.prototype.endTextInput = function () {\n        var t = this.textInputItem;\n        delete this.textInputItem, this.control.eventManager.raiseTextInputEnd(t), this.control.endUpdate(), this.control.barManager.updateItemsState();\n      }, t.prototype.raiseTextInputPermissionsCheck = function (t) {\n        this.control.eventManager.raiseTextInputPermissionsCheck(this.textInputItem, t);\n      }, t.prototype.applyTextInput = function (t) {\n        if (this.canFinishTextEditing(t)) {\n          var e = this.textInputItem,\n              n = this.textInputPosition;\n          this.endTextInput(), e instanceof s.Shape ? e.text !== t && this.control.history.addAndRedo(new o.ChangeShapeTextHistoryItem(e, t)) : e instanceof a.Connector && e.getText(n) !== t && this.control.history.addAndRedo(new c.ChangeConnectorTextHistoryItem(e, n, t));\n        }\n      }, t.prototype.canFinishTextEditing = function (t) {\n        var e = !0;\n\n        if (this.isTextInputActive()) {\n          var n = t || this.getTextInputElementValue();\n          this.textInputItem instanceof s.Shape ? e = this.control.permissionsProvider.canApplyShapeTextChange(this.textInputItem, n) : this.textInputItem instanceof a.Connector && (e = this.control.permissionsProvider.canApplyConnectorTextChange(this.textInputItem, this.textInputPosition, n)), this.raiseTextInputPermissionsCheck(e);\n        }\n\n        return e;\n      }, t.prototype.getTextInputElementValue = function () {\n        return this.control.render ? this.control.render.input.getTextInputElementValue() : \"\";\n      }, t.prototype.cancelTextInput = function () {\n        this.raiseTextInputPermissionsCheck(!0), this.endTextInput();\n      }, t.prototype.isTextInputActive = function () {\n        return void 0 !== this.textInputItem;\n      }, t.prototype.onDblClick = function (t) {\n        if (t.source.type === i.MouseEventElementType.Shape) {\n          var e = this.control.model.findShape(t.source.key);\n          this.startTextInput(e);\n        } else if (t.source.type === i.MouseEventElementType.Connector) {\n          var n = (o = this.control.model.findConnector(t.source.key)).getTextPositionByPoint(t.modelPoint);\n          this.startTextInput(o, n);\n        } else if (t.source.type === i.MouseEventElementType.ConnectorText) {\n          var o = this.control.model.findConnector(t.source.key);\n          n = parseFloat(t.source.value);\n          this.startTextInput(o, n);\n        }\n      }, t.prototype.onKeyDown = function (t) {\n        this.isTextInputActive() && (13 === t.keyCode && this.hasCtrlModifier(t.modifiers) && (t.preventDefault = !0, this.applyTextInput(t.inputText)), 27 === t.keyCode && this.cancelTextInput());\n      }, t.prototype.onBlur = function (t) {\n        this.isTextInputActive() && this.applyTextInput(t.inputText);\n      }, t.prototype.onFocus = function (t) {}, t.prototype.hasCtrlModifier = function (t) {\n        return (t & r.ModifierKey.Ctrl) > 0;\n      }, t;\n    }();\n\n    e.TextInputHandler = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o227,\n        i = this && this.__extends || (_o227 = function o(t, e) {\n      return (_o227 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o227(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ContextMenuHandler = void 0;\n\n    var r = n(3),\n        s = n(14),\n        a = n(26),\n        c = n(80),\n        u = n(4),\n        h = n(19),\n        p = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.contextMenuVisible = !1, e.textInputStarted = !1, e.canHideContextMenu = !0, e.onVisibilityChanged = new r.EventDispatcher(), e.contextToolboxVisible = !1, e.hasTouchDown = !1, e.isTouchUIEnabled = !1, e;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"isTouchMode\", {\n        get: function get() {\n          return this.isTouchUIEnabled || this.hasTouchDown;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"isNativeTouchMode\", {\n        get: function get() {\n          return !window.PointerEvent && h.Browser.TouchUI;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.initialize = function (t, e) {\n        this.selection = t, this.isTouchUIEnabled = e, this.isTouchUIEnabled && this.selection.onChanged.add(this);\n      }, e.prototype.onMouseDown = function (t) {\n        if (this.hasTouchDown = t.isTouchEvent, this.isTouchMode) return this.isTouchUIEnabled || this.selection.onChanged.add(this), void (void 0 === t.source.key && this.hideContextMenu());\n        this.isTouchUIEnabled || this.selection.onChanged.remove(this), t.button === s.MouseButton.Left && t.source.type !== s.MouseEventElementType.Undefined && this.hideContextMenu();\n      }, e.prototype.onMouseUp = function (t) {\n        this.hasTouchDown = !1, t.isTouchEvent || this.isTouchUIEnabled || ((!h.Browser.MacOSPlatform || h.Browser.MacOSPlatform && this.canHideContextMenu) && this.hideContextMenu(), this.canHideContextMenu = !0);\n      }, e.prototype.onFocus = function (t) {\n        var e = this;\n        this.isNativeTouchMode && setTimeout(function () {\n          e.showContextMenuAtSelection();\n        }, 1);\n      }, e.prototype.onBlur = function (t) {\n        var e = this;\n        this.isNativeTouchMode && setTimeout(function () {\n          e.hideContextMenu();\n        }, 1);\n      }, e.prototype.onTextInputFocus = function (t) {\n        var e = this;\n        this.isNativeTouchMode && setTimeout(function () {\n          e.hideContextMenu();\n        }, 1);\n      }, e.prototype.onTextInputBlur = function (t) {\n        var e = this;\n        this.isNativeTouchMode && setTimeout(function () {\n          e.showContextMenuAtSelection();\n        }, 1);\n      }, e.prototype.onLongTouch = function (t) {\n        this.isTouchMode && t.source.type === s.MouseEventElementType.Document && this.showContextMenuAtEmptySelection(t.modelPoint);\n      }, e.prototype.onKeyDown = function (t) {\n        this.isTouchMode || t.keyCode !== a.KeyCode.Esc || this.hideContextMenu();\n      }, e.prototype.onShortcut = function (t) {\n        this.isTouchMode || this.hideContextMenu();\n      }, e.prototype.notifyDragStart = function (t) {\n        this.isTouchMode && this.hideContextMenu();\n      }, e.prototype.notifyDragEnd = function (t) {\n        this.isTouchMode && this.showContextMenuAtSelection();\n      }, e.prototype.notifyShowContextToolbox = function (t, e, n, o, i) {\n        this.isTouchMode && (this.contextToolboxVisible = !0, this.hideContextMenu());\n      }, e.prototype.notifyHideContextToolbox = function () {\n        this.isTouchMode && (this.contextToolboxVisible = !1, this.showContextMenuAtSelection());\n      }, e.prototype.onUpdateUnlocked = function (t) {\n        this.isTouchMode && 1 & t && this.raiseSelectionChanged();\n      }, e.prototype.notifySelectionChanged = function (t) {\n        this.isUpdateLocked() ? this.registerOccurredEvent(1) : this.raiseSelectionChanged();\n      }, e.prototype.onContextMenu = function (t) {\n        h.Browser.MacOSPlatform && (this.canHideContextMenu = !1), this.showContextMenu(t.eventPoint, t.modelPoint);\n      }, e.prototype.notifyTextInputStart = function (t, e, n, o) {\n        this.textInputStarted = !0;\n      }, e.prototype.notifyTextInputEnd = function (t) {\n        this.textInputStarted = !1;\n      }, e.prototype.notifyTextInputPermissionsCheck = function (t, e) {}, e.prototype.notifyDragScrollStart = function () {}, e.prototype.notifyDragScrollEnd = function () {}, e.prototype.showContextMenu = function (t, e) {\n        var n = this;\n        this.textInputStarted || (this.onVisibilityChanged.raise1(function (o) {\n          return o.notifyShowContextMenu(t, e, n.isTouchMode);\n        }), this.contextMenuVisible = !0);\n      }, e.prototype.hideContextMenu = function () {\n        this.contextMenuVisible && (this.onVisibilityChanged.raise1(function (t) {\n          return t.notifyHideContextMenu();\n        }), this.contextMenuVisible = !1);\n      }, e.prototype.getSelectedItems = function () {\n        return this.selection.getSelectedItems(!0);\n      }, e.prototype.showContextMenuAtSelection = function () {\n        if (!this.contextToolboxVisible) {\n          var t = this.getSelectedItems();\n          t.length && this.showContextMenu(void 0, u.ModelUtils.createRectangle(t).createPosition());\n        }\n      }, e.prototype.showContextMenuAtEmptySelection = function (t) {\n        this.contextToolboxVisible || this.getSelectedItems().length || this.showContextMenu(void 0, t);\n      }, e.prototype.raiseSelectionChanged = function () {\n        this.getSelectedItems().length ? this.showContextMenuAtSelection() : this.hideContextMenu();\n      }, e;\n    }(c.BatchUpdatableObject);\n\n    e.ContextMenuHandler = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o228,\n        i = this && this.__extends || (_o228 = function o(t, e) {\n      return (_o228 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o228(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.VisualizerManager = void 0;\n\n    var r = n(326),\n        s = n(327),\n        a = n(156),\n        c = n(14),\n        u = n(328),\n        h = n(13),\n        p = n(3),\n        l = n(34),\n        d = n(1),\n        f = n(157),\n        y = n(4),\n        g = n(329),\n        m = n(330),\n        v = n(80),\n        P = n(37),\n        C = function (t) {\n      function e(e, n) {\n        void 0 === n && (n = e.readOnly);\n        var o = t.call(this) || this;\n        return o.settings = e, o.readOnly = n, o.hasTouchDown = !1, o.isTouchUIEnabled = !1, o.onVisualizersUpdate = new p.EventDispatcher(), o.connectionPointsVisualizer = new u.ConnectionPointsVisualizer(o.onVisualizersUpdate), o.connectionPointsVisualizer = new u.ConnectionPointsVisualizer(o.onVisualizersUpdate), o.connectionTargetVisualizer = new r.ConnectionTargetVisualizer(o.onVisualizersUpdate), o.containerTargetVisualizer = new s.ContainerTargetVisualizer(o.onVisualizersUpdate), o.extensionLinesVisualizer = new a.ExtensionLinesVisualizer(o.onVisualizersUpdate), o.resizeInfoVisualizer = new g.ResizeInfoVisualizer(o.onVisualizersUpdate), o.selectionRectangleVisualizer = new m.SelectionRectVisualizer(o.onVisualizersUpdate), o.settings.onReadOnlyChanged.add(o), o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"isTouchMode\", {\n        get: function get() {\n          return this.isTouchUIEnabled || this.hasTouchDown;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.initialize = function (t, e, n, o) {\n        this.model = t, this.eventManager = e, this.selection = n, this.isTouchUIEnabled = o, this.isTouchUIEnabled && this.selection.onChanged.add(this);\n      }, e.prototype.onMouseDown = function (t) {\n        this.hasTouchDown = t.isTouchEvent, this.isTouchUIEnabled || (this.isTouchMode ? this.selection.onChanged.add(this) : this.selection.onChanged.remove(this));\n      }, e.prototype.onMouseUp = function (t) {\n        var e = this;\n        this.isTouchMode && setTimeout(function () {\n          e.showConnections();\n        }, 1);\n      }, e.prototype.onMouseEnter = function (t) {}, e.prototype.onMouseLeave = function (t) {\n        var e = this;\n        this.isTouchMode && setTimeout(function () {\n          e.showConnections();\n        }, 1), this.hasTouchDown = !1, this.resetConnectionTarget(), this.resetExtensionLines(), this.resetContainerTarget(), this.resetResizeInfo(), this.resetSelectionRectangle();\n      }, e.prototype.onDocumentDragStart = function (t) {\n        this.eventManager.onDocumentDragStart(t);\n      }, e.prototype.onDocumentDragEnd = function (t) {\n        this.eventManager.onDocumentDragEnd(t);\n      }, e.prototype.onDocumentDragScrollStart = function () {\n        this.eventManager.onDocumentDragScrollStart();\n      }, e.prototype.onDocumentDragScrollEnd = function () {\n        this.eventManager.onDocumentDragScrollEnd();\n      }, e.prototype.onDocumentClick = function (t) {\n        this.eventManager.onDocumentClick(t);\n      }, e.prototype.canFinishTextEditing = function () {\n        return this.eventManager.canFinishTextEditing();\n      }, e.prototype.onBlur = function (t) {\n        var e = this;\n        this.isTouchMode && setTimeout(function () {\n          e.hideConnections();\n        }, 1);\n      }, e.prototype.onFocus = function (t) {\n        var e = this;\n        this.isTouchMode && setTimeout(function () {\n          e.showConnections();\n        }, 1);\n      }, e.prototype.updateConnections = function (t, e, n) {\n        var o = -1;\n        n && e === c.MouseEventElementType.ShapeConnectionPoint && (o = parseInt(n));\n        var i = t && (!t.allowResizeHorizontally && !t.allowResizeVertically || t.isLocked);\n        this.setConnectionPoints(t, e, o, i);\n      }, e.prototype.setConnectionPoints = function (t, e, n, o) {\n        if (this.eventManager.isFocused()) if (!t || e !== c.MouseEventElementType.Shape && e !== c.MouseEventElementType.ShapeResizeBox && e !== c.MouseEventElementType.ShapeConnectionPoint || void 0 === t) this.connectionPointsVisualizer.reset();else {\n          var i = t.key,\n              r = this.selection.hasKey(i),\n              s = t.getConnectionPoints();\n          this.connectionPointsVisualizer.setPoints(i, s.map(function (e) {\n            return new u.ConnectionPointInfo(e, t.getConnectionPointSide(e));\n          }), n, r && !o && t.rectangle);\n        }\n      }, e.prototype.setConnectionPointIndex = function (t) {\n        this.connectionPointsVisualizer.setPointIndex(t);\n      }, e.prototype.updateConnectionPoints = function () {\n        void 0 !== this.model.findItem(this.connectionPointsVisualizer.getKey()) ? this.connectionPointsVisualizer.update() : this.connectionPointsVisualizer.reset();\n      }, e.prototype.resetConnectionPoints = function () {\n        this.connectionPointsVisualizer.reset();\n      }, e.prototype.setConnectionTarget = function (t, e) {\n        !t || e !== c.MouseEventElementType.Shape && e !== c.MouseEventElementType.ShapeConnectionPoint ? this.connectionTargetVisualizer.reset() : this.connectionTargetVisualizer.setTargetRect(t.key, t.rectangle, t.strokeWidth);\n      }, e.prototype.resetConnectionTarget = function () {\n        this.connectionTargetVisualizer.reset();\n      }, e.prototype.setContainerTarget = function (t, e) {\n        t && !t.isLocked && e === c.MouseEventElementType.Shape && t.enableChildren ? this.containerTargetVisualizer.setTargetRect(t.key, t.rectangle, t.strokeWidth) : this.containerTargetVisualizer.reset();\n      }, e.prototype.resetContainerTarget = function () {\n        this.containerTargetVisualizer.reset();\n      }, e.prototype.setExtensionLines = function (t) {\n        var e = this;\n\n        if (this.eventManager.isFocused()) {\n          this.extensionLinesVisualizer.reset();\n          var n = y.ModelUtils.createRectangle(t.filter(function (t) {\n            return t;\n          }));\n          this.addPageExtensionLines(n), this.model.items.forEach(function (o) {\n            t.indexOf(o) > -1 || o instanceof h.Shape && e.addShapeExtensionLines(o, n);\n          });\n        }\n      }, e.prototype.addPageExtensionLines = function (t) {\n        for (var e = Math.round(this.model.size.width / this.model.pageWidth), n = Math.round(this.model.size.height / this.model.pageHeight), o = 0; o < e; o++) for (var i = 0; i < n; i++) {\n          var r = new d.Point(o * this.model.pageWidth + this.model.pageWidth / 2, i * this.model.pageHeight + this.model.pageHeight / 2);\n\n          if (Math.abs(t.center.x - r.x) < this.settings.gridSize / 2) {\n            var s = new l.Segment(new d.Point(t.center.x, 0), new d.Point(t.center.x, this.model.size.height));\n            this.extensionLinesVisualizer.addSegment(a.ExtensionLineType.HorizontalCenterToPageCenter, s, \"\");\n          }\n\n          if (Math.abs(t.center.y - r.y) < this.settings.gridSize / 2) {\n            s = new l.Segment(new d.Point(0, t.center.y), new d.Point(this.model.size.width, t.center.y));\n            this.extensionLinesVisualizer.addSegment(a.ExtensionLineType.VerticalCenterToPageCenter, s, \"\");\n          }\n\n          if (Math.abs(t.x - r.x) < this.settings.gridSize / 2) {\n            s = new l.Segment(new d.Point(t.x, 0), new d.Point(t.x, this.model.size.height));\n            this.extensionLinesVisualizer.addSegment(a.ExtensionLineType.LeftToPageCenter, s, \"\");\n          }\n\n          if (Math.abs(t.y - r.y) < this.settings.gridSize / 2) {\n            s = new l.Segment(new d.Point(0, t.y), new d.Point(this.model.size.width, t.y));\n            this.extensionLinesVisualizer.addSegment(a.ExtensionLineType.TopToPageCenter, s, \"\");\n          }\n\n          if (Math.abs(t.right - r.x) < this.settings.gridSize / 2) {\n            s = new l.Segment(new d.Point(t.right, 0), new d.Point(t.right, this.model.size.height));\n            this.extensionLinesVisualizer.addSegment(a.ExtensionLineType.RightToPageCenter, s, \"\");\n          }\n\n          if (Math.abs(t.bottom - r.y) < this.settings.gridSize / 2) {\n            s = new l.Segment(new d.Point(0, t.bottom), new d.Point(this.model.size.width, t.bottom));\n            this.extensionLinesVisualizer.addSegment(a.ExtensionLineType.BottomToPageCenter, s, \"\");\n          }\n        }\n      }, e.prototype.addShapeExtensionLines = function (t, e) {\n        var n,\n            o,\n            i,\n            r,\n            s,\n            c,\n            u,\n            h,\n            p = t.rectangle,\n            y = t.strokeWidth - f.CanvasSelectionManager.extensionLineWidth,\n            g = !0;\n\n        if (e.right < p.x ? (n = e.right, i = p.x, s = n + y + f.CanvasSelectionManager.extensionLineOffset, u = i - f.CanvasSelectionManager.extensionLineOffset) : e.x > p.right && (n = e.x, i = p.right, s = n - f.CanvasSelectionManager.extensionLineOffset, u = i + y + f.CanvasSelectionManager.extensionLineOffset), e.bottom < p.y ? (o = e.bottom, r = p.y, c = o + y + f.CanvasSelectionManager.extensionLineOffset, h = r - f.CanvasSelectionManager.extensionLineOffset) : e.y > p.bottom && (o = e.y, r = p.bottom, c = o - f.CanvasSelectionManager.extensionLineOffset, h = r + y + f.CanvasSelectionManager.extensionLineOffset), void 0 !== s && void 0 !== u) {\n          var m = this.getViewUnitText(Math.abs(n - i));\n\n          if (e.center.y === p.center.y) {\n            var v = new l.Segment(new d.Point(s, e.center.y), new d.Point(u, p.center.y));\n            this.extensionLinesVisualizer.addSegment(s > u ? a.ExtensionLineType.VerticalCenterAfter : a.ExtensionLineType.VerticalCenterBefore, v, g ? m : \"\"), g = !1;\n          }\n\n          if (e.y === p.y) {\n            v = new l.Segment(new d.Point(s, e.y), new d.Point(u, p.y));\n            this.extensionLinesVisualizer.addSegment(s > u ? a.ExtensionLineType.TopToTopAfter : a.ExtensionLineType.TopToTopBefore, v, g ? m : \"\");\n          }\n\n          if (e.bottom === p.bottom) {\n            v = new l.Segment(new d.Point(s, e.bottom + y), new d.Point(u, p.bottom + y));\n            this.extensionLinesVisualizer.addSegment(s > u ? a.ExtensionLineType.BottomToBottomAfter : a.ExtensionLineType.BottomToBottomBefore, v, g ? m : \"\");\n          }\n\n          if (e.y === p.bottom) {\n            v = new l.Segment(new d.Point(s, e.y), new d.Point(u, p.bottom + y));\n            this.extensionLinesVisualizer.addSegment(s > u ? a.ExtensionLineType.TopToBottomAfter : a.ExtensionLineType.TopToBottomBefore, v, g ? m : \"\");\n          }\n\n          if (e.bottom === p.y) {\n            v = new l.Segment(new d.Point(s, e.bottom + y), new d.Point(u, p.y));\n            this.extensionLinesVisualizer.addSegment(s > u ? a.ExtensionLineType.BottomToTopAfter : a.ExtensionLineType.BottomToTopBefore, v, g ? m : \"\");\n          }\n        }\n\n        if (void 0 !== c && void 0 !== h) {\n          m = this.getViewUnitText(Math.abs(o - r));\n\n          if (e.center.x === p.center.x) {\n            v = new l.Segment(new d.Point(e.center.x, c), new d.Point(p.center.x, h));\n            this.extensionLinesVisualizer.addSegment(c > h ? a.ExtensionLineType.HorizontalCenterBelow : a.ExtensionLineType.HorizontalCenterAbove, v, g ? m : \"\"), g = !1;\n          }\n\n          if (e.x === p.x) {\n            v = new l.Segment(new d.Point(e.x, c), new d.Point(p.x, h));\n            this.extensionLinesVisualizer.addSegment(c > h ? a.ExtensionLineType.LeftToLeftBelow : a.ExtensionLineType.LeftToLeftAbove, v, g ? m : \"\");\n          }\n\n          if (e.right === p.right) {\n            v = new l.Segment(new d.Point(e.right + y, c), new d.Point(p.right + y, h));\n            this.extensionLinesVisualizer.addSegment(c > h ? a.ExtensionLineType.RightToRightBelow : a.ExtensionLineType.RightToRightAbove, v, g ? m : \"\");\n          }\n\n          if (e.x === p.right) {\n            v = new l.Segment(new d.Point(e.x, c), new d.Point(p.right + y, h));\n            this.extensionLinesVisualizer.addSegment(c > h ? a.ExtensionLineType.LeftToRightBelow : a.ExtensionLineType.LeftToRightAbove, v, g ? m : \"\");\n          }\n\n          if (e.right === p.x) {\n            v = new l.Segment(new d.Point(e.right + y, c), new d.Point(p.x, h));\n            this.extensionLinesVisualizer.addSegment(c > h ? a.ExtensionLineType.RightToLeftBelow : a.ExtensionLineType.RightToLeftAbove, v, g ? m : \"\");\n          }\n        }\n      }, e.prototype.resetExtensionLines = function () {\n        this.extensionLinesVisualizer.reset();\n      }, e.prototype.setResizeInfo = function (t) {\n        var e = y.ModelUtils.createRectangle(t),\n            n = new d.Point(e.center.x, e.bottom + f.CanvasSelectionManager.resizeInfoOffset),\n            o = this.getViewUnitText(e.width) + \" x \" + this.getViewUnitText(e.height);\n        this.resizeInfoVisualizer.set(n, o);\n      }, e.prototype.resetResizeInfo = function () {\n        this.resizeInfoVisualizer.reset();\n      }, e.prototype.setSelectionRectangle = function (t) {\n        this.selectionRectangleVisualizer.setRectangle(t);\n      }, e.prototype.resetSelectionRectangle = function () {\n        this.selectionRectangleVisualizer.reset();\n      }, e.prototype.getViewUnitText = function (t) {\n        return y.ModelUtils.getUnitText(this.settings.viewUnits, P.DiagramLocalizationService.unitItems, P.DiagramLocalizationService.formatUnit, t);\n      }, e.prototype.notifyReadOnlyChanged = function (t) {\n        this.readOnly = t, this.readOnly && (this.resetConnectionPoints(), this.resetConnectionTarget(), this.resetExtensionLines(), this.resetContainerTarget(), this.resetResizeInfo(), this.resetSelectionRectangle());\n      }, e.prototype.notifyDragStart = function (t) {\n        var e = this;\n        this.isTouchMode && setTimeout(function () {\n          e.hideConnections();\n        }, 1);\n      }, e.prototype.notifyDragEnd = function (t) {\n        var e = this;\n        this.isTouchMode && setTimeout(function () {\n          e.showConnections();\n        }, 1);\n      }, e.prototype.onUpdateUnlocked = function (t) {\n        this.isTouchMode && 1 & t && this.raiseSelectionChanged();\n      }, e.prototype.notifyDragScrollStart = function () {}, e.prototype.notifyDragScrollEnd = function () {}, e.prototype.notifySelectionChanged = function (t) {\n        this.isUpdateLocked() ? this.registerOccurredEvent(1) : this.raiseSelectionChanged();\n      }, e.prototype.hideConnections = function () {\n        this.readOnly || this.resetConnectionPoints();\n      }, e.prototype.showConnections = function () {\n        if (!this.readOnly && this.needShowConnections()) {\n          var t = this.selection.getSelectedShapes();\n          1 === t.length && this.setConnectionPoints(t[0], c.MouseEventElementType.ShapeConnectionPoint, -1, !t[0].allowResizeHorizontally && !t[0].allowResizeVertically || t[0].isLocked);\n        }\n      }, e.prototype.raiseSelectionChanged = function () {\n        this.needShowConnections() ? this.showConnections() : this.hideConnections();\n      }, e.prototype.needShowConnections = function () {\n        var t = this.selection.getSelectedItems(),\n            e = this.selection.getSelectedShapes();\n        return 1 === t.length && 1 === e.length;\n      }, e;\n    }(v.BatchUpdatableObject);\n\n    e.VisualizerManager = C;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o229,\n        i = this && this.__extends || (_o229 = function o(t, e) {\n      return (_o229 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o229(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectionTargetVisualizer = e.ConnectionTargetInfo = void 0;\n\n    var r = n(155),\n        s = function () {\n      return function (t, e) {\n        this.rect = t, this.strokeWidth = e, this.allowed = !0;\n      };\n    }();\n\n    e.ConnectionTargetInfo = s;\n\n    var a = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.raiseShow = function () {\n        var t = this,\n            e = new s(this.targetRect, this.targetStrokeWidth);\n        this.dispatcher.raise1(function (n) {\n          return n.notifyConnectionTargetShow(t.key, e);\n        });\n      }, e.prototype.raiseHide = function () {\n        this.dispatcher.raise1(function (t) {\n          return t.notifyConnectionTargetHide();\n        });\n      }, e;\n    }(r.TargetVisualizerBase);\n\n    e.ConnectionTargetVisualizer = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o230,\n        i = this && this.__extends || (_o230 = function o(t, e) {\n      return (_o230 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o230(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ContainerTargetVisualizer = e.ContainerTargetInfo = void 0;\n\n    var r = n(155),\n        s = function () {\n      return function (t, e) {\n        this.rect = t, this.strokeWidth = e;\n      };\n    }();\n\n    e.ContainerTargetInfo = s;\n\n    var a = function (t) {\n      function e(e) {\n        return t.call(this, e) || this;\n      }\n\n      return i(e, t), e.prototype.raiseShow = function () {\n        var t = this,\n            e = new s(this.targetRect, this.targetStrokeWidth);\n        this.dispatcher.raise1(function (n) {\n          return n.notifyContainerTargetShow(t.key, e);\n        });\n      }, e.prototype.raiseHide = function () {\n        this.dispatcher.raise1(function (t) {\n          return t.notifyContainerTargetHide();\n        });\n      }, e;\n    }(r.TargetVisualizerBase);\n\n    e.ContainerTargetVisualizer = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectionPointsVisualizer = e.ConnectionPointInfo = void 0;\n\n    var o = function () {\n      return function (t, e) {\n        this.point = t, this.side = e, this.allowed = !0;\n      };\n    }();\n\n    e.ConnectionPointInfo = o;\n\n    var i = function () {\n      function t(t) {\n        this.dispatcher = t;\n      }\n\n      return t.prototype.getKey = function () {\n        return this.key;\n      }, t.prototype.setPoints = function (t, e, n, o) {\n        this.key === t && this.pointIndex === n || (this.key = t, this.points = e, this.pointIndex = n, this.outsideRectangle = o, this.raiseShow());\n      }, t.prototype.setPointIndex = function (t) {\n        0 <= t && t < this.points.length && this.pointIndex !== t && (this.pointIndex = t, this.raiseShow());\n      }, t.prototype.update = function () {\n        this.raiseShow();\n      }, t.prototype.reset = function () {\n        \"-1\" !== this.key && (this.key = \"-1\", this.points = [], this.pointIndex = -1, this.outsideRectangle = void 0, this.raiseHide());\n      }, t.prototype.raiseShow = function () {\n        var t = this;\n        this.dispatcher.raise1(function (e) {\n          return e.notifyConnectionPointsShow(t.key, t.points, t.pointIndex, t.outsideRectangle);\n        });\n      }, t.prototype.raiseHide = function () {\n        this.dispatcher.raise1(function (t) {\n          return t.notifyConnectionPointsHide();\n        });\n      }, t;\n    }();\n\n    e.ConnectionPointsVisualizer = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ResizeInfoVisualizer = void 0;\n\n    var o = function () {\n      function t(t) {\n        this.dispatcher = t;\n      }\n\n      return t.prototype.set = function (t, e) {\n        this.point = t, this.text = e, this.raiseShow();\n      }, t.prototype.reset = function () {\n        void 0 !== this.point && (this.point = void 0, this.text = void 0, this.raiseHide());\n      }, t.prototype.raiseShow = function () {\n        var t = this;\n        this.dispatcher.raise1(function (e) {\n          return e.notifyResizeInfoShow(t.point, t.text);\n        });\n      }, t.prototype.raiseHide = function () {\n        this.dispatcher.raise1(function (t) {\n          return t.notifyResizeInfoHide();\n        });\n      }, t;\n    }();\n\n    e.ResizeInfoVisualizer = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SelectionRectVisualizer = void 0;\n\n    var o = function () {\n      function t(t) {\n        this.dispatcher = t;\n      }\n\n      return t.prototype.setRectangle = function (t) {\n        this.rect = t, this.raiseShow();\n      }, t.prototype.reset = function () {\n        this.rect = void 0, this.raiseHide();\n      }, t.prototype.raiseShow = function () {\n        var t = this;\n        this.dispatcher.raise1(function (e) {\n          return e.notifySelectionRectShow(t.rect);\n        });\n      }, t.prototype.raiseHide = function () {\n        this.dispatcher.raise1(function (t) {\n          return t.notifySelectionRectHide();\n        });\n      }, t;\n    }();\n\n    e.SelectionRectVisualizer = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ContextToolboxHandler = void 0;\n\n    var o = n(14),\n        i = n(3),\n        r = n(26),\n        s = function () {\n      function t() {\n        this.isTouchUIEnabled = !1, this.contextToolboxVisible = !1, this.onVisibilityChanged = new i.EventDispatcher();\n      }\n\n      return t.prototype.initialize = function (t) {\n        this.isTouchUIEnabled = t;\n      }, t.prototype.onMouseDown = function (t) {\n        t.source.type !== o.MouseEventElementType.Undefined && this.hideContextToolbox();\n      }, t.prototype.onMouseUp = function (t) {\n        t.source.type === o.MouseEventElementType.Undefined || this.isTouchUIEnabled || this.hideContextToolbox();\n      }, t.prototype.onFocus = function (t) {}, t.prototype.onBlur = function (t) {}, t.prototype.onKeyDown = function (t) {\n        t.keyCode === r.KeyCode.Esc && this.hideContextToolbox();\n      }, t.prototype.onShortcut = function (t) {\n        this.hideContextToolbox();\n      }, t.prototype.showContextToolbox = function (t, e, n, o, i, r) {\n        this.onVisibilityChanged.raise1(function (r) {\n          return r.notifyShowContextToolbox(t, e, n, o, i);\n        }), this.contextToolboxVisible = !0, this.contextToolboxCancelCallback = r;\n      }, t.prototype.hideContextToolbox = function (t) {\n        this.contextToolboxVisible && (this.onVisibilityChanged.raise1(function (t) {\n          return t.notifyHideContextToolbox();\n        }), this.contextToolboxCancelCallback && (t || this.contextToolboxCancelCallback(), this.contextToolboxCancelCallback = void 0), this.contextToolboxVisible = !1);\n      }, t;\n    }();\n\n    e.ContextToolboxHandler = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Selection = void 0;\n\n    var o = n(3),\n        i = n(333),\n        r = n(13),\n        s = n(6),\n        a = n(50),\n        c = function () {\n      function t(t) {\n        this.onChanged = new o.EventDispatcher(), this.inputPosition = new i.InputPosition(this), this.onChanged.add(this.inputPosition), this.initialize(t);\n      }\n\n      return t.prototype.initialize = function (t) {\n        this.model = t, this.keys = [], this.inputPosition.initialize();\n      }, t.prototype.add = function (t) {\n        this.keys.indexOf(t) < 0 && (this.keys.push(t), this.raiseSelectionChanged());\n      }, t.prototype.remove = function (t) {\n        this.keys.indexOf(t) >= 0 && (this.keys.splice(this.keys.indexOf(t), 1), this.raiseSelectionChanged());\n      }, t.prototype.clear = function () {\n        this.keys.length > 0 && (this.keys = [], this.raiseSelectionChanged());\n      }, t.prototype.set = function (t, e) {\n        !e && a.Data.ArrayEqual(t, this.keys) || (this.keys = t, this.raiseSelectionChanged());\n      }, t.prototype.getKeys = function () {\n        return this.keys;\n      }, t.prototype.getKey = function (t) {\n        return this.keys[t];\n      }, t.prototype.getSelectedItemsInsideContainers = function (t) {\n        var e = this,\n            n = t.slice();\n        return t.forEach(function (t) {\n          t instanceof r.Shape && e.getSelectedItemsInsideContainers(e.model.getChildren(t)).forEach(function (t) {\n            -1 !== n.indexOf(t) || e.hasKey(t.key) || n.push(t);\n          });\n        }), n;\n      }, t.prototype.getSelectedItemsCore = function (t) {\n        var e = this;\n        return this.keys.map(function (t) {\n          return e.model.findItem(t);\n        }).filter(function (e) {\n          return e && (t || !e.isLocked);\n        });\n      }, t.prototype.getSelectedItems = function (t, e) {\n        return e ? this.getSelectedItemsInsideContainers(this.getSelectedItemsCore(t)) : this.getSelectedItemsCore(t);\n      }, t.prototype.getSelectedShapes = function (t, e) {\n        var n = this;\n\n        if (e) {\n          var o = this.getSelectedItemsCore(t);\n          return this.getSelectedItemsInsideContainers(o).map(function (t) {\n            return t instanceof r.Shape ? t : void 0;\n          }).filter(function (t) {\n            return t;\n          });\n        }\n\n        return this.keys.map(function (t) {\n          return n.model.findShape(t);\n        }).filter(function (e) {\n          return e && (t || !e.isLocked);\n        });\n      }, t.prototype.getSelectedConnectors = function (t, e) {\n        var n = this;\n\n        if (e) {\n          var o = this.keys.map(function (t) {\n            return n.model.findItem(t);\n          });\n          return this.getSelectedItemsInsideContainers(o).map(function (t) {\n            return t instanceof s.Connector ? t : void 0;\n          }).filter(function (e) {\n            return e && (t || !e.isLocked);\n          });\n        }\n\n        return this.keys.map(function (t) {\n          return n.model.findConnector(t);\n        }).filter(function (e) {\n          return e && (t || !e.isLocked);\n        });\n      }, t.prototype.hasKey = function (t) {\n        return this.keys.indexOf(t) >= 0;\n      }, t.prototype.isEmpty = function (t) {\n        return !this.getSelectedItems(t).length;\n      }, t.prototype.selectRect = function (t) {\n        var e = [];\n        this.model.iterateItems(function (n) {\n          n.intersectedByRect(t) && e.push(n.key);\n        }), this.set(e);\n      }, t.prototype.raiseSelectionChanged = function () {\n        this.onChanged.raise(\"notifySelectionChanged\", this);\n      }, t;\n    }();\n\n    e.Selection = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.InputPosition = void 0;\n\n    var o = n(334),\n        i = n(50),\n        r = function () {\n      function t(t) {\n        this.selection = t, this.initialProperties = new o.InputPositionProperties(this.selection), this.defaultProperties = new o.InputPositionProperties(this.selection, this.initialProperties, !0), this.currentProperties = new o.InputPositionProperties(this.selection, this.defaultProperties);\n      }\n\n      return t.prototype.initialize = function () {\n        this.reset(), this.defaultProperties.reset();\n      }, t.prototype.reset = function () {\n        this.currentProperties.reset();\n      }, t.prototype.getDefaultConnectorProperties = function () {\n        return this.defaultProperties.getConnectorProperties();\n      }, t.prototype.getDefaultConnectorPropertyValue = function (t) {\n        return this.defaultProperties.getConnectorPropertyValue(t);\n      }, t.prototype.getCurrentConnectorPropertyValue = function (t) {\n        return this.currentProperties.getConnectorPropertyValue(t);\n      }, t.prototype.setConnectorPropertyValue = function (t, e) {\n        this.currentProperties.setConnectorPropertyValue(t, e), this.selection.isEmpty(!0) && this.defaultProperties.setConnectorPropertyValue(t, e);\n      }, t.prototype.setInitialConnectorProperties = function (t) {\n        for (var e in this.defaultProperties.reset(), this.currentProperties.reset(), t) Object.prototype.hasOwnProperty.call(t, e) && this.initialProperties.setConnectorPropertyValue(e, t[e]);\n      }, t.prototype.getDefaultStyle = function () {\n        return this.defaultProperties.getStyle();\n      }, t.prototype.getDefaultStylePropertyValue = function (t) {\n        return this.defaultProperties.getStylePropertyValue(t);\n      }, t.prototype.getDefaultTextStyle = function () {\n        return this.defaultProperties.getTextStyle();\n      }, t.prototype.getDefaultTextStylePropertyValue = function (t) {\n        return this.defaultProperties.getTextStylePropertyValue(t);\n      }, t.prototype.getCurrentStylePropertyValue = function (t) {\n        return this.currentProperties.getStylePropertyValue(t);\n      }, t.prototype.getCurrentTextStylePropertyValue = function (t) {\n        return this.currentProperties.getTextStylePropertyValue(t);\n      }, t.prototype.setStylePropertyValue = function (t, e) {\n        this.currentProperties.setStylePropertyValue(t, e), this.selection.isEmpty(!0) && this.defaultProperties.setStylePropertyValue(t, e);\n      }, t.prototype.setTextStylePropertyValue = function (t, e) {\n        this.currentProperties.setTextStylePropertyValue(t, e), this.selection.isEmpty(!0) && this.defaultProperties.setTextStylePropertyValue(t, e);\n      }, t.prototype.setInitialStyleProperties = function (t) {\n        this.defaultProperties.reset(), this.currentProperties.reset();\n        var e = \"string\" == typeof t ? i.Data.cssTextToObject(t) : t;\n\n        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && this.initialProperties.setStylePropertyValue(n, e[n]);\n      }, t.prototype.setInitialTextStyleProperties = function (t) {\n        this.defaultProperties.reset(), this.currentProperties.reset();\n        var e = \"string\" == typeof t ? i.Data.cssTextToObject(t) : t;\n\n        for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && this.initialProperties.setTextStylePropertyValue(n, e[n]);\n      }, t.prototype.notifySelectionChanged = function (t) {\n        this.reset();\n      }, t;\n    }();\n\n    e.InputPosition = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.InputPositionProperties = void 0;\n\n    var o = n(31),\n        i = n(28),\n        r = function () {\n      function t(t, e, n) {\n        this.selection = t, this.baseProperties = e, this.disableMergingStyles = n, this.selection = t;\n      }\n\n      return t.prototype.reset = function () {\n        this.connectorProperties = null, this.style = null, this.textStyle = null;\n      }, t.prototype.getConnectorProperties = function () {\n        return this.connectorProperties || (this.connectorProperties = this.baseProperties ? this.baseProperties.getConnectorProperties().clone() : new o.ConnectorProperties(), this.updateConnectorProperties(this.connectorProperties)), this.connectorProperties;\n      }, t.prototype.getConnectorPropertyValue = function (t) {\n        return this.getConnectorProperties()[t];\n      }, t.prototype.setConnectorPropertyValue = function (t, e) {\n        this.getConnectorProperties()[t] = e;\n      }, t.prototype.getStyle = function () {\n        return this.style || (this.style = this.baseProperties ? this.baseProperties.getStyle().clone() : new i.Style(), this.disableMergingStyles || this.updateStyle(this.style, \"style\")), this.style;\n      }, t.prototype.getStylePropertyValue = function (t) {\n        return this.getStyle()[t];\n      }, t.prototype.setStylePropertyValue = function (t, e) {\n        this.getStyle()[t] = e;\n      }, t.prototype.getTextStyle = function () {\n        return this.textStyle || (this.textStyle = this.baseProperties ? this.baseProperties.getTextStyle().clone() : new i.TextStyle(), this.disableMergingStyles || this.updateStyle(this.textStyle, \"styleText\")), this.textStyle;\n      }, t.prototype.getTextStylePropertyValue = function (t) {\n        return this.getTextStyle()[t];\n      }, t.prototype.setTextStylePropertyValue = function (t, e) {\n        this.getTextStyle()[t] = e;\n      }, t.prototype.updateConnectorProperties = function (t) {\n        var e = this,\n            n = this.selection.getSelectedConnectors(!0);\n        t.forEach(function (o) {\n          e.updatePropertyValue(t, n, function (t) {\n            return t.properties;\n          }, o);\n        });\n      }, t.prototype.updateStyle = function (t, e) {\n        var n = this,\n            o = this.selection.getSelectedItems(!0);\n        t.forEach(function (i) {\n          n.updatePropertyValue(t, o, function (t) {\n            return t[e];\n          }, i);\n        });\n      }, t.prototype.updatePropertyValue = function (t, e, n, o) {\n        var i,\n            r = !1;\n        e.forEach(function (t) {\n          var e = n(t)[o];\n          if (void 0 === i && void 0 !== e) i = e, r = !0;else if (r && i !== e) return void (i = void 0);\n        }), r && (t[o] = i);\n      }, t;\n    }();\n\n    e.InputPositionProperties = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.History = void 0;\n\n    var o = n(8),\n        i = n(3),\n        r = function () {\n      function t(t) {\n        this.historyItems = [], this.currentIndex = -1, this.incrementalId = -1, this.transactionLevel = -1, this.unmodifiedIndex = -1, this.currTransactionId = 0, this.onChanged = new i.EventDispatcher(), this.modelManipulator = t;\n      }\n\n      return t.prototype.isModified = function () {\n        if (this.unmodifiedIndex === this.currentIndex) return !1;\n\n        for (var t = Math.min(this.unmodifiedIndex, this.currentIndex), e = Math.max(this.unmodifiedIndex, this.currentIndex), n = t + 1; n <= e; n++) if (this.historyItems[n].changeModified()) return !0;\n\n        return !1;\n      }, t.prototype.undo = function () {\n        this.canUndo() && (this.historyItems[this.currentIndex].undo(this.modelManipulator), this.currentIndex--, this.raiseChanged());\n      }, t.prototype.redo = function () {\n        this.canRedo() && (this.startDataSyncItem && (this.startDataSyncItem.undo(this.modelManipulator), this.startDataSyncItem = void 0), this.currentIndex++, this.historyItems[this.currentIndex].redo(this.modelManipulator), this.raiseChanged());\n      }, t.prototype.canUndo = function () {\n        return this.currentIndex >= 0;\n      }, t.prototype.canRedo = function () {\n        return this.currentIndex < this.historyItems.length - 1;\n      }, t.prototype.beginTransaction = function () {\n        return this.transactionLevel++, 0 === this.transactionLevel && (this.transaction = new o.CompositionHistoryItem()), this.currTransactionId++;\n      }, t.prototype.endTransaction = function (t) {\n        if (!(--this.transactionLevel >= 0)) {\n          var e = this.transaction.historyItems.length;\n\n          if (e > 0) {\n            var n = e > 1 ? this.transaction : this.transaction.historyItems.pop();\n            t ? this.addDataSyncItem(n) : this.addInternal(n);\n          }\n\n          e > 0 && !t && this.raiseChanged(), delete this.transaction;\n        }\n      }, t.prototype.addAndRedo = function (t) {\n        this.add(t), t.redo(this.modelManipulator), this.raiseChanged();\n      }, t.prototype.add = function (t) {\n        this.transactionLevel >= 0 ? this.transaction.add(t) : this.addInternal(t);\n      }, t.prototype.addInternal = function (t) {\n        this.currentIndex < this.historyItems.length - 1 && (this.historyItems.splice(this.currentIndex + 1), this.unmodifiedIndex = Math.min(this.unmodifiedIndex, this.currentIndex)), this.historyItems.push(t), this.currentIndex++, this.deleteOldItems();\n      }, t.prototype.addDataSyncItem = function (t) {\n        var e = this.historyItems[this.currentIndex];\n\n        if (e) {\n          var n = void 0;\n          e instanceof o.CompositionHistoryItem ? n = e : (this.historyItems.splice(this.currentIndex, 1), n = new o.CompositionHistoryItem(), this.historyItems.push(n), n.historyItems.push(e)), n.dataSyncItems.push(t);\n        } else this.historyItems.length && (this.startDataSyncItem = t);\n      }, t.prototype.deleteOldItems = function () {\n        var e = this.historyItems.length - t.MAX_HISTORY_ITEM_COUNT;\n        e > 0 && this.currentIndex > e && (this.historyItems.splice(0, e), this.currentIndex -= e);\n      }, t.prototype.getNextId = function () {\n        return this.incrementalId++, this.incrementalId;\n      }, t.prototype.clear = function () {\n        this.currentIndex = -1, this.unmodifiedIndex = -1, this.incrementalId = -1, this.historyItems = [], delete this.transaction, this.transactionLevel = -1;\n      }, t.prototype.resetModified = function () {\n        this.unmodifiedIndex = this.currentIndex;\n      }, t.prototype.getCurrentItemId = function () {\n        if (-1 === this.currentIndex) return -1;\n        var t = this.historyItems[this.currentIndex];\n        return -1 === t.uniqueId && (t.uniqueId = this.getNextId()), t.uniqueId;\n      }, t.prototype.undoTransaction = function () {\n        for (var t = this.transaction.historyItems; t.length;) t.pop().undo(this.modelManipulator);\n      }, t.prototype.undoTransactionTo = function (t) {\n        for (var e = this.transaction.historyItems; e.length;) {\n          var n = e.pop();\n          if (n.undo(this.modelManipulator), n === t) return;\n        }\n      }, t.prototype.raiseChanged = function () {\n        -1 === this.transactionLevel && this.onChanged.raise(\"notifyHistoryChanged\");\n      }, t.MAX_HISTORY_ITEM_COUNT = 100, t;\n    }();\n\n    e.History = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o231,\n        i = this && this.__extends || (_o231 = function o(t, e) {\n      return (_o231 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o231(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.BarManager = void 0;\n\n    var r = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.bars = [], n.control = e, n;\n      }\n\n      return i(e, t), e.prototype.clean = function () {\n        var t = this;\n        this.bars.forEach(function (e) {\n          return e.onChanged.remove(t);\n        }), this.bars = [];\n      }, e.prototype.registerBar = function (t) {\n        this.bars.push(t), t.onChanged.add(this), this.updateBarItemsState(t);\n      }, e.prototype.updateItemsState = function (t) {\n        if (!this.isUpdateLocked()) for (var e = 0, n = void 0; n = this.bars[e]; e++) this.updateBarItemsState(n, t);\n      }, e.prototype.updateBarItemsState = function (t, e) {\n        if (!this.isUpdateLocked()) {\n          if (this.control.permissionsProvider.beginUpdateUI(), t.isVisible()) {\n            var n = void 0;\n\n            if (e) {\n              var o = t.getCommandKeys().reduce(function (t, e) {\n                return t[e] = !0, t;\n              }, {});\n              n = e.filter(function (t) {\n                return o[t];\n              });\n            } else n = t.getCommandKeys();\n\n            for (var i = n.length, r = 0; r < i; r++) this.updateBarItem(t, n[r]);\n          }\n\n          this.control.permissionsProvider.endUpdateUI();\n        }\n      }, e.prototype.updateBarItem = function (t, e) {\n        var n = this.control.commandManager.getCommand(e);\n\n        if (n) {\n          var o = n.getState();\n\n          if (t.setItemVisible(e, o.visible), o.visible && (t.setItemEnabled(e, o.enabled), !o.denyUpdateValue)) {\n            var i = this.getItemValue(o.value);\n            o.items && t.setItemSubItems(e, o.items), t.setItemValue(e, i, this.getDefaultItemValue(o.defaultValue));\n          }\n        }\n      }, e.prototype.setEnabled = function (t) {\n        for (var e = 0, n = void 0; n = this.bars[e]; e++) n.setEnabled(t);\n      }, e.prototype.notifyBarCommandExecuted = function (t, e) {\n        this.control.commandManager.getCommand(t).execute(e) || this.updateItemsState([t]);\n      }, e.prototype.notifyBarUpdateRequested = function () {\n        this.updateItemsState();\n      }, e.prototype.notifySelectionChanged = function (t) {\n        this.updateItemsState();\n      }, e.prototype.onUpdateUnlocked = function (t) {}, e.prototype.getItemValue = function (t) {\n        return t;\n      }, e.prototype.getDefaultItemValue = function (t) {\n        return t;\n      }, e;\n    }(n(80).BatchUpdatableObject);\n\n    e.BarManager = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RenderManager = e.DBL_CLICK_TIMEOUT = e.LONG_TOUCH_TIMEOUT = void 0;\n    var o = n(14),\n        i = n(60),\n        r = n(11),\n        s = n(24),\n        a = n(1),\n        c = n(17),\n        u = n(77),\n        h = n(338),\n        p = n(29),\n        l = n(339),\n        d = n(340),\n        f = n(342),\n        y = n(157),\n        g = n(344),\n        m = n(78),\n        v = n(15),\n        P = n(100),\n        C = n(26),\n        S = n(27);\n    e.LONG_TOUCH_TIMEOUT = 500, e.DBL_CLICK_TIMEOUT = 500;\n\n    var b = function () {\n      function t(t, e, n, o, i, r) {\n        this.touchPositionLimit = 4;\n        var s = v.RenderHelper.createMainElement(t);\n        this.svgElement = v.RenderHelper.createSvgElement(s), this.scroll = i || new h.NativeScrollView(t), this.measurer = n, this.dom = new P.DOMManipulator(this.measurer), this.view = new f.CanvasViewManager(this.scroll, this.svgElement, o.modelSize, o.zoomLevel, o.autoZoom, o.simpleView, o.rectangle, this.dom), this.input = new l.InputManager(s, this.view, e, this.measurer, o.zoomLevel, o.isTouchUIEnabled, r), this.items = new u.CanvasItemsManager(this.view.canvasElement, o.zoomLevel, this.dom), this.page = new d.CanvasPageManager(this.view.pageElement, o, this.dom), this.selection = new y.CanvasSelectionManager(this.view.canvasElement, o.zoomLevel, o.readOnly, this.dom, o.isTouchUIEnabled), this.contextMenuEnabled = o.contextMenuEnabled, this.view.onViewChanged.add(this.page), this.view.onViewChanged.add(this.items), this.view.onViewChanged.add(this.selection), this.view.onViewChanged.add(this.input), this.mainElement = s, this.events = e, this.autoScroll = new g.AutoScrollController(this.scroll, this.view, this.dom), this.attachEvents(), this.notifyReadOnlyChanged(o.readOnly);\n      }\n\n      return t.prototype.clean = function (t) {\n        this.lastDownMouseEvent = void 0, this.detachEvents(), this.dom.cancelAnimation(), t && t(this.mainElement);\n      }, t.prototype.replaceParent = function (t, e) {\n        this.mainElement && this.mainElement.parentNode !== t && t.appendChild(this.mainElement), e && e !== this.scroll && (this.scroll && this.scroll.detachEvents(), this.scroll = e), this.measurer instanceof m.TextMeasurer && this.measurer.replaceParent(t);\n      }, t.prototype.update = function (t) {\n        this.view.adjust({\n          horizontal: !t,\n          vertical: !t\n        }), this.page.redraw();\n      }, t.prototype.onNewModel = function (t) {\n        this.measurer.onNewModel(t, this.dom);\n      }, t.prototype.clear = function () {\n        this.items.clear(), this.selection.clear();\n      }, t.prototype.onMouseEnter = function (t) {\n        var e = this.createInnerDiagramMouseEvent(t, this.getEventSourceByEvent(t));\n        this.events.onMouseEnter(e), this.preventEvent(t, e);\n      }, t.prototype.onMouseLeave = function (t) {\n        var e = this.createInnerDiagramMouseEvent(t, this.getEventSourceByEvent(t));\n        this.stopScrolling(), this.events.onMouseLeave(e), this.preventEvent(t, e);\n      }, t.prototype.onMouseDown = function (t) {\n        this.lastDownMouseElement = this.getEventSourceByEvent(t), this.lastDownMouseEvent = this.createInnerDiagramMouseEvent(t, this.lastDownMouseElement), this.onMouseDownCore(this.lastDownMouseEvent), this.preventEvent(t, this.lastDownMouseEvent);\n      }, t.prototype.onTouchDown = function (t) {\n        this.lastDownMouseElement = this.getEventSourceByEvent(t), this.lastDownMouseEvent = this.createInnerDiagramMouseEvent(t, this.lastDownMouseElement), this.onMouseDownCore(this.lastDownMouseEvent), this.emulateLongTouchEvent(this.lastDownMouseEvent), this.preventEvent(t, this.lastDownMouseEvent);\n      }, t.prototype.onMouseMove = function (t) {\n        this.onBeforeMouseMove();\n        var e = S.isDefined(this.toolboxDraggingObject) ? this.onDragFromToolbox(t, this.getEventSourceByEvent(t)) : this.onInnerMove(t, this.getEventSourceByEvent(t));\n        this.preventEvent(t, e);\n      }, t.prototype.onTouchMove = function (t) {\n        if (this.onBeforeMouseMove(), S.isDefined(this.toolboxDraggingObject)) this.preventEvent(t, this.onDragFromToolbox(t, this.getEventSourceByPosition(t)));else {\n          var e = this.onInnerMove(t, this.getEventSourceByPosition(t));\n          this.onAfterTouchMove(e), this.preventEvent(t, e);\n        }\n      }, t.prototype.onMouseUp = function (t) {\n        if (this.stopScrolling(), S.isDefined(this.lastDownMouseEvent)) {\n          var e = this.createInnerDiagramMouseEvent(t, this.lastDownMouseElement);\n          this.preventDiagramEventByImage(this.lastDownMouseElement, e), this.events.onMouseUp(e), this.emulateClickEvents(e), this.preventEvent(t, e);\n        } else {\n          e = this.createInnerDiagramMouseEvent(t, this.getEventSourceByEvent(t));\n          this.events.onMouseUp(e), this.resetTimers(), this.preventEvent(t, e);\n        }\n\n        this.clearDrag();\n      }, t.prototype.onTouchUp = function (t) {\n        this.onMouseUp(t);\n      }, t.prototype.onContextMenu = function (t) {\n        if (this.contextMenuEnabled) {\n          var e = this.createDiagramContextMenuEvent(t);\n          this.events.onContextMenu(e), this.input.captureFocus(), this.preventDiagramEvent(e), this.preventEvent(t, e);\n        }\n      }, t.prototype.onMouseWheel = function (t) {\n        var e = this.createDiagramWheelEvent(t);\n        this.events.onMouseWheel(e), this.preventEvent(t, e);\n      }, t.prototype.onOrientationChange = function () {\n        var t = this;\n        setTimeout(function () {\n          return t.onWindowResize();\n        }, 100);\n      }, t.prototype.onWindowResize = function () {\n        var t = {\n          horizontal: !1,\n          vertical: !1\n        };\n        if (this.view.autoZoom !== p.AutoZoomMode.Disabled) t.horizontal = !0, t.vertical = !0;else {\n          var e = this.view.checkFitToCanvas(),\n              n = this.view.checkFitToCanvas(this.scroll.getSize());\n          t = {\n            horizontal: e.horizontal !== n.horizontal || n.horizontal,\n            vertical: e.vertical !== n.vertical || n.vertical\n          };\n        }\n        this.view.adjust(t);\n      }, t.prototype.notifyModelSizeChanged = function (t, e) {\n        this.view.notifyModelSizeChanged(t, e);\n      }, t.prototype.notifyModelRectangleChanged = function (t) {\n        this.view.notifyModelRectangleChanged(t);\n      }, t.prototype.notifyReadOnlyChanged = function (t) {\n        s.DomUtils.toggleClassName(this.mainElement, \"dxdi-read-only\", t);\n      }, t.prototype.notifyDragStart = function (t) {}, t.prototype.notifyDragEnd = function (t) {}, t.prototype.notifyDragScrollStart = function () {\n        this.autoScroll.onDragScrollStart();\n      }, t.prototype.notifyDragScrollEnd = function () {\n        this.autoScroll.onDragScrollEnd();\n      }, t.prototype.getEventSource = function (t) {\n        var e = t;\n        if (this.isDiagramControl(t)) for (; e && !this.isDocumentContainer(e);) {\n          var n = c.RenderUtils.getElementEventData(e);\n          if (void 0 !== n) return n;\n          if (this.input.isTextInputElement(e)) return new o.MouseEventSource(o.MouseEventElementType.Document);\n          e = e.parentNode;\n        }\n        return new o.MouseEventSource(e && this.isDocumentContainer(e) ? o.MouseEventElementType.Background : o.MouseEventElementType.Undefined);\n      }, t.prototype.getModelPointByEventPoint = function (t, e) {\n        return this.view.getModelPoint(this.getOffsetPointByEventPoint(t, e));\n      }, t.prototype.getEventPointByModelPoint = function (t) {\n        var e = this.view.getAbsolutePoint(t),\n            n = this.getScrollContainer();\n        return new a.Point(s.DomUtils.getAbsolutePositionX(n) + e.x, s.DomUtils.getAbsolutePositionY(n) + e.y);\n      }, t.prototype.hasViewPoint = function (t) {\n        if (!this.viewRectangle) return !1;\n        var e = t.x - this.viewRectangle.x,\n            n = t.y - this.viewRectangle.y;\n        return e >= 0 && n >= 0 && e <= this.viewRectangle.width && n <= this.viewRectangle.height;\n      }, t.prototype.attachEvents = function () {\n        this.onMouseWheelHandler = this.onMouseWheel.bind(this), this.onContextMenuHandler = this.onContextMenu.bind(this), this.onWindowResizeHandler = this.onWindowResize.bind(this), this.onOrientationChangeHandler = this.onOrientationChange.bind(this), v.RenderHelper.addEventListener(this.svgElement, \"wheel\", this.onMouseWheelHandler), v.RenderHelper.addEventListener(this.svgElement, \"contextmenu\", this.onContextMenuHandler), v.RenderHelper.addEventListener(window, \"resize\", this.onWindowResizeHandler), v.RenderHelper.addEventListener(window, \"orientationchange\", this.onOrientationChangeHandler), this.input.mouseWheelHandler = this.onMouseWheelHandler;\n      }, t.prototype.detachEvents = function () {\n        this.dragEventsHandler && (this.dragEventsHandler.detach(), this.dragEventsHandler = void 0), v.RenderHelper.removeEventListener(this.svgElement, \"wheel\", this.onMouseWheelHandler), v.RenderHelper.removeEventListener(this.svgElement, \"contextmenu\", this.onContextMenuHandler), v.RenderHelper.removeEventListener(window, \"resize\", this.onWindowResizeHandler), v.RenderHelper.removeEventListener(window, \"orientationchange\", this.onOrientationChangeHandler), this.scroll.detachEvents(), this.input.detachEvents();\n      }, t.prototype.onMouseDownCore = function (t) {\n        this.input.lockFocus(), this.events.onMouseDown(t), this.captureFocus(this.events.canFinishTextEditing()), this.preventDiagramEvent(t);\n      }, t.prototype.onBeforeMouseMove = function () {\n        this.isStartedDrag || (S.isDefined(this.viewRectangle) || (this.viewRectangle = this.createViewRectangle()), S.isDefined(this.toolboxDraggingObject) || (this.toolboxDraggingObject = this.events.getToolboxDraggingObject()));\n      }, t.prototype.onAfterTouchMove = function (t) {\n        if (this.lastDownMouseEvent) {\n          var e = t.actualOffsetPoint,\n              n = this.lastDownMouseEvent.actualOffsetPoint;\n          n && e && (Math.abs(n.x - e.x) > this.touchPositionLimit || Math.abs(n.y - e.y) > this.touchPositionLimit) && this.resetTimers();\n        }\n      }, t.prototype.onDragFromToolbox = function (t, e) {\n        var n = this;\n\n        if (!c.isLeftButtonPressed(t)) {\n          this.stopScrolling();\n          var o = this.createDiagramMouseEventFromToolbox(t, e);\n          return this.events.onDragEndFromToolbox(o), this.resetTimers(), this.clearDrag(), o;\n        }\n\n        if (this.isStartedDrag) {\n          this.continueScrolling(t, function () {\n            return n.onMouseMoveCore(n.createDiagramMouseEventFromToolbox(t, e));\n          });\n          o = this.createDiagramMouseEventFromToolbox(t, e);\n          return this.onMouseMoveCore(o), o;\n        }\n\n        this.isStartedDrag = !0, setTimeout(function () {\n          return n.startScrolling();\n        }, 500), this.events.onDragStartFromToolbox(this.toolboxDraggingObject.evt);\n      }, t.prototype.onInnerMove = function (t, e) {\n        var n = this;\n        S.isDefined(this.lastDownMouseEvent) ? this.isStartedDrag ? c.isLeftButtonPressed(t) ? this.continueScrolling(t, function () {\n          return n.onMouseMoveCore(n.createInnerDiagramMouseEvent(t, e));\n        }) : (this.stopScrolling(), this.resetTimers(), this.clearDrag()) : (this.isStartedDrag = !0, setTimeout(function () {\n          return n.startScrolling();\n        }, 500)) : this.stopScrolling();\n        var o = this.createInnerDiagramMouseEvent(t, e);\n        return this.onMouseMoveCore(o), o;\n      }, t.prototype.onMouseMoveCore = function (t) {\n        this.events.onMouseMove(t);\n      }, t.prototype.emulateLongTouchEvent = function (t) {\n        var n = this;\n        this.resetLongTouch(), this.longTouchTimer = setTimeout(function () {\n          n.hasLongTouch = !0, n.events.onLongTouch(t), n.resetTimers();\n        }, e.LONG_TOUCH_TIMEOUT);\n      }, t.prototype.emulateClickEvents = function (t) {\n        var n = this;\n        if (this.resetLongTouch(), this.captureFocus(t.source.type !== o.MouseEventElementType.Undefined), this.hasLongTouch) delete this.hasLongTouch;else if (!this.isStartedDrag) {\n          if (this.events.onClick(t), !S.isDefined(this.dblTouchTimer)) return this.dblTouchTimer = setTimeout(function () {\n            return n.dblTouchTimer = void 0;\n          }, e.DBL_CLICK_TIMEOUT), void (this.clickSource = t.source);\n          this.clickSource && this.clickSource.isEquals(t.source) && (this.events.onDblClick(t), this.resetDblClick(), delete this.clickSource);\n        }\n      }, t.prototype.clearDrag = function () {\n        delete this.lastDownMouseEvent, delete this.lastDownMouseElement, delete this.toolboxDraggingObject, delete this.viewRectangle, delete this.isStartedDrag;\n      }, t.prototype.resetTimers = function () {\n        this.resetDblClick(), this.resetLongTouch();\n      }, t.prototype.resetDblClick = function () {\n        void 0 !== this.dblTouchTimer && clearTimeout(this.dblTouchTimer), this.dblTouchTimer = void 0;\n      }, t.prototype.resetLongTouch = function () {\n        void 0 !== this.longTouchTimer && clearTimeout(this.longTouchTimer), this.longTouchTimer = void 0;\n      }, t.prototype.shouldPreventImageEventAndBubble = function (t) {\n        var e = t && t.tagName;\n\n        if (S.isDefined(e) && e.toLowerCase) {\n          var n = e.toLowerCase();\n          if (\"img\" === n || \"image\" === n) return !0;\n        }\n\n        return !1;\n      }, t.prototype.preventDiagramEventByImage = function (t, e) {\n        this.shouldPreventImageEventAndBubble(t) && this.preventDiagramEvent(e);\n      }, t.prototype.preventDiagramEvent = function (t) {\n        t.stopPropagation = !0, t.preventDefault = !0;\n      }, t.prototype.preventEvent = function (t, e) {\n        e && e.preventEvent(t);\n      }, t.prototype.startScrolling = function () {\n        this.autoScroll.startScrolling(this.svgElement);\n      }, t.prototype.stopScrolling = function () {\n        this.autoScroll.stopScrolling();\n      }, t.prototype.continueScrolling = function (t, e) {\n        this.startScrolling(), this.autoScroll.continueScrolling(this.createRelativePoint(t), e);\n      }, t.prototype.captureFocus = function (t) {\n        t && this.input.captureFocus();\n      }, t.prototype.createViewRectangle = function () {\n        var t = this.getScrollContainer(),\n            e = this.scroll.getSize();\n        return new r.Rectangle(s.DomUtils.getAbsolutePositionX(t), s.DomUtils.getAbsolutePositionY(t), e.width, e.height);\n      }, t.prototype.createRelativePoint = function (t) {\n        var e = this.createPagePoint(t);\n        return new a.Point(e.x - this.viewRectangle.x, e.y - this.viewRectangle.y);\n      }, t.prototype.getMouseEventElementTypeFromToolbox = function (t, e) {\n        return this.hasViewPoint(t) && this.toolboxDraggingObject.isLeavedToolbox(e) ? o.MouseEventElementType.Document : o.MouseEventElementType.Undefined;\n      }, t.prototype.getScrollContainer = function () {\n        return this.scroll.getScrollContainer();\n      }, t.prototype.getEventSourceByEvent = function (t) {\n        return i.EvtUtils.getEventSource(t);\n      }, t.prototype.getEventSourceByPosition = function (t) {\n        return i.EvtUtils.getEventSourceByPosition(t);\n      }, t.prototype.createDiagramMouseEventFromToolbox = function (t, e) {\n        var n = this.getOffsetPointByEvent(t);\n        return this.createDiagramMouseEventCore(t, n, this.createEventSourceFromToolbox(t, n, e));\n      }, t.prototype.createEventSourceFromToolbox = function (t, e, n) {\n        var i = this.getEventSource(n);\n        return !S.isDefined(i) || i.type <= 1 ? new o.MouseEventSource(this.getMouseEventElementTypeFromToolbox(this.createPagePoint(t), e)) : i;\n      }, t.prototype.createInnerDiagramMouseEvent = function (t, e) {\n        return this.createDiagramMouseEventCore(t, this.getOffsetPointByEvent(t), this.getEventSource(e));\n      }, t.prototype.createDiagramMouseEventCore = function (t, e, n) {\n        return new o.DiagramMouseEvent(C.KeyUtils.getKeyModifiers(t), this.createMouseButton(t), e, this.view.getModelPoint(e), n, this.createDiagramMouseEventTouches(t.touches), t.pointerType);\n      }, t.prototype.createMouseButton = function (t) {\n        return c.isLeftButtonPressed(t) ? o.MouseButton.Left : o.MouseButton.Right;\n      }, t.prototype.createPagePoint = function (t) {\n        return new a.Point(t.pageX, t.pageY);\n      }, t.prototype.createDiagramContextMenuEvent = function (t) {\n        return new o.DiagramContextMenuEvent(C.KeyUtils.getKeyModifiers(t), this.createPagePoint(t), this.view.getModelPoint(this.getOffsetPointByEvent(t)));\n      }, t.prototype.createDiagramWheelEvent = function (t) {\n        var e = this.getOffsetPointByEvent(t);\n        return new o.DiagramWheelEvent(C.KeyUtils.getKeyModifiers(t), t.deltaX || t.originalEvent && t.originalEvent.deltaX, t.deltaY || t.originalEvent && t.originalEvent.deltaY, e, this.view.getModelPoint(e), this.getEventSource(this.getEventSourceByEvent(t)));\n      }, t.prototype.getOffsetPointByEventPoint = function (t, e) {\n        var n = this.getScrollContainer();\n        return new a.Point(t - s.DomUtils.getAbsolutePositionX(n), e - s.DomUtils.getAbsolutePositionY(n));\n      }, t.prototype.getOffsetPointByEvent = function (t) {\n        return this.getOffsetPointByEventPoint(i.EvtUtils.getEventX(t), i.EvtUtils.getEventY(t));\n      }, t.prototype.isDiagramControl = function (t) {\n        for (; t;) {\n          if (this.isDocumentContainer(t)) return !0;\n          t = t.parentNode;\n        }\n\n        return !1;\n      }, t.prototype.isDocumentContainer = function (t) {\n        return t === this.mainElement;\n      }, t.prototype.createDiagramMouseEventTouches = function (t) {\n        if (!t) return [];\n\n        for (var e = [], n = 0; n < t.length; n++) {\n          var i = t[n],\n              r = this.getOffsetPointByEventPoint(i.clientX, i.clientY);\n          e.push(new o.DiagramMouseEventTouch(r, this.view.getModelPoint(r)));\n        }\n\n        return e;\n      }, t;\n    }();\n\n    e.RenderManager = b;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.NativeScrollView = void 0;\n\n    var o = n(3),\n        i = n(2),\n        r = n(1),\n        s = n(24),\n        a = n(15),\n        c = function () {\n      function t(t) {\n        this.onScroll = new o.EventDispatcher(), this.scrollBarWidth = s.DomUtils.getVerticalScrollBarWidth(), this.mainElement = t, this.attachEvents();\n      }\n\n      return t.prototype.attachEvents = function () {\n        var t = this;\n        this.onScrollHandler = function () {\n          return t.onScroll.raise1(function (e) {\n            return e.notifyScrollChanged(function () {\n              return t.getScroll();\n            });\n          });\n        }, a.RenderHelper.addEventListener(this.mainElement, \"scroll\", this.onScrollHandler);\n      }, t.prototype.detachEvents = function () {\n        a.RenderHelper.removeEventListener(this.mainElement, \"scroll\", this.onScrollHandler);\n      }, t.prototype.getScrollContainer = function () {\n        return this.mainElement;\n      }, t.prototype.setScroll = function (t, e) {\n        var n = this;\n        this.mainElement.style.overflow = \"scroll\", this.mainElement.scrollLeft = t, this.mainElement.scrollTop = e, this.mainElement.style.overflow = \"\", this.onScroll.raise1(function (t) {\n          return t.notifyScrollChanged(function () {\n            return n.getScroll();\n          });\n        });\n      }, t.prototype.offsetScroll = function (t, e) {\n        var n = this;\n        t && (this.mainElement.scrollLeft += t), e && (this.mainElement.scrollTop += e), this.onScroll.raise1(function (t) {\n          return t.notifyScrollChanged(function () {\n            return n.getScroll();\n          });\n        });\n      }, t.prototype.getScroll = function () {\n        return new r.Point(this.mainElement.scrollLeft, this.mainElement.scrollTop);\n      }, t.prototype.getSize = function () {\n        var t = this.mainElement.getBoundingClientRect();\n        return new i.Size(Math.floor(t.width), Math.floor(t.height));\n      }, t.prototype.getScrollBarWidth = function () {\n        return this.scrollBarWidth;\n      }, t;\n    }();\n\n    e.NativeScrollView = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.InputManager = void 0;\n\n    var o = n(26),\n        i = n(24),\n        r = n(60),\n        s = n(19),\n        a = n(12),\n        c = n(17),\n        u = n(14),\n        h = n(13),\n        p = n(6),\n        l = n(44),\n        d = n(15),\n        f = n(63),\n        y = n(3),\n        g = function () {\n      function t(t, e, n, o, i, r, s) {\n        this.mainElement = t, this.layoutPointResolver = e, this.eventManager = n, this.textMeasurer = o, this.actualZoom = i, this.isTouchUIEnabled = r, this.focusElementsParent = s, this.focused = !1, this.focusLocked = !1, this.createInputElements(this.mainElement, this.focusElementsParent);\n      }\n\n      return t.prototype.detachEvents = function () {\n        this.detachInputElementEvents(), this.detachTextInputElementEvents();\n      }, t.prototype.isFocused = function () {\n        return this.focused;\n      }, t.prototype.captureFocus = function () {\n        y.HtmlFocusUtils.focusWithPreventScroll(this.inputElement);\n      }, t.prototype.setClipboardData = function (t) {\n        this.clipboardInputElement.value = t, y.HtmlFocusUtils.focusWithPreventScroll(this.clipboardInputElement), this.clipboardInputElement.select(), document.execCommand(\"copy\"), this.captureFocus();\n      }, t.prototype.getClipboardData = function (t) {\n        var e = this;\n        navigator && navigator.clipboard ? navigator.clipboard.readText().then(function (n) {\n          t(n), e.captureFocus();\n        }).catch(function () {\n          t(\"\"), e.captureFocus();\n        }) : s.Browser.IE && (this.clipboardInputElement.value = \"\", y.HtmlFocusUtils.focusWithPreventScroll(this.clipboardInputElement), this.clipboardInputElement.select(), document.execCommand(\"Paste\"), t(this.clipboardInputElement.value), this.captureFocus());\n      }, t.prototype.isPasteSupportedByBrowser = function () {\n        return s.Browser.IE || s.Browser.WebKitFamily && navigator && void 0 !== navigator.clipboard;\n      }, t.prototype.createInputElements = function (t, e) {\n        this.createFocusInputElement(e || t), this.createTextInputElement(t), this.createClipboardInputElement(e || t), this.attachInputElementEvents();\n      }, t.prototype.setInputElementFocusHandlerMode = function () {\n        this.textInputElementContainer.setAttribute(\"class\", \"dxdi-text-input-container\"), this.captureFocus();\n      }, t.prototype.setInputElementTextInputMode = function (t, e, n, o, i, r) {\n        this.textInputElementContainer.setAttribute(\"class\", \"dxdi-text-input-container \" + i), this.textInputElement.value = t, this.setTextInputElementBounds(e, n, r), this.setTextInputElementStyle(o), this.updateTextInputPadding();\n        var s = this.textInputElement || this.inputElement;\n        y.HtmlFocusUtils.focusWithPreventScroll(s), s.select && s.select();\n      }, t.prototype.setTextInputElementBounds = function (t, e, n) {\n        this.savedTextInputPosition = t, this.savedTextInputSize = e, this.savedTextInputAngle = n;\n        var o = this.layoutPointResolver.getAbsolutePoint(t, !0);\n        this.textInputElementContainer.style.left = o.x + \"px\", this.textInputElementContainer.style.top = o.y + \"px\", this.textInputElementContainer.style.width = e && e.width + \"px\" || \"0px\", this.textInputElementContainer.style.height = e && e.height + \"px\" || \"0px\";\n        var i = [];\n        this.textInputElementContainer.style.transform = \"\", 1 !== this.actualZoom && i.push(\"scale(\" + this.actualZoom + \")\"), n && i.push(\"rotate(\" + n + \"deg)\"), this.textInputElementContainer.style.transform = i.join(\" \"), this.textInputElement.style.width = e && e.width + \"px\" || \"\", this.textInputElement.style.height = e && e.height + \"px\" || \"auto\";\n      }, t.prototype.setTextInputElementStyle = function (t) {\n        this.savedTextInputStyle = t, c.RenderUtils.applyStyleToElement(t, this.textInputElement);\n      }, t.prototype.createFocusInputElement = function (t) {\n        this.inputElement = document.createElement(\"textarea\"), this.inputElement.readOnly = this.isTouchUIEnabled, this.inputElement.setAttribute(\"class\", \"dxdi-focus-input\"), t.appendChild(this.inputElement);\n      }, t.prototype.attachInputElementEvents = function () {\n        this.onInputBlurHandler = this.onInputBlur.bind(this), this.onInputFocusHandler = this.onInputFocus.bind(this), this.onInputKeyDownHandler = this.onInputKeyDown.bind(this), this.onInputKeyPressHandler = this.onInputKeyPress.bind(this), this.onInputKeyUpHandler = this.onInputKeyUp.bind(this), this.onPasteHandler = this.onPaste.bind(this), d.RenderHelper.addEventListener(this.inputElement, \"blur\", this.onInputBlurHandler), d.RenderHelper.addEventListener(this.inputElement, \"focus\", this.onInputFocusHandler), d.RenderHelper.addEventListener(this.inputElement, \"keydown\", this.onInputKeyDownHandler), d.RenderHelper.addEventListener(this.inputElement, \"keypress\", this.onInputKeyPressHandler), d.RenderHelper.addEventListener(this.inputElement, \"keyup\", this.onInputKeyUpHandler), d.RenderHelper.addEventListener(this.inputElement, \"paste\", this.onPasteHandler);\n      }, t.prototype.detachInputElementEvents = function () {\n        d.RenderHelper.removeEventListener(this.inputElement, \"blur\", this.onInputBlurHandler), d.RenderHelper.removeEventListener(this.inputElement, \"focus\", this.onInputFocusHandler), d.RenderHelper.removeEventListener(this.inputElement, \"keydown\", this.onInputKeyDownHandler), d.RenderHelper.removeEventListener(this.inputElement, \"keypress\", this.onInputKeyPressHandler), d.RenderHelper.removeEventListener(this.inputElement, \"keyup\", this.onInputKeyUpHandler), d.RenderHelper.removeEventListener(this.inputElement, \"paste\", this.onPasteHandler);\n      }, t.prototype.createTextInputElement = function (t) {\n        this.textInputElementContainer = document.createElement(\"div\"), this.textInputElementContainer.setAttribute(\"class\", \"dxdi-text-input-container\"), t.appendChild(this.textInputElementContainer), this.textInputElement = document.createElement(\"textarea\"), this.textInputElement.setAttribute(\"class\", \"dxdi-text-input\"), this.attachTextInputElementEvents(), this.textInputElementContainer.appendChild(this.textInputElement);\n      }, t.prototype.attachTextInputElementEvents = function () {\n        this.onTextInputBlurHandler = this.onTextInputBlur.bind(this), this.onTextInputFocusHandler = this.onTextInputFocus.bind(this), this.onTextInputKeyDownHandler = this.onTextInputKeyDown.bind(this), this.onTextInputMouseWheelHandler = this.onTextInputMouseWheel.bind(this), this.onTextInputMouseUpHandler = this.onTextInputMouseUp.bind(this), this.onTextInputKeyUpHandler = this.onTextInputKeyUp.bind(this), this.onTextInputChangeHandler = this.onTextInputChange.bind(this), d.RenderHelper.addEventListener(this.textInputElement, \"mousewheel\", this.onTextInputMouseWheelHandler), d.RenderHelper.addEventListener(this.textInputElement, \"mouseup\", this.onTextInputMouseUpHandler), d.RenderHelper.addEventListener(this.textInputElement, \"blur\", this.onTextInputBlurHandler), d.RenderHelper.addEventListener(this.textInputElement, \"focus\", this.onTextInputFocusHandler), d.RenderHelper.addEventListener(this.textInputElement, \"keydown\", this.onTextInputKeyDownHandler), d.RenderHelper.addEventListener(this.textInputElement, \"keyup\", this.onTextInputKeyUpHandler), d.RenderHelper.addEventListener(this.textInputElement, \"change\", this.onTextInputChangeHandler);\n      }, t.prototype.detachTextInputElementEvents = function () {\n        d.RenderHelper.removeEventListener(this.textInputElement, \"mousewheel\", this.onTextInputMouseWheelHandler), d.RenderHelper.removeEventListener(this.textInputElement, \"mouseup\", this.onTextInputMouseUpHandler), d.RenderHelper.removeEventListener(this.textInputElement, \"blur\", this.onTextInputBlurHandler), d.RenderHelper.removeEventListener(this.textInputElement, \"focus\", this.onTextInputFocusHandler), d.RenderHelper.removeEventListener(this.textInputElement, \"keydown\", this.onTextInputKeyDownHandler), d.RenderHelper.removeEventListener(this.textInputElement, \"keyup\", this.onTextInputKeyUpHandler), d.RenderHelper.removeEventListener(this.textInputElement, \"change\", this.onTextInputChangeHandler);\n      }, t.prototype.createClipboardInputElement = function (t) {\n        this.clipboardInputElement = document.createElement(\"textarea\"), this.clipboardInputElement.setAttribute(\"class\", \"dxdi-clipboard-input\"), t.appendChild(this.clipboardInputElement);\n      }, t.prototype.blurControl = function () {\n        this.focusLocked || (this.focused = !1, i.DomUtils.removeClassName(this.mainElement, \"focused\"));\n      }, t.prototype.focusControl = function () {\n        this.focused = !0, this.focusLocked = !1, i.DomUtils.addClassName(this.mainElement, \"focused\");\n      }, t.prototype.updateTextInputPadding = function () {\n        var t = this.textInputElement.value;\n\n        if (this.savedTextInputSize) {\n          n = this.textMeasurer.measureWords(t, this.savedTextInputStyle, l.TextOwner.Shape), o = f.getTextHeight(t, this.savedTextInputSize.width, n, !0);\n          var e = Math.max(0, .5 * (this.savedTextInputSize.height - o));\n          this.textInputElement.style.paddingTop = Math.ceil(e) + \"px\", this.textInputElement.style.height = Math.floor(this.savedTextInputSize.height) + \"px\";\n        } else {\n          var n = this.textMeasurer.measureWords(\" \", this.savedTextInputStyle, l.TextOwner.Connector),\n              o = f.getLineHeight(n) * ((f.textToParagraphs(t).length || 1) + 1);\n          this.textInputElement.style.height = Math.ceil(o) + \"px\";\n        }\n      }, t.prototype.onInputBlur = function (t) {\n        this.blurControl();\n        var e = this.getDiagramFocusEvent(t);\n        this.eventManager.onBlur(e), this.preventEvent(t, e);\n      }, t.prototype.onInputFocus = function (t) {\n        this.focusControl();\n        var e = this.getDiagramFocusEvent(t);\n        this.eventManager.onFocus(e), this.preventEvent(t, e);\n      }, t.prototype.onInputKeyDown = function (t) {\n        var e = this.getDiagramKeyboardEvent(t);\n        this.eventManager.onKeyDown(e), this.preventEvent(t, e);\n      }, t.prototype.onInputKeyPress = function (t) {\n        s.Browser.Safari || \"KeyV\" !== t.code || t.preventDefault && t.preventDefault();\n      }, t.prototype.onInputKeyUp = function (t) {\n        var e = this.getDiagramKeyboardEvent(t);\n        this.eventManager.onKeyUp(e), this.preventEvent(t, e);\n      }, t.prototype.onTextInputBlur = function (t) {\n        if (this.eventManager.canFinishTextEditing()) {\n          this.blurControl();\n          var e = this.getDiagramFocusEvent(t);\n          this.eventManager.onTextInputBlur(e), this.preventEvent(t, e);\n        } else {\n          var n = r.EvtUtils.getEventSource(t);\n          document.activeElement !== n && n.focus();\n        }\n      }, t.prototype.onTextInputFocus = function (t) {\n        this.focusControl();\n        var e = this.getDiagramFocusEvent(t);\n        this.eventManager.onTextInputFocus(e), this.preventEvent(t, e);\n      }, t.prototype.onTextInputKeyDown = function (t) {\n        var e = this.getDiagramKeyboardEvent(t);\n        this.eventManager.onTextInputKeyDown(e), this.preventEvent(t, e);\n      }, t.prototype.onTextInputKeyUp = function (t) {\n        this.updateTextInputPadding();\n      }, t.prototype.onTextInputChange = function (t) {\n        this.updateTextInputPadding();\n      }, t.prototype.onPaste = function (t) {\n        var e = this.getDiagramClipboardEvent(t);\n        this.eventManager.onPaste(e), this.preventEvent(t, e);\n      }, t.prototype.preventEvent = function (t, e) {\n        e.preventEvent(t);\n      }, t.prototype.onTextInputMouseWheel = function (t) {\n        this.mouseWheelHandler && this.mouseWheelHandler(t);\n      }, t.prototype.onTextInputMouseUp = function (t) {\n        t.stopPropagation && t.stopPropagation(), r.EvtUtils.cancelBubble(t);\n      }, t.prototype.getDiagramKeyboardEvent = function (t) {\n        return new u.DiagramKeyboardEvent(o.KeyUtils.getKeyModifiers(t), o.KeyUtils.getEventKeyCode(t), this.textInputElement.value);\n      }, t.prototype.getTextInputElementValue = function () {\n        return this.textInputElement.value;\n      }, t.prototype.getDiagramFocusEvent = function (t) {\n        return new u.DiagramFocusEvent(t.target.value);\n      }, t.prototype.getDiagramClipboardEvent = function (t) {\n        var e,\n            n = t.clipboardData || t.originalEvent && t.originalEvent.clipboardData;\n        return e = void 0 !== n ? n.getData(\"text/plain\") : window.clipboardData.getData(\"Text\"), new u.DiagramClipboardEvent(e);\n      }, t.prototype.isTextInputElement = function (t) {\n        return \"string\" == typeof t.className && t.className.indexOf(\"dxdi-text-input\") > -1;\n      }, t.prototype.lockFocus = function () {\n        var t = this;\n        this.focusLocked = !0, setTimeout(function () {\n          return t.focusLocked = !1;\n        }, 10);\n      }, t.prototype.notifyViewAdjusted = function (t) {}, t.prototype.notifyActualZoomChanged = function (t) {\n        this.actualZoom = t, this.savedTextInputPosition && this.savedTextInputSize && this.setTextInputElementBounds(this.savedTextInputPosition, this.savedTextInputSize, this.savedTextInputAngle);\n      }, t.prototype.notifyTextInputStart = function (t, e, n, o) {\n        var i,\n            r = \"\";\n        t instanceof h.Shape ? (r = \"shape-text\", i = t.textAngle) : t instanceof p.Connector && (r = \"connector-text\"), o = o && o.clone().applyConverter(a.UnitConverter.twipsToPixels), this.setInputElementTextInputMode(e, n, o, t.styleText, r, i);\n      }, t.prototype.notifyTextInputEnd = function (t) {\n        this.setInputElementFocusHandlerMode();\n      }, t.prototype.notifyTextInputPermissionsCheck = function (t, e) {}, t;\n    }();\n\n    e.InputManager = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o232,\n        i = this && this.__extends || (_o232 = function o(t, e) {\n      return (_o232 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o232(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasPageManager = void 0;\n\n    var r = n(28),\n        s = n(21),\n        a = n(5),\n        c = n(341),\n        u = n(55),\n        h = n(43),\n        p = n(2),\n        l = n(1),\n        d = n(17),\n        f = n(22),\n        y = n(12),\n        g = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, n.zoomLevel, o) || this;\n        return i.snapPoint = new l.Point(0, 0), i.gridPatternId = d.RenderUtils.generateSvgElementId(\"gridPattern\"), i.pagesGridPatternId = d.RenderUtils.generateSvgElementId(\"pagesGridPattern\"), i.pagesGridClipId = d.RenderUtils.generateSvgElementId(\"pagesGridClip\"), i.pageColor = n.pageColor, i.modelSize = n.modelSize, i.simpleView = n.simpleView, i.gridSize = n.gridSize, i.gridVisible = n.gridVisible, i.pageSize = n.pageLandscape ? new p.Size(n.pageSize.height, n.pageSize.width) : n.pageSize, i.canvasViewOffset = new l.Point(0, 0), i.initContainers(e), i;\n      }\n\n      return i(e, t), e.prototype.initContainers = function (t) {\n        this.backgroundContainer = t;\n      }, e.prototype.redraw = function () {\n        this.redrawPage(this.pageColor), this.redrawGrid();\n      }, e.prototype.redrawPage = function (t) {\n        var e = new r.Style();\n        e.fill = f.ColorUtils.colorToHash(t), this.getOrCreateElement(\"page-bg\", new s.RectanglePrimitive(0, 0, \"100%\", \"100%\", e, \"page\"), this.backgroundContainer), this.createTextFloodFilter(\"page-bg-textflood-filter\", this.backgroundContainer, t);\n      }, e.prototype.redrawGrid = function () {\n        this.updateGridElements(), this.updatePagesGridElements();\n      }, e.prototype.getGridRectElement = function (t) {\n        return void 0 === this.gridRectElement && (this.gridRectElement = this.createPrimitiveElement(t, this.backgroundContainer)), this.gridRectElement;\n      }, e.prototype.getGridPatternElement = function (t) {\n        return void 0 === this.gridPatternElement && (this.gridPatternElement = this.createPrimitiveElement(t, this.backgroundContainer)), this.gridPatternElement;\n      }, e.prototype.updateGridElements = function () {\n        var t = this,\n            e = new s.RectanglePrimitive(\"0\", \"0\", \"100%\", \"100%\", null, \"grid\", null, function (e) {\n          e.style.setProperty(\"fill\", d.RenderUtils.getUrlPathById(t.gridPatternId));\n        }),\n            n = this.getGridRectElement(e);\n\n        if (this.gridVisible) {\n          n.style.display = \"\", this.changePrimitiveElement(e, n);\n\n          for (var o = y.UnitConverter.twipsToPixelsF(this.gridSize) * this.actualZoom, i = [0, 1, 2, 3, 4].map(function (t) {\n            return Math.round(o * t);\n          }), r = [new a.PathPrimitiveMoveToCommand(i[4].toString(), \"0\"), new a.PathPrimitiveLineToCommand(i[4].toString(), i[4].toString()), new a.PathPrimitiveLineToCommand(\"0\", i[4].toString())], u = [], h = 1; h <= 3; h++) u.push(new a.PathPrimitiveMoveToCommand(i[h].toString(), \"0\")), u.push(new a.PathPrimitiveLineToCommand(i[h].toString(), i[4].toString()));\n\n          for (h = 1; h <= 3; h++) u.push(new a.PathPrimitiveMoveToCommand(\"0\", i[h].toString())), u.push(new a.PathPrimitiveLineToCommand(i[4].toString(), i[h].toString()));\n\n          var p = 4 * o,\n              f = this.simpleView ? this.canvasViewOffset : l.Point.zero(),\n              g = new c.PatternPrimitive(this.gridPatternId, [this.createGridPathPrimitive(r, \"grid-outer-line\"), this.createGridPathPrimitive(u, \"grid-inner-line\")], this.createGridPatternPrimitivePosition(f.x, this.snapPoint.x, p), this.createGridPatternPrimitivePosition(f.y, this.snapPoint.y, p), p.toString(), p.toString());\n          this.changePrimitiveElement(g, this.getGridPatternElement(g));\n        } else n.style.display = \"none\";\n      }, e.prototype.createGridPatternPrimitivePosition = function (t, e, n) {\n        return (((t + e * this.actualZoom) % n - n) % n).toString();\n      }, e.prototype.createGridPathPrimitive = function (t, e) {\n        return new a.PathPrimitive(t, r.StrokeStyle.default1pxNegativeOffsetInstance, e);\n      }, e.prototype.getPagesGridRectElement = function (t) {\n        return this.getOrCreateElement(\"grid-pages-rect\", t, this.backgroundContainer);\n      }, e.prototype.getPagesGridClipPathElement = function (t) {\n        return void 0 === this.pagesGridClipPathElement && (this.pagesGridClipPathElement = this.createPrimitiveElement(t, this.backgroundContainer)), this.pagesGridClipPathElement;\n      }, e.prototype.getPagesGridPatternElement = function (t) {\n        return void 0 === this.pagesGridPatternElement && (this.pagesGridPatternElement = this.createPrimitiveElement(t, this.backgroundContainer)), this.pagesGridPatternElement;\n      }, e.prototype.updatePagesGridElements = function () {\n        var t = this,\n            e = this.getAbsoluteSize(this.pageSize),\n            n = new s.RectanglePrimitive(\"0\", \"0\", \"100%\", \"100%\", null, \"grid-page\", this.pagesGridClipId, function (e) {\n          e.style.setProperty(\"fill\", d.RenderUtils.getUrlPathById(t.pagesGridPatternId)), e.style.setProperty(\"display\", t.simpleView ? \"none\" : \"\");\n        });\n\n        if (this.getPagesGridRectElement(n), !this.simpleView) {\n          var o = this.modelSize.clone().multiply(this.actualZoom, this.actualZoom),\n              i = [new a.PathPrimitiveMoveToCommand((e.width - 1).toString(), \"0\"), new a.PathPrimitiveLineToCommand((e.width - 1).toString(), (e.height - 1).toString()), new a.PathPrimitiveLineToCommand(\"0\", (e.height - 1).toString())],\n              r = new c.PatternPrimitive(this.pagesGridPatternId, [new a.PathPrimitive(i, null, \"pages-grid-line\")], 0, 0, e.width.toString(), e.height.toString());\n          this.changePrimitiveElement(r, this.getPagesGridPatternElement(r));\n          var h = new u.ClipPathPrimitive(this.pagesGridClipId, [new s.RectanglePrimitive(0, 0, (y.UnitConverter.twipsToPixelsF(o.width) - 4).toString(), (y.UnitConverter.twipsToPixelsF(o.height) - 4).toString())]);\n          this.changePrimitiveElement(h, this.getPagesGridClipPathElement(h));\n        }\n      }, e.prototype.notifyModelSizeChanged = function (t, e) {\n        this.modelSize = t.clone(), this.redraw();\n      }, e.prototype.notifyModelRectangleChanged = function (t) {}, e.prototype.notifySnapPointPositionChanged = function (t) {\n        this.snapPoint = t.clone().applyConverter(y.UnitConverter.twipsToPixelsF), this.redrawGrid();\n      }, e.prototype.notifyPageColorChanged = function (t) {\n        this.pageColor = t, this.redrawPage(this.pageColor);\n      }, e.prototype.notifyModelChanged = function (t) {}, e.prototype.notifyPageSizeChanged = function (t, e) {\n        this.pageSize = e ? new p.Size(t.height, t.width) : t.clone(), this.redraw();\n      }, e.prototype.notifyActualZoomChanged = function (t) {\n        this.actualZoom = t, this.redraw();\n      }, e.prototype.notifyViewAdjusted = function (t) {\n        this.canvasViewOffset.equals(t) || (this.canvasViewOffset = t, this.simpleView && this.redraw());\n      }, e.prototype.notifyViewChanged = function (t) {\n        this.simpleView = t, this.redraw();\n      }, e.prototype.notifyGridChanged = function (t, e) {\n        this.gridVisible = t, this.gridSize = e, this.redraw();\n      }, e;\n    }(h.CanvasManagerBase);\n\n    e.CanvasPageManager = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o233,\n        i = this && this.__extends || (_o233 = function o(t, e) {\n      return (_o233 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o233(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PatternPrimitive = void 0;\n\n    var r = n(15),\n        s = function (t) {\n      function e(e, n, o, i, r, s, a) {\n        var c = t.call(this, a) || this;\n        return c.id = e, c.x = o, c.y = i, c.width = r, c.height = s, c.children = n, c;\n      }\n\n      return i(e, t), e.prototype.createMainElement = function () {\n        var t = document.createElementNS(r.svgNS, \"pattern\");\n        return t.setAttribute(\"patternUnits\", \"userSpaceOnUse\"), t.setAttribute(\"id\", this.id), t;\n      }, e.prototype.applyElementProperties = function (e, n) {\n        this.setUnitAttribute(e, \"x\", this.x), this.setUnitAttribute(e, \"y\", this.y), this.setUnitAttribute(e, \"width\", this.width), this.setUnitAttribute(e, \"height\", this.height), this.setPositionCorrectionAttribute(e), t.prototype.applyElementProperties.call(this, e, n);\n      }, e;\n    }(n(25).SvgPrimitive);\n\n    e.PatternPrimitive = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o234,\n        i = this && this.__extends || (_o234 = function o(t, e) {\n      return (_o234 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o234(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.CanvasViewManager = e.CROP_OFFSET = e.CANVAS_SCROLL_PADDING = e.CANVAS_MIN_PADDING = void 0;\n    var r = n(43),\n        s = n(29),\n        a = n(3),\n        c = n(87),\n        u = n(2),\n        h = n(1),\n        p = n(40),\n        l = n(55),\n        d = n(21),\n        f = n(17),\n        y = n(343),\n        g = n(28),\n        m = n(24),\n        v = n(12);\n    e.CANVAS_MIN_PADDING = 8, e.CANVAS_SCROLL_PADDING = 18, e.CROP_OFFSET = 40;\n\n    var P = function (t) {\n      function n(e, n, o, i, r, s, u, p) {\n        var l = t.call(this, i, p) || this;\n        return l.svgElement = n, l.paddings = new c.Offsets(0, 0, 0, 0), l.scroll = new h.Point(0, 0), l.crop = c.Offsets.empty(), l.lockAutoZoom = !1, l.autoScrollLocker = 0, l.pageClipPathId = f.RenderUtils.generateSvgElementId(\"page-clip\"), l.pageShadowId = f.RenderUtils.generateSvgElementId(\"page-shadow\"), l.onViewChanged = new a.EventDispatcher(), e.onScroll.add(l), o = o.clone().applyConverter(v.UnitConverter.twipsToPixelsF), l.scrollView = e, l.modelSize = o, l.simpleView = s, l.fixedZoomLevel = i, l.autoZoom = r, l.crop = l.rectangleToCrop(u, o), l.updateElements(o.clone().multiply(i, i), h.Point.zero(), s), l.getOrCreateElement(\"shadow\", new y.ShadowFilterPrimitive(l.pageShadowId), l.svgElement), l.containerSize = e.getSize(), l;\n      }\n\n      return i(n, t), n.prototype.adjust = function (t, e) {\n        var n;\n        t || (t = {\n          vertical: !1,\n          horizontal: !1\n        }, n = c.Offsets.empty()), this.containerSize = this.scrollView.getSize(), this.adjustCore(this.modelSize, this.fixedZoomLevel, this.autoZoom, this.simpleView, this.crop, t, this.containerSize, n, e), this.tryNormalizePaddings();\n      }, n.prototype.notifyModelSizeChanged = function (t, e) {\n        t = t.clone().applyConverter(v.UnitConverter.twipsToPixelsF);\n        var n = {\n          horizontal: !e,\n          vertical: !e\n        };\n        this.adjustCore(t, this.fixedZoomLevel, this.autoZoom, this.simpleView, this.crop, n, this.containerSize, e && e.clone().applyConverter(v.UnitConverter.twipsToPixelsF)), this.modelSize = t;\n      }, n.prototype.notifyModelRectangleChanged = function (t) {\n        var e = this.rectangleToCrop(t, this.modelSize);\n        this.crop && this.crop.equals(e) || (this.simpleView && this.adjustCore(this.modelSize, this.fixedZoomLevel, this.autoZoom, this.simpleView, e, {\n          horizontal: !1,\n          vertical: !1\n        }, this.containerSize, c.Offsets.empty()), this.crop = e);\n      }, n.prototype.notifySnapPointPositionChanged = function (t) {}, n.prototype.notifyZoomChanged = function (t, e) {\n        this.adjustCore(this.modelSize, t, e, this.simpleView, this.crop, {\n          horizontal: !1,\n          vertical: !1\n        }, this.containerSize), this.fixedZoomLevel = t, this.autoZoom = e;\n      }, n.prototype.notifyViewChanged = function (t) {\n        this.adjustCore(this.modelSize, this.fixedZoomLevel, this.autoZoom, t, this.crop, {\n          vertical: !0,\n          horizontal: !0\n        }, this.containerSize), this.simpleView = t;\n      }, n.prototype.notifyGridChanged = function (t, e) {}, n.prototype.notifyDragStart = function (t) {\n        this.lockAutoZoom = !0, m.DomUtils.addClassName(this.svgElement, \"dxdi-drag-item\");\n      }, n.prototype.notifyDragEnd = function (t) {\n        this.lockAutoZoom = !1, m.DomUtils.removeClassName(this.svgElement, \"dxdi-drag-item\"), this.adjustAfterDragEnd();\n      }, n.prototype.adjustAfterDragEnd = function () {\n        this.autoZoom && !this.autoZoomLocked && this.adjust({\n          horizontal: !0,\n          vertical: this.autoZoom === s.AutoZoomMode.FitContent\n        }, this.autoZoom === s.AutoZoomMode.FitToWidth);\n      }, n.prototype.notifyShowContextToolbox = function () {\n        this.autoZoomLocked = !0;\n      }, n.prototype.notifyHideContextToolbox = function () {\n        this.autoZoomLocked = !1, this.adjustAfterDragEnd();\n      }, n.prototype.notifyDragScrollStart = function () {\n        m.DomUtils.addClassName(this.svgElement, \"dxdi-drag-scroll\");\n      }, n.prototype.notifyDragScrollEnd = function () {\n        m.DomUtils.removeClassName(this.svgElement, \"dxdi-drag-scroll\");\n      }, n.prototype.notifyScrollChanged = function (t) {\n        this.scroll = t();\n      }, n.prototype.checkFitToCanvas = function (t) {\n        t = t || this.containerSize;\n        var n = this.scrollView.getScrollBarWidth();\n        t = t.clone().offset(2 * -e.CANVAS_MIN_PADDING, 2 * -e.CANVAS_MIN_PADDING).nonNegativeSize();\n        var o = this.getActualModelSizeWithoutZoom(this.modelSize, this.simpleView, this.crop).clone().multiply(this.actualZoom, this.actualZoom),\n            i = this.checkScrollBars(t, n, o, c.Offsets.empty());\n        return {\n          vertical: (t = t.clone().offset(i.vertical ? -n : 0, i.horizontal ? -n : 0).nonNegativeSize()).height >= o.height,\n          horizontal: t.width >= o.width\n        };\n      }, n.prototype.rectangleToCrop = function (t, e) {\n        var n = t.clone().applyConverter(v.UnitConverter.twipsToPixelsF);\n        return new c.Offsets(this.correctCrop(n.x), this.correctCrop(e.width - n.right), this.correctCrop(n.y), this.correctCrop(e.height - n.bottom));\n      }, n.prototype.correctCrop = function (t) {\n        return e.CROP_OFFSET * Math.floor(t / e.CROP_OFFSET);\n      }, n.prototype.setActualZoom = function (t) {\n        this.actualZoom !== t && (this.actualZoom = t, this.raiseActualZoomChanged());\n      }, n.prototype.getActualAutoZoomLevel = function (t) {\n        if (t === s.AutoZoomMode.Disabled) return this.actualZoom;\n        var e = this.containerSize,\n            n = this.scrollView.getScrollBarWidth(),\n            o = this.getActualModelSizeWithoutZoom(this.modelSize, this.simpleView, this.crop);\n        return this.getActualAutoZoom(e, n, o, t);\n      }, n.prototype.getActualZoom = function (t, e, n, o, i) {\n        return this.lockAutoZoom ? this.actualZoom : i === s.AutoZoomMode.Disabled ? o : this.getActualAutoZoom(t, e, n, i);\n      }, n.prototype.getActualAutoZoom = function (t, n, o, i) {\n        return 0 === t.width || 0 === t.height ? 1 : i === s.AutoZoomMode.FitContent ? Math.min((t.width - 2 * e.CANVAS_MIN_PADDING) / o.width, (t.height - 2 * e.CANVAS_MIN_PADDING) / o.height, 1) : Math.min((t.width - 2 * e.CANVAS_MIN_PADDING - n) / o.width, 1);\n      }, n.prototype.raiseActualZoomChanged = function () {\n        var t = this;\n        this.onViewChanged.raise1(function (e) {\n          return e.notifyActualZoomChanged(t.actualZoom);\n        });\n      }, n.prototype.tryNormalizePaddings = function () {\n        var t = this.scrollView.getScrollBarWidth(),\n            e = this.getActualModelSizeWithoutZoom(this.modelSize, this.simpleView, this.crop).clone().multiply(this.actualZoom, this.actualZoom),\n            n = new h.Point(this.paddings.left, this.paddings.top),\n            o = new u.Size(this.paddings.right, this.paddings.bottom),\n            i = this.getTailSpace(n, this.scroll, e, this.containerSize, t);\n        i.equals(o) || this.applyChanges(new c.Offsets(n.x, i.width, n.y, i.height), e, this.simpleView, this.crop.clone().multiply(this.actualZoom));\n      }, n.prototype.scrollBy = function (t) {\n        var e,\n            n,\n            o,\n            i = this.scroll,\n            r = this.containerSize,\n            s = this.scrollView.getScrollBarWidth(),\n            a = this.getActualModelSizeWithoutZoom(this.modelSize, this.simpleView, this.crop).clone().multiply(this.actualZoom, this.actualZoom),\n            p = this.checkScrollBars(r, s, a, this.paddings),\n            l = new h.Point(this.paddings.left, this.paddings.top),\n            d = new u.Size(this.paddings.right, this.paddings.bottom);\n        return i = (e = this.changeScrollByOffset(l, i, d, a, t, r, p)).scroll, t = e.offset, l = (n = this.changeTranslateByOffset(l, d, t, p)).translate, t = n.offset, l = (o = this.cropHiddenHead(l, i)).translate, i = o.scroll, d = this.getTailSpace(l, i, a, r, s), this.applyChanges(new c.Offsets(l.x, d.width, l.y, d.height), a, this.simpleView, this.crop.clone().multiply(this.actualZoom), i), t;\n      }, n.prototype.changeScrollByOffset = function (t, e, n, o, i, r, s) {\n        var a = e.clone(),\n            c = i.clone();\n        return i.x && s.horizontal && (a.x -= c.x = -this.getScrollDeltaByOffset(i.x, e.x, t.x + o.width + n.width, r.width, s.vertical)), i.y && s.vertical && (a.y -= c.y = -this.getScrollDeltaByOffset(i.y, e.y, t.y + o.height + n.height, r.height, s.horizontal)), {\n          scroll: a,\n          offset: c\n        };\n      }, n.prototype.changeTranslateByOffset = function (t, e, n, o) {\n        var i = t.clone(),\n            r = n.clone();\n        return n.x && !o.horizontal && (i.x += r.x = this.getTranslateDeltaByOffset(n.x, i.x, e.width)), n.y && !o.vertical && (i.y += r.y = this.getTranslateDeltaByOffset(n.y, i.y, e.height)), {\n          translate: i,\n          offset: r\n        };\n      }, n.prototype.getScrollDeltaByOffset = function (t, e, n, o, i) {\n        if (t > 0) return -Math.min(e, t);\n        var r = n - (o - (i ? this.scrollView.getScrollBarWidth() : 0));\n        return Math.min(r - e, -t);\n      }, n.prototype.getTranslateDeltaByOffset = function (t, n, o) {\n        return t ? t < 0 ? -Math.min(n - e.CANVAS_MIN_PADDING, -t) : Math.min(o - e.CANVAS_MIN_PADDING, t) : 0;\n      }, n.prototype.getActualModelSizeWithoutZoom = function (t, e, n) {\n        return e && n ? t.clone().offset(-n.horizontal, -n.vertical).nonNegativeSize() : t;\n      }, n.prototype.setScrollTo = function (t, n) {\n        var o = this.containerSize,\n            i = this.getVisibileAreaAbsShift(),\n            r = t.clone().applyConverter(v.UnitConverter.twipsToPixelsF).clone().multiply(this.actualZoom, this.actualZoom).clone().offset(i.x, i.y),\n            s = this.scroll;\n        n ? (s.x += r.x - n.x, s.y += r.y - n.y) : (r.x < 0 && (s.x += r.x - e.CANVAS_MIN_PADDING), r.y < 0 && (s.y += r.y - e.CANVAS_MIN_PADDING), r.x > o.width && (s.x += r.x - o.width + e.CANVAS_MIN_PADDING), r.y > o.height && (s.y += r.y - o.height + e.CANVAS_MIN_PADDING)), this.setScroll(s);\n      }, n.prototype.scrollIntoView = function (t) {\n        t = t.clone().applyConverter(v.UnitConverter.twipsToPixelsF).multiply(this.actualZoom, this.actualZoom).moveRectangle(this.paddings.left, this.paddings.top);\n        var n = this.scroll,\n            o = this.containerSize;\n\n        if (!(t.x >= n.x && t.y >= n.y && t.right <= n.x + o.width && t.bottom <= n.y + o.height)) {\n          var i = n.clone();\n          t.x < n.x ? i.x = t.x - e.CANVAS_SCROLL_PADDING : t.right > n.x + o.width && (i.x = Math.min(t.x - e.CANVAS_SCROLL_PADDING, t.right + e.CANVAS_SCROLL_PADDING - o.width)), t.y < n.y ? i.y = t.y - e.CANVAS_SCROLL_PADDING : i.y = Math.min(t.y - e.CANVAS_SCROLL_PADDING, t.bottom + e.CANVAS_SCROLL_PADDING - o.height), this.setScroll(i);\n        }\n      }, n.prototype.setScroll = function (t) {\n        var e = this,\n            n = this.modelSize.clone().multiply(this.actualZoom, this.actualZoom);\n        t.x = Math.max(0, Math.min(t.x, n.width + this.paddings.horizontal - this.containerSize.width)), t.y = Math.max(0, Math.min(t.y, n.height + this.paddings.vertical - this.containerSize.height)), this.dom.changeByFunc(null, function () {\n          e.scrollView.setScroll(t.x, t.y);\n        }), this.scroll = t.clone();\n      }, n.prototype.updateElements = function (t, e, n) {\n        this.updatePageElement(t, e, n), this.updateCanvasElement(e);\n      }, n.prototype.updateCanvasElement = function (t) {\n        this.canvasElement = this.getOrCreateElement(\"dxdi-main\", new p.GroupPrimitive([], \"dxdi-main\", null, null, function (e) {\n          e.setAttribute(\"transform\", \"translate(\" + Math.round(t.x) + \", \" + Math.round(t.y) + \")\");\n        }), this.svgElement);\n      }, n.prototype.updatePageElement = function (t, e, n) {\n        if (n) this.updatePageElementCore(\"\", 0, 0, t.width, t.height);else {\n          var o = e.x,\n              i = e.y,\n              r = t.width,\n              s = t.height;\n          this.createPageShadow(o, i, r, s), this.updatePageElementCore(this.pageClipPathId, Math.round(o), Math.round(i), r, s);\n        }\n      }, n.prototype.createPageShadow = function (t, e, n, o) {\n        this.getOrCreateElement(\"pageShadowRect\", new d.RectanglePrimitive(t.toString(), e.toString(), n.toString(), o.toString(), new g.EmptyStyle({\n          filter: f.RenderUtils.getUrlPathById(this.pageShadowId)\n        }), \"dxdi-page-shadow\"), this.svgElement, this.svgElement.firstChild);\n      }, n.prototype.updatePageElementCore = function (t, e, n, o, i) {\n        this.pageElement = this.getOrCreateElement(\"page\", new p.GroupPrimitive([], \"dxdi-page\", null, t, function (t) {\n          t.setAttribute(\"transform\", \"translate(\" + e + \", \" + n + \")\");\n        }), this.svgElement), this.getOrCreateElement(\"pageClip\", this.createPageClipPathPrimitive(o, i), this.svgElement);\n      }, n.prototype.createPageClipPathPrimitive = function (t, e) {\n        return new l.ClipPathPrimitive(this.pageClipPathId, [new d.RectanglePrimitive(0, 0, t.toString(), e.toString())]);\n      }, n.prototype.adjustCore = function (t, e, n, o, i, r, s, a, u) {\n        var h = this.getActualModelSizeWithoutZoom(t, o, i);\n        if (this.lockAutoZoom || !n && a && this.modelSize) this.resizeView(h, this.actualZoom, s, o, i, a);else {\n          var p = this.scrollView.getScrollBarWidth(),\n              l = this.getActualZoom(s, p, h, e, n);\n          !n || l !== this.actualZoom || r.horizontal && (r.vertical || u) ? (this.resetView(h, l, s, o, i, r), this.setActualZoom(l)) : this.resizeView(h, l, s, o, i, a || c.Offsets.empty());\n        }\n      }, n.prototype.resetView = function (t, n, o, i, r, s) {\n        var a = t.clone().multiply(n, n),\n            u = c.Offsets.fromNumber(e.CANVAS_MIN_PADDING);\n        !(s = s || {\n          horizontal: !0,\n          vertical: !0\n        }).horizontal && this.paddings && (u.left = this.paddings.left, u.right = this.paddings.right), !s.vertical && this.paddings && (u.top = this.paddings.top, u.bottom = this.paddings.bottom);\n        var h = this.checkScrollBars(o, this.scrollView.getScrollBarWidth(), a, u),\n            p = this.scrollView.getScrollBarWidth(),\n            l = s.horizontal || s.vertical ? this.scroll : void 0;\n\n        if (s.horizontal) {\n          var d = Math.max((o.width - (h.vertical ? p : 0) - a.width) / 2, e.CANVAS_MIN_PADDING);\n          u.left = d, u.right = d, l.x = 0;\n        }\n\n        if (s.vertical) {\n          var f = Math.max((o.height - (h.horizontal ? p : 0) - a.height) / 2, e.CANVAS_MIN_PADDING);\n          u.top = f, u.bottom = f, l.y = 0;\n        }\n\n        this.applyChanges(u, a, i, r.clone().multiply(n), l);\n      }, n.prototype.resizeView = function (t, n, o, i, r, s) {\n        var a,\n            u,\n            p = this.actualZoom,\n            l = this.simpleView && this.crop ? this.crop.clone().multiply(p) : c.Offsets.empty(),\n            d = t.clone().multiply(n, n);\n        s = s.clone().multiply(n);\n        var f = i && r ? r.clone().multiply(n) : c.Offsets.empty(),\n            y = new h.Point(this.paddings.left, this.paddings.top),\n            g = this.scroll;\n        y = (a = this.applyOffset(y, g, l, f, s)).translate, g = a.scroll, y = (u = this.cropHiddenHead(y, g)).translate, g = u.scroll;\n        var m = this.getTailSpace(y, g, d, o, this.scrollView.getScrollBarWidth());\n\n        if (!i) {\n          var v = o.width - e.CANVAS_SCROLL_PADDING,\n              P = o.height - e.CANVAS_SCROLL_PADDING;\n          s.left < 0 && y.x > v && (y.x = v, g.x = 0), s.right < 0 && m.width > v && (m.width = v, g.x > d.width && (g.x = d.width)), s.top < 0 && y.y > P && (y.y = P, g.y = 0), s.bottom < 0 && m.height > P && (m.height = P, g.y > d.height && (g.y = d.height));\n        }\n\n        var C = new c.Offsets(y.x, m.width, y.y, m.height);\n        this.applyChanges(C, d, i, f, g);\n      }, n.prototype.applyChanges = function (t, e, n, o, i) {\n        var r = this,\n            s = new h.Point(t.left, t.top);\n        n && o && (s = s.clone().offset(-o.left, -o.top)), this.updateElements(e, s, n), this.setSvgSize(e.width + t.horizontal, e.height + t.vertical), this.onViewChanged.raise1(function (t) {\n          return t.notifyViewAdjusted(new h.Point(s.x, s.y));\n        }), i && (this.lockAutoScroll(), i && this.dom.changeByFunc(this.scrollView, function (t) {\n          t.setScroll(i.x, i.y), r.unlockAutoScroll();\n        }), this.scroll = i), this.paddings = t;\n      }, n.prototype.isAutoScrollLocked = function () {\n        return 0 !== this.autoScrollLocker;\n      }, n.prototype.lockAutoScroll = function () {\n        this.autoScrollLocker++;\n      }, n.prototype.unlockAutoScroll = function () {\n        this.autoScrollLocker--;\n      }, n.prototype.applyOffset = function (t, n, o, i, r) {\n        var s = t.clone(),\n            a = n.clone(),\n            c = this.getActualOffset(o, i, r);\n        return c.left && (s.x = Math.max(e.CANVAS_MIN_PADDING, s.x - c.left), a.x += c.left - (t.x - s.x)), c.top && (s.y = Math.max(e.CANVAS_MIN_PADDING, s.y - c.top), a.y += c.top - (t.y - s.y)), {\n          translate: s,\n          scroll: a\n        };\n      }, n.prototype.cropHiddenHead = function (t, n) {\n        var o = n.clone(),\n            i = t.clone();\n\n        if (o.x && i.x > e.CANVAS_MIN_PADDING) {\n          var r = i.x - Math.max(e.CANVAS_MIN_PADDING, i.x - o.x);\n          i.x -= r, o.x -= r;\n        }\n\n        if (o.y && i.y > e.CANVAS_MIN_PADDING) {\n          r = i.y - Math.max(e.CANVAS_MIN_PADDING, i.y - o.y);\n          i.y -= r, o.y -= r;\n        }\n\n        return {\n          translate: i,\n          scroll: o\n        };\n      }, n.prototype.getTailSpace = function (t, n, o, i, r) {\n        var s = t.clone(),\n            a = n.clone(),\n            h = Math.max(i.width + a.x - (s.x + o.width), e.CANVAS_MIN_PADDING),\n            p = Math.max(i.height + a.y - (s.y + o.height), e.CANVAS_MIN_PADDING),\n            l = this.checkScrollBars(i, r, o, new c.Offsets(s.x, h, s.y, p));\n        return l.vertical && (h = Math.max(e.CANVAS_MIN_PADDING, h - r)), l.horizontal && (p = Math.max(e.CANVAS_MIN_PADDING, p - r)), new u.Size(h, p);\n      }, n.prototype.getActualOffset = function (t, e, n) {\n        return new c.Offsets(-(e.left - t.left) + n.left, -(e.right - t.right) + n.right, -(e.top - t.top) + n.top, -(e.bottom - t.bottom) + n.bottom);\n      }, n.prototype.checkScrollBars = function (t, e, n, o) {\n        var i = t.width < n.width + o.horizontal,\n            r = t.height < n.height + o.vertical;\n        return i && !r && (r = t.height - e < n.height + o.vertical), r && !i && (i = t.width - e < n.width + o.horizontal), {\n          horizontal: i,\n          vertical: r\n        };\n      }, n.prototype.setSvgSize = function (t, e) {\n        t === this.lastWidth && e === this.lastHeight || (this.dom.changeByFunc(this.svgElement, function (n) {\n          return f.RenderUtils.updateSvgElementSize(n, t, e);\n        }), this.lastWidth = t, this.lastHeight = e);\n      }, n.prototype.getVisibileAreaAbsShift = function (t) {\n        var e = this.scroll,\n            n = this.paddings.clone(),\n            o = this.simpleView,\n            i = o && this.crop ? this.crop.left * this.actualZoom : 0,\n            r = o && this.crop ? this.crop.top * this.actualZoom : 0;\n        return new h.Point(n.left - i - (t ? 0 : e.x), n.top - r - (t ? 0 : e.y));\n      }, n.prototype.getModelPoint = function (t, e) {\n        var n = this.getVisibileAreaAbsShift(),\n            o = t.clone().offset(-n.x, -n.y).multiply(1 / this.actualZoom, 1 / this.actualZoom);\n\n        if (e) {\n          var i = this.containerSize;\n          if (t.x < 0 || t.y < 0 || t.x > i.width || t.y > i.height) return null;\n          if (o.x < 0 || o.y < 0) return null;\n          if (o.x > this.modelSize.width || o.y > this.modelSize.height) return null;\n        }\n\n        return o.clone().applyConverter(v.UnitConverter.pixelsToTwips);\n      }, n.prototype.getAbsolutePoint = function (t, e, n) {\n        var o = this.getVisibileAreaAbsShift(e),\n            i = t.clone().multiply(this.actualZoom, this.actualZoom).clone().applyConverter(v.UnitConverter.twipsToPixelsF).clone().offset(o.x, o.y);\n\n        if (n) {\n          if (i.x < 0 || i.y < 0) return null;\n          var r = this.containerSize;\n          if (i.x > r.width || i.y > r.height) return null;\n        }\n\n        return i;\n      }, n;\n    }(r.CanvasManagerBase);\n\n    e.CanvasViewManager = P;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o235,\n        i = this && this.__extends || (_o235 = function o(t, e) {\n      return (_o235 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o235(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ShadowFilterPrimitive = void 0;\n\n    var r = n(110),\n        s = n(15),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), e.prototype.createChildElements = function (t) {\n        var e = document.createElementNS(s.svgNS, \"feGaussianBlur\");\n        e.setAttribute(\"in\", \"SourceGraphic\"), e.setAttribute(\"stdDeviation\", \"4.6\"), t.appendChild(e);\n        var n = document.createElementNS(s.svgNS, \"feOffset\");\n        n.setAttribute(\"dx\", \"0\"), n.setAttribute(\"dy\", \"0\"), t.appendChild(n);\n        var o = document.createElementNS(s.svgNS, \"feMerge\");\n        t.appendChild(o);\n        var i = document.createElementNS(s.svgNS, \"feMergeNode\");\n        o.appendChild(i);\n        var r = document.createElementNS(s.svgNS, \"feMergeNode\");\n        r.setAttribute(\"in\", \"SourceGraphic\"), o.appendChild(r);\n      }, e;\n    }(r.FilterPrimitive);\n\n    e.ShadowFilterPrimitive = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AutoScrollController = void 0;\n\n    var o = n(15),\n        i = n(24),\n        r = n(2),\n        s = n(27),\n        a = function () {\n      function t(t, e, n) {\n        this.scroll = t, this.view = e, this.dom = n, this.canScrolling = !1, this.hasScrolling = !1, this.scrollTimer = -1, this.scrollBarWidth = i.DomUtils.getVerticalScrollBarWidth();\n      }\n\n      return Object.defineProperty(t.prototype, \"isAutoScrollLocked\", {\n        get: function get() {\n          return this.view.isAutoScrollLocked();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.startScrolling = function (t) {\n        this.canScrolling = !0, s.isDefined(this.width) || s.isDefined(this.height) || this.initHotZones(t);\n      }, t.prototype.continueScrolling = function (t, e) {\n        this.clearScrollTimer(), this.canScrolling && !this.hasScrolling && this.changeScrollPosition(t, e, !1);\n      }, t.prototype.stopScrolling = function () {\n        this.clearScrollTimer(), this.canScrolling = !1, delete this.width, delete this.height;\n      }, t.prototype.onDragScrollStart = function () {\n        this.hasScrolling = !0;\n      }, t.prototype.onDragScrollEnd = function () {\n        this.hasScrolling = !1;\n      }, t.prototype.changeScrollPosition = function (t, e, n) {\n        var o = this,\n            i = !1;\n\n        if (!this.isAutoScrollLocked) {\n          var r = t.x,\n              s = t.y;\n          r < 40 ? (this.dom.changeByFunc(null, function () {\n            o.isAutoScrollLocked || o.offsetScroll(-o.getScrollingOffset(r), 0);\n          }), i = !0) : this.width - r < 40 && (this.dom.changeByFunc(null, function () {\n            o.isAutoScrollLocked || o.offsetScroll(o.getScrollingOffset(o.width - r), 0);\n          }), i = !0), s < 40 ? (this.dom.changeByFunc(null, function () {\n            o.isAutoScrollLocked || o.offsetScroll(0, -o.getScrollingOffset(s));\n          }), i = !0) : this.height - s < 40 && (this.dom.changeByFunc(null, function () {\n            o.isAutoScrollLocked || o.offsetScroll(0, o.getScrollingOffset(o.height - s));\n          }), i = !0);\n        }\n\n        (i || this.isAutoScrollLocked) && (this.scrollTimer = window.setTimeout(function () {\n          return o.changeScrollPosition(t, e, i);\n        }, 40)), n && e();\n      }, t.prototype.offsetScroll = function (t, e) {\n        this.scroll.offsetScroll(t, e);\n      }, t.prototype.clearScrollTimer = function () {\n        this.scrollTimer > -1 && (window.clearTimeout(this.scrollTimer), this.scrollTimer = -1);\n      }, t.prototype.initHotZones = function (t) {\n        var e = t.style,\n            n = new r.Size(parseFloat(e.width), parseFloat(e.height)),\n            o = this.scroll.getSize();\n        this.width = o.width, this.width < n.width && (this.width -= this.scrollBarWidth), this.height = o.height, this.height < n.height && (this.height -= this.scrollBarWidth);\n      }, t.prototype.getScrollingOffset = function (t) {\n        var e = (40 - t) / 5;\n        return Math.round(Math.min(e * e, 5));\n      }, t.createMainElement = function (t) {\n        var e = document.createElement(\"div\");\n        return e.setAttribute(\"class\", \"dxdi-control\"), t.appendChild(e), e;\n      }, t.createSvgElement = function (t, e) {\n        void 0 === e && (e = !1);\n        var n = document.createElementNS(o.svgNS, \"svg\");\n        return n.className.baseVal = \"dxdi-canvas\" + (e ? \" export\" : \"\"), t.appendChild(n), n;\n      }, t;\n    }();\n\n    e.AutoScrollController = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o236,\n        i = this && this.__extends || (_o236 = function o(t, e) {\n      return (_o236 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o236(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DocumentDataSource = e.UpdateNodeKeyRelatedObjectsStackAction = e.UpdateNodeKeyRelatedObjectsStackItem = void 0;\n\n    var r = n(0),\n        s = n(13),\n        a = n(6),\n        c = n(346),\n        u = n(4),\n        h = n(50),\n        p = n(3),\n        l = n(49),\n        d = n(33),\n        f = function () {\n      return function (t, e) {\n        this.shape = t, this.nodeObj = e;\n      };\n    }();\n\n    e.UpdateNodeKeyRelatedObjectsStackItem = f;\n\n    var y = function () {\n      return function (t, e) {\n        this.kind = t, this.nodeObj = e;\n      };\n    }();\n\n    e.UpdateNodeKeyRelatedObjectsStackAction = y;\n\n    var g = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, \"Document\", n, o, i, r, s) || this;\n        return a.changesListener = e, a.nodeInsertingLockCount = 0, a.updateNodeKeyRelatedObjectsCount = 0, a.updateNodeKeyRelatedObjectsStack = [], a.updateNodeKeyRelatedObjectsStackActions = [], a;\n      }\n\n      return i(e, t), e.prototype.updateItemsByModel = function (t) {\n        var e = this;\n        this.beginChangesNotification(), this.deleteNodes(t), this.deleteEdges(t), t.items.forEach(function (n) {\n          n instanceof s.Shape && e.updateNode(t, n), n instanceof a.Connector && e.updateEdge(t, n);\n        }), this.endChangesNotification(!1);\n      }, e.prototype.isItemObjectModified = function (t, e, n) {\n        var o = n.setLocked && e.locked !== t.locked || n.setZIndex && e.zIndex !== t.zIndex || n.setCustomData && !p.ObjectUtils.compareObjects(e.customData, t.customData);\n\n        if (!o && n.setStyle) {\n          var i = t.style.getDefaultInstance();\n          t.style.forEach(function (n) {\n            t.style[n] !== i[n] && t.style[n] !== (e.style && e.style[n]) && (o = !0);\n          });\n        }\n\n        if (!o && n.setStyleText) {\n          var r = t.styleText.getDefaultInstance();\n          t.styleText.forEach(function (n) {\n            t.styleText[n] !== r[n] && t.styleText[n] !== (e.styleText && e.styleText[n]) && (o = !0);\n          });\n        }\n\n        return o;\n      }, e.prototype.setDataObjectKeyRelatedProperty = function (t, e, n, o) {\n        (o || void 0 === this.autoGeneratedDataKeys[n]) && t(e, n);\n      }, e.prototype.updateItemObjectProperties = function (t, e, n) {\n        if (n.setCustomData && (t.customData = p.ObjectUtils.cloneObject(e.customData), t.dataObj && void 0 !== t.customData && n.setCustomData(t.dataObj, e.customData)), n.setLocked && (t.locked = e.locked, t.dataObj && void 0 !== t.locked && n.setLocked(t.dataObj, e.locked)), n.setStyle) {\n          var o = e.style.toObject();\n          t.style = o, t.dataObj && void 0 !== t.style && n.setStyle(t.dataObj, h.Data.objectToCssText(o));\n        }\n\n        if (n.setStyleText) {\n          var i = e.styleText.toObject();\n          t.styleText = i, t.dataObj && void 0 !== t.styleText && n.setStyleText(t.dataObj, h.Data.objectToCssText(i));\n        }\n\n        n.setZIndex && (t.zIndex = e.zIndex, t.dataObj && void 0 !== t.zIndex && n.setZIndex(t.dataObj, e.zIndex));\n      }, e.prototype.deleteItems = function (t, e, n, o) {\n        t.slice().forEach(function (t) {\n          if (void 0 !== t.key && null !== t.key && !e(t.key)) {\n            var i = n(t),\n                r = i.indexOf(t.dataObj);\n            i.splice(r, 1), o(t, r > -1);\n          }\n        });\n      }, e.prototype.updateNode = function (t, e) {\n        var n = this,\n            o = this.findNode(e.dataKey);\n        if (o) this.isNodeObjectModified(e, o, t.units) ? (this.updateNodeObjectProperties(e, o, t.units), this.updateNodeObjectConnectedProperties(e, o), this.beginChangesNotification(), this.changesListener.notifyNodeUpdated.call(this.changesListener, this.nodeDataImporter.getKey(o.dataObj || o.key), o.dataObj, function (t, e) {\n          n.endChangesNotification(!1);\n        }, function (t) {\n          n.endChangesNotification(!1);\n        })) : this.updateNodeObjectConnectedProperties(e, o, this.changesListener);else {\n          var i = {};\n          void 0 !== e.dataKey && null !== e.dataKey && this.nodeDataImporter.setKey(i, e.dataKey), o = this.addNodeInternal(i, e.description.key, e.text), this.nodeDataSource.push(o.dataObj), this.setDataObjectKeyRelatedProperty(this.nodeDataImporter.setKey, i, o.key, this.addInternalKeyOnInsert), this.updateNodeObjectProperties(e, o, t.units), this.updateNodeObjectConnectedProperties(e, o), this.updateNodeObjectKey(e, o, o.dataObj), this.beginChangesNotification(), this.beginNodeInserting(), this.changesListener.notifyNodeInserted.call(this.changesListener, o.dataObj, function (t) {\n            n.updateNodeObjectKey(e, o, t), n.endNodeInserting(), n.endChangesNotification(!1);\n          }, function (t) {\n            n.endNodeInserting(), n.endChangesNotification(!1);\n          });\n        }\n      }, e.prototype.areImageUrlsEqual = function (t, e) {\n        return t === e || l.StringUtils.isNullOrEmpty(t) && l.StringUtils.isNullOrEmpty(e);\n      }, e.prototype.isNodeObjectModified = function (t, e, n) {\n        return this.isItemObjectModified(t, e, this.nodeDataImporter) || e.type !== t.description.key && !(void 0 === e.type && t.description.key === r.ShapeTypes.Rectangle) || !this.compareStrings(e.text, t.text) || this.nodeDataImporter.setImage && !this.areImageUrlsEqual(e.image, t.image.actualUrl) || this.nodeDataImporter.setLeft && !d.MathUtils.numberCloseTo(e.left, u.ModelUtils.getlUnitValue(n, t.position.x)) || this.nodeDataImporter.setTop && !d.MathUtils.numberCloseTo(e.top, u.ModelUtils.getlUnitValue(n, t.position.y)) || this.nodeDataImporter.setWidth && !d.MathUtils.numberCloseTo(e.width, u.ModelUtils.getlUnitValue(n, t.size.width)) || this.nodeDataImporter.setHeight && !d.MathUtils.numberCloseTo(e.height, u.ModelUtils.getlUnitValue(n, t.size.height));\n      }, e.prototype.updateNodeObjectProperties = function (t, e, n) {\n        if (this.updateItemObjectProperties(e, t, this.nodeDataImporter), this.nodeDataImporter.setType && (e.type = t.description.key, this.nodeDataImporter.setType(e.dataObj, t.description.key)), this.nodeDataImporter.setText && (e.text = t.text, this.nodeDataImporter.setText(e.dataObj, t.text)), this.nodeDataImporter.setImage && (e.image = t.image.actualUrl, this.nodeDataImporter.setImage(e.dataObj, void 0 === t.image.actualUrl ? null : t.image.actualUrl)), this.nodeDataImporter.setLeft) {\n          var o = u.ModelUtils.getlUnitValue(n, t.position.x);\n          e.left = o, this.nodeDataImporter.setLeft(e.dataObj, o);\n        }\n\n        if (this.nodeDataImporter.setTop) {\n          var i = u.ModelUtils.getlUnitValue(n, t.position.y);\n          e.top = i, this.nodeDataImporter.setTop(e.dataObj, i);\n        }\n\n        if (this.nodeDataImporter.setWidth) {\n          var r = u.ModelUtils.getlUnitValue(n, t.size.width);\n          e.width = r, this.nodeDataImporter.setWidth(e.dataObj, r);\n        }\n\n        if (this.nodeDataImporter.setHeight) {\n          var s = u.ModelUtils.getlUnitValue(n, t.size.height);\n          e.height = s, this.nodeDataImporter.setHeight(e.dataObj, s);\n        }\n      }, e.prototype.updateNodeObjectConnectedProperties = function (t, e, n) {\n        if (this.useNodeParentId && void 0 !== this.nodeDataImporter.setParentKey) {\n          var o = this.getParentItemKey(t),\n              i = this.findNode(o);\n          this.updateNodeObjectParentKey(e, i, n);\n        }\n\n        if (this.useNodeContainerId && void 0 !== this.nodeDataImporter.setContainerKey) {\n          var r = this.getContainerShapeKey(t),\n              s = this.findNode(r);\n          this.updateNodeObjectContainerKey(e, s, n);\n        }\n\n        if (this.useNodeItems && void 0 !== this.nodeDataImporter.setItems) {\n          o = this.getParentItemKey(t), i = this.findNode(o);\n          this.updateNodeObjectItems(e, i, n);\n        }\n\n        if (this.useNodeChildren && void 0 !== this.nodeDataImporter.setChildren) {\n          r = this.getContainerShapeKey(t), s = this.findNode(r);\n          this.updateNodeObjectChildren(e, s, n);\n        }\n      }, e.prototype.IsNodeParentIdMode = function () {\n        return this.useNodeParentId && void 0 !== this.nodeDataImporter.setParentKey;\n      }, e.prototype.IsNodeItemsMode = function () {\n        return this.useNodeItems && void 0 !== this.nodeDataImporter.setItems;\n      }, e.prototype.updateNodeObjectParentKey = function (t, e, n) {\n        var o = this.nodeDataImporter.getParentKey(t.dataObj),\n            i = e ? this.nodeDataImporter.getKey(e.dataObj) : void 0;\n        o === i || this.isRootParentKey(o) && this.isRootParentKey(i) || (this.setDataObjectKeyRelatedProperty(this.nodeDataImporter.setParentKey, t.dataObj, i, !1), n && (this.isInUpdateNodeKeyRelatedObjects() ? this.addToUpdateNodeKeyRelatedObjectsStackAction(\"shape\", t) : this.updateNodeObjectContainerOrParentKeyInternal(t, n)));\n      }, e.prototype.updateNodeObjectParentKeyInternal = function (t, e) {\n        var n = this;\n        this.beginChangesNotification(), e.notifyNodeUpdated.call(e, this.nodeDataImporter.getKey(t.dataObj) || t.key, t.dataObj, function (t, e) {\n          n.endChangesNotification(!1);\n        }, function (t) {\n          n.endChangesNotification(!1);\n        });\n      }, e.prototype.updateNodeObjectContainerKey = function (t, e, n) {\n        var o = this.nodeDataImporter.getContainerKey(t.dataObj),\n            i = e ? this.nodeDataImporter.getKey(e.dataObj) : void 0;\n        o === i || this.isRootParentKey(o) && this.isRootParentKey(i) || (this.setDataObjectKeyRelatedProperty(this.nodeDataImporter.setContainerKey, t.dataObj, i, !1), n && (this.isInUpdateNodeKeyRelatedObjects() ? this.addToUpdateNodeKeyRelatedObjectsStackAction(\"shape\", t) : this.updateNodeObjectContainerOrParentKeyInternal(t, n)));\n      }, e.prototype.updateNodeObjectContainerOrParentKeyInternal = function (t, e) {\n        var n = this;\n        this.beginChangesNotification(), e.notifyNodeUpdated.call(e, this.nodeDataImporter.getKey(t.dataObj) || t.key, t.dataObj, function (t, e) {\n          n.endChangesNotification(!1);\n        }, function (t) {\n          n.endChangesNotification(!1);\n        });\n      }, e.prototype.isRootParentKey = function (t) {\n        return null == t || !this.findNode(t);\n      }, e.prototype.updateNodeObjectItems = function (t, e, n) {\n        var o = this;\n\n        if ((e && t.parentDataObj !== e.dataObj || !e && t.parentDataObj) && (!e || !this.checkNodeCyrcleItems(t.dataObj, e.dataObj))) {\n          var i = t.parentDataObj ? this.nodeDataImporter.getItems(t.parentDataObj) : this.nodeDataSource,\n              r = i.indexOf(t.dataObj);\n          i.splice(r, 1);\n          var s = e ? this.nodeDataImporter.getItems(e.dataObj) : this.nodeDataSource;\n          s ? s.push(t.dataObj) : this.nodeDataImporter.setItems(e.dataObj, [t.dataObj]), t.parentDataObj = e && e.dataObj, n && (this.beginChangesNotification(), n.notifyNodeUpdated.call(n, this.nodeDataImporter.getKey(t.dataObj) || t.key, t.dataObj, function (t, e) {\n            o.endChangesNotification(!1);\n          }, function (t) {\n            o.endChangesNotification(!1);\n          }));\n        }\n      }, e.prototype.updateNodeObjectChildren = function (t, e, n) {\n        var o = this;\n\n        if (e && t.containerDataObj !== e.dataObj || !e && t.containerDataObj) {\n          var i = t.containerDataObj ? this.nodeDataImporter.getChildren(t.containerDataObj) : this.nodeDataSource,\n              r = i.indexOf(t.dataObj);\n          i.splice(r, 1);\n          var s = e ? this.nodeDataImporter.getChildren(e.dataObj) : this.nodeDataSource;\n          s ? s.push(t.dataObj) : this.nodeDataImporter.setChildren(e.dataObj, [t.dataObj]), t.containerDataObj = e && e.dataObj, n && (this.beginChangesNotification(), n.notifyNodeUpdated.call(n, this.nodeDataImporter.getKey(t.dataObj) || t.key, t.dataObj, function (t, e) {\n            o.endChangesNotification(!1);\n          }, function (t) {\n            o.endChangesNotification(!1);\n          }));\n        }\n      }, e.prototype.checkNodeCyrcleItems = function (t, e) {\n        var n = this,\n            o = !1,\n            i = this.nodeDataImporter.getItems(t);\n        return i && i.forEach(function (t) {\n          o = o || t === e || n.checkNodeCyrcleItems(t, e);\n        }), o;\n      }, e.prototype.updateNodeObjectKey = function (t, e, n) {\n        var o = this.nodeDataImporter.getKey(n),\n            i = !1;\n\n        if (null != o && o !== e.key && (delete this.autoGeneratedDataKeys[e.key], e.key = o, i = !0), t.dataKey = e.key, e.dataObj !== n) {\n          var r = this.getNodeArray(e),\n              s = r.indexOf(e.dataObj);\n          r.splice(s, 1, n), e.dataObj = n;\n        }\n\n        i && this.updateNodeKeyRelatedObjects(t, e);\n      }, e.prototype.updateNodeKeyRelatedObjects = function (t, e) {\n        var n = this;\n        if (this.isInNodeInserting()) this.addToUpdateNodeKeyRelatedObjectsStack(t, e);else {\n          if (this.useNodeParentId && void 0 !== this.nodeDataImporter.setParentKey) this.getChildItems(t).forEach(function (t) {\n            var o = n.findNode(t.dataKey);\n            o && n.updateNodeObjectParentKey(o, e, n.changesListener);\n          });\n          this.useNodeContainerId && void 0 !== this.nodeDataImporter.setContainerKey && t.children.forEach(function (t) {\n            var o = t instanceof s.Shape ? n.findNode(t.dataKey) : void 0;\n            o && n.updateNodeObjectContainerKey(o, e, n.changesListener);\n          }), this.useEdgesArray() && t.attachedConnectors.forEach(function (o) {\n            var i = n.findEdge(o.dataKey);\n            i && (t === o.beginItem && n.updateEdgeObjectFromProperty(e, i, n.changesListener), t === o.endItem && n.updateEdgeObjectToProperty(e, i, n.changesListener));\n          });\n        }\n      }, e.prototype.deleteNodes = function (t) {\n        var e = this;\n        this.deleteItems(this.nodes, function (e) {\n          return t.findShapeByDataKey(e);\n        }, function (t) {\n          return e.getNodeArray(t);\n        }, function (t, n) {\n          var o = t.dataObj && e.nodeDataImporter.getKey(t.dataObj) || t.key,\n              i = e.findNode(o);\n          i && e.nodes.splice(e.nodes.indexOf(i), 1), n && (e.beginChangesNotification(), e.changesListener.notifyNodeRemoved.call(e.changesListener, o, t.dataObj, function (t, n) {\n            e.endChangesNotification(!1);\n          }, function (t) {\n            e.endChangesNotification(!1);\n          }));\n        });\n      }, e.prototype.getParentItem = function (t) {\n        for (var e = 0; e < t.attachedConnectors.length; e++) if (t.attachedConnectors[e].endItem === t) return t.attachedConnectors[e].beginItem;\n      }, e.prototype.getParentItemKey = function (t) {\n        var e = this.getParentItem(t);\n        return e && e.dataKey;\n      }, e.prototype.getNodeArray = function (t) {\n        var e;\n        return this.useNodeItems && t.parentDataObj ? e = this.nodeDataImporter.getItems(t.parentDataObj) : t.containerDataObj && (e = this.nodeDataImporter.getChildren(t.containerDataObj)), e || this.nodeDataSource;\n      }, e.prototype.getContainerShapeKey = function (t) {\n        return t.container && t.container.dataKey;\n      }, e.prototype.getChildItems = function (t) {\n        for (var e = [], n = 0; n < t.attachedConnectors.length; n++) t.attachedConnectors[n].beginItem === t && t.attachedConnectors[n].endItem && e.push(t.attachedConnectors[n].endItem);\n\n        return e;\n      }, e.prototype.updateEdge = function (t, e) {\n        var n = this,\n            o = e.beginItem ? e.beginItem.dataKey : void 0,\n            i = e.endItem ? e.endItem.dataKey : void 0,\n            r = this.findEdge(e.dataKey);\n        if (r) this.isEdgeObjectModified(e, r, t.units) && (this.updateEdgeObjectProperties(e, r, t.units), r.dataObj && (this.beginChangesNotification(), this.changesListener.notifyEdgeUpdated.call(this.changesListener, this.edgeDataImporter.getKey(r.dataObj) || r.key, r.dataObj, function (t, e) {\n          n.endChangesNotification(!1);\n        }, function (t) {\n          n.endChangesNotification(!1);\n        })));else {\n          var s = this.useEdgesArray() && this.canUpdateEdgeDataSource ? {} : void 0;\n          s && void 0 !== e.dataKey && null !== e.dataKey && this.edgeDataImporter.setKey(s, e.dataKey), r = this.addEdgeInternal(s, o, i), s && (this.setDataObjectKeyRelatedProperty(this.edgeDataImporter.setKey, s, r.key, this.addInternalKeyOnInsert), this.edgeDataSource.push(r.dataObj)), this.updateEdgeObjectProperties(e, r, t.units), this.updateEdgeObjectKey(e, r, r.dataObj), s && (this.beginChangesNotification(), this.beginNodeInserting(), this.changesListener.notifyEdgeInserted.call(this.changesListener, r.dataObj, function (t) {\n            n.updateEdgeObjectKey(e, r, t), n.endNodeInserting(), n.endChangesNotification(!1);\n          }, function (t) {\n            n.endNodeInserting(), n.endChangesNotification(!1);\n          }));\n        }\n      }, e.prototype.isEdgeObjectModified = function (t, e, n) {\n        return this.isItemObjectModified(t, e, this.edgeDataImporter) || (null !== e.from ? e.from : void 0) !== (t.beginItem ? t.beginItem.dataKey : void 0) || (null === e.to ? void 0 : e.to) !== (t.endItem ? t.endItem.dataKey : void 0) || this.edgeDataImporter.setFromPointIndex && e.fromPointIndex !== t.beginConnectionPointIndex || this.edgeDataImporter.setToPointIndex && e.toPointIndex !== t.endConnectionPointIndex || this.edgeDataImporter.setPoints && (!e.points || !this.pointsAreEqual(e.points.map(function (t) {\n          return t.x;\n        }), t.points.map(function (t) {\n          return u.ModelUtils.getlUnitValue(n, t.x);\n        })) || !this.pointsAreEqual(e.points.map(function (t) {\n          return t.y;\n        }), t.points.map(function (t) {\n          return u.ModelUtils.getlUnitValue(n, t.y);\n        }))) || this.edgeDataImporter.setText && !this.compareTexts(e, t) || this.edgeDataImporter.setLineOption && e.lineOption !== t.properties.lineOption || this.edgeDataImporter.setStartLineEnding && e.startLineEnding !== t.properties.startLineEnding || this.edgeDataImporter.setEndLineEnding && e.endLineEnding !== t.properties.endLineEnding;\n      }, e.prototype.pointsAreEqual = function (t, e) {\n        var n = t.length;\n        if (n !== t.length) return !1;\n\n        for (var o = 0; o < n; o++) if (!d.MathUtils.numberCloseTo(t[o], e[o])) return !1;\n\n        return !0;\n      }, e.prototype.updateEdgeObjectFromProperty = function (t, e, n) {\n        if (e.from = t && t.key, e.dataObj) {\n          var o = t && t.dataObj && this.nodeDataImporter.getKey(t.dataObj);\n          this.setDataObjectKeyRelatedProperty(this.edgeDataImporter.setFrom, e.dataObj, o, !1), n && (this.isInUpdateNodeKeyRelatedObjects() ? this.addToUpdateNodeKeyRelatedObjectsStackAction(\"edge\", e) : this.updateEdgeObjectFromOrToPropertyInternal(e, n));\n        }\n      }, e.prototype.updateEdgeObjectFromOrToPropertyInternal = function (t, e) {\n        var n = this;\n        this.beginChangesNotification(), e.notifyEdgeUpdated.call(e, this.nodeDataImporter.getKey(t.dataObj) || t.key, t.dataObj, function (t, e) {\n          n.endChangesNotification(!1);\n        }, function (t) {\n          n.endChangesNotification(!1);\n        });\n      }, e.prototype.updateEdgeObjectToProperty = function (t, e, n) {\n        if (e.to = t && t.key, e.dataObj) {\n          var o = t && t.dataObj && this.nodeDataImporter.getKey(t.dataObj);\n          this.setDataObjectKeyRelatedProperty(this.edgeDataImporter.setTo, e.dataObj, o, !1), n && (this.isInUpdateNodeKeyRelatedObjects() ? this.addToUpdateNodeKeyRelatedObjectsStackAction(\"edge\", e) : this.updateEdgeObjectFromOrToPropertyInternal(e, n));\n        }\n      }, e.prototype.updateEdgeObjectProperties = function (t, e, n) {\n        if (this.updateItemObjectProperties(e, t, this.edgeDataImporter), this.edgeDataImporter.setFrom) {\n          var o = this.findNode(t.beginItem && t.beginItem.dataKey);\n          this.updateEdgeObjectFromProperty(o, e);\n        }\n\n        if (this.edgeDataImporter.setTo) {\n          var i = this.findNode(t.endItem && t.endItem.dataKey);\n          this.updateEdgeObjectToProperty(i, e);\n        }\n\n        if (this.edgeDataImporter.setFromPointIndex && (e.fromPointIndex = t.beginConnectionPointIndex, e.dataObj && this.edgeDataImporter.setFromPointIndex(e.dataObj, t.beginConnectionPointIndex)), this.edgeDataImporter.setToPointIndex && (e.toPointIndex = t.endConnectionPointIndex, e.dataObj && this.edgeDataImporter.setToPointIndex(e.dataObj, t.endConnectionPointIndex)), this.edgeDataImporter.setPoints) {\n          var r = t.points.map(function (t) {\n            return {\n              x: u.ModelUtils.getlUnitValue(n, t.x),\n              y: u.ModelUtils.getlUnitValue(n, t.y)\n            };\n          });\n          e.points = r, e.dataObj && this.edgeDataImporter.setPoints(e.dataObj, r);\n        }\n\n        if (this.edgeDataImporter.setText) {\n          var s = void 0;\n          1 === t.getTextCount() && t.getText() && (s = t.getText());\n          var a = {};\n\n          if (t.texts.forEach(function (t) {\n            a[t.position] = t.value;\n          }), e.texts = a, e.dataObj) {\n            var c = \"\";\n            s ? c = s : a && Object.keys(a).length && (c = a), this.edgeDataImporter.setText(e.dataObj, c);\n          }\n        }\n\n        this.edgeDataImporter.setLineOption && (e.lineOption = t.properties.lineOption, e.dataObj && this.edgeDataImporter.setLineOption(e.dataObj, t.properties.lineOption)), this.edgeDataImporter.setStartLineEnding && (e.startLineEnding = t.properties.startLineEnding, e.dataObj && this.edgeDataImporter.setStartLineEnding(e.dataObj, t.properties.startLineEnding)), this.edgeDataImporter.setEndLineEnding && (e.endLineEnding = t.properties.endLineEnding, e.dataObj && this.edgeDataImporter.setEndLineEnding(e.dataObj, t.properties.endLineEnding));\n      }, e.prototype.updateEdgeObjectKey = function (t, e, n) {\n        var o = n && this.edgeDataImporter.getKey(n);\n\n        if (null != o && o !== e.key && (delete this.autoGeneratedDataKeys[e.key], e.key = o), t.dataKey = e.key, e.dataObj !== n) {\n          var i = this.edgeDataSource,\n              r = i.indexOf(e.dataObj);\n          i.splice(r, 1, n), e.dataObj = n;\n        }\n      }, e.prototype.deleteEdges = function (t) {\n        var e = this;\n        this.deleteItems(this.edges, function (e) {\n          return t.findConnectorByDataKey(e);\n        }, function (t) {\n          return e.edgeDataSource;\n        }, function (t, n) {\n          var o = t.dataObj && e.edgeDataImporter.getKey(t.dataObj) || t.key,\n              i = e.findEdge(o);\n          i && e.edges.splice(e.edges.indexOf(i), 1), n && (e.beginChangesNotification(), e.changesListener.notifyEdgeRemoved.call(e.changesListener, o, t.dataObj, function (t, n) {\n            e.endChangesNotification(!1);\n          }, function (t) {\n            e.endChangesNotification(!1);\n          }));\n        });\n      }, e.prototype.beginNodeInserting = function () {\n        this.nodeInsertingLockCount++;\n      }, e.prototype.endNodeInserting = function () {\n        this.nodeInsertingLockCount--, 0 === this.nodeInsertingLockCount && this.raiseNodeInsertingStack();\n      }, e.prototype.isInNodeInserting = function () {\n        return this.nodeInsertingLockCount > 0;\n      }, e.prototype.addToUpdateNodeKeyRelatedObjectsStack = function (t, e) {\n        var n = new f(t, e);\n        this.updateNodeKeyRelatedObjectsStack.push(n);\n      }, e.prototype.raiseNodeInsertingStack = function () {\n        for (this.beginUpdateNodeKeyRelatedObjects(); this.updateNodeKeyRelatedObjectsStack.length > 0;) {\n          var t = this.updateNodeKeyRelatedObjectsStack[0];\n          this.updateNodeKeyRelatedObjects(t.shape, t.nodeObj), this.updateNodeKeyRelatedObjectsStack.splice(0, 1), t.shape.description.hasTemplate && t.nodeObj && this.changesListener.reloadInsertedItem(t.nodeObj.key);\n        }\n\n        this.endUpdateNodeKeyRelatedObjects();\n      }, e.prototype.beginUpdateNodeKeyRelatedObjects = function () {\n        this.updateNodeKeyRelatedObjectsCount++;\n      }, e.prototype.endUpdateNodeKeyRelatedObjects = function () {\n        this.updateNodeKeyRelatedObjectsCount--, 0 === this.updateNodeKeyRelatedObjectsCount && this.raiseUpdateNodeKeyRelatedObjectsStack();\n      }, e.prototype.isInUpdateNodeKeyRelatedObjects = function () {\n        return this.updateNodeKeyRelatedObjectsCount > 0;\n      }, e.prototype.addToUpdateNodeKeyRelatedObjectsStackAction = function (t, e) {\n        for (var n = new y(t, e), o = 0; o < this.updateNodeKeyRelatedObjectsStackActions.length; o++) if (this.updateNodeKeyRelatedObjectsStackActions[o].kind === t && this.updateNodeKeyRelatedObjectsStackActions[o].nodeObj === e) return;\n\n        this.updateNodeKeyRelatedObjectsStackActions.push(n);\n      }, e.prototype.raiseUpdateNodeKeyRelatedObjectsStack = function () {\n        for (; this.updateNodeKeyRelatedObjectsStackActions.length > 0;) {\n          var t = this.updateNodeKeyRelatedObjectsStackActions[0];\n\n          switch (t.kind) {\n            case \"shape\":\n              this.updateNodeObjectContainerOrParentKeyInternal(t.nodeObj, this.changesListener);\n              break;\n\n            case \"edge\":\n              this.updateEdgeObjectFromOrToPropertyInternal(t.nodeObj, this.changesListener);\n          }\n\n          this.updateNodeKeyRelatedObjectsStackActions.splice(0, 1);\n        }\n      }, e.prototype.beginChangesNotification = function () {\n        this.changesListener.beginChangesNotification();\n      }, e.prototype.endChangesNotification = function (t) {\n        this.changesListener.endChangesNotification(t);\n      }, e;\n    }(c.DataSource);\n\n    e.DocumentDataSource = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DataSource = void 0;\n\n    var o = n(12),\n        i = n(1),\n        r = n(2),\n        s = n(48),\n        a = n(64),\n        c = n(53),\n        u = n(65),\n        h = n(117),\n        p = n(88),\n        l = n(67),\n        d = n(347),\n        f = n(118),\n        y = n(147),\n        g = n(154),\n        m = n(102),\n        v = n(89),\n        P = n(68),\n        C = n(6),\n        S = n(4),\n        b = n(0),\n        x = n(44),\n        I = n(3),\n        _ = n(22),\n        w = n(50),\n        T = n(112),\n        O = n(63),\n        E = n(348),\n        M = n(349),\n        D = n(86),\n        A = function () {\n      function t(t, e, n, o, i, r) {\n        if (this.key = t, this.nodes = [], this.edges = [], this.autoGeneratedDataKeys = {}, this.addInternalKeyOnInsert = !1, this.useNodeParentId = !1, this.useNodeContainerId = !1, this.useNodeChildren = !1, this.useNodeItems = !1, this.canUseAutoSize = !1, this.canUpdateEdgeDataSource = !1, this.containers = null, null == t) throw new Error(\"DataSource key must be specified\");\n        this.key = t.toString(), this.loadParameters(o || {}), this.nodeDataImporter = this.createNodeDataImporter(i), this.edgeDataImporter = this.createEdgeDataImporter(r), this.nodeDataSource = e || [], this.edgeDataSource = n || [], this.canUpdateEdgeDataSource = !!n, this.fetchData();\n      }\n\n      return t.prototype.loadParameters = function (t) {\n        this.addInternalKeyOnInsert = !!t.addInternalKeyOnInsert;\n      }, t.prototype.isAutoGeneratedKey = function (t) {\n        return t && !!this.autoGeneratedDataKeys[t];\n      }, t.prototype.createNodeDataImporter = function (t) {\n        var e = new E.DataSourceNodeDataImporter();\n        return t && this.assignNodeDataImporterProperties(t, e), e;\n      }, t.prototype.createEdgeDataImporter = function (t) {\n        var e = new E.DataSourceEdgeDataImporter();\n        return t && this.assignEdgeDataImporterProperties(t, e), e;\n      }, t.prototype.assignItemDataImporterProperties = function (t, e) {\n        t.getKey && (e.getKey = t.getKey), t.setKey && (e.setKey = t.setKey), t.getCustomData && (e.getCustomData = t.getCustomData), t.setCustomData && (e.setCustomData = t.setCustomData), t.getLocked && (e.getLocked = t.getLocked), t.setLocked && (e.setLocked = t.setLocked), t.getStyle && (e.getStyle = t.getStyle), t.setStyle && (e.setStyle = t.setStyle), t.getStyleText && (e.getStyleText = t.getStyleText), t.setStyleText && (e.setStyleText = t.setStyleText), t.getZIndex && (e.getZIndex = t.getZIndex), t.setZIndex && (e.setZIndex = t.setZIndex);\n      }, t.prototype.assignNodeDataImporterProperties = function (t, e) {\n        this.assignItemDataImporterProperties(t, e), t.getType && (e.getType = t.getType), t.setType && (e.setType = t.setType), t.getImage && (e.getImage = t.getImage), t.setImage && (e.setImage = t.setImage), t.getText && (e.getText = t.getText), t.setText && (e.setText = t.setText), t.getLeft && (e.getLeft = t.getLeft), t.setLeft && (e.setLeft = t.setLeft), t.getTop && (e.getTop = t.getTop), t.setTop && (e.setTop = t.setTop), t.getWidth && (e.getWidth = t.getWidth), t.setWidth && (e.setWidth = t.setWidth), t.getHeight && (e.getHeight = t.getHeight), t.setHeight && (e.setHeight = t.setHeight), t.getChildren && (e.getChildren = t.getChildren), t.setChildren && (e.setChildren = t.setChildren), t.getParentKey && (e.getParentKey = t.getParentKey), t.setParentKey && (e.setParentKey = t.setParentKey), t.getItems && (e.getItems = t.getItems), t.setItems && (e.setItems = t.setItems), t.getContainerKey && (e.getContainerKey = t.getContainerKey), t.setContainerKey && (e.setContainerKey = t.setContainerKey);\n      }, t.prototype.assignEdgeDataImporterProperties = function (t, e) {\n        this.assignItemDataImporterProperties(t, e), t.getFrom && (e.getFrom = t.getFrom), t.setFrom && (e.setFrom = t.setFrom), t.getFromPointIndex && (e.getFromPointIndex = t.getFromPointIndex), t.setFromPointIndex && (e.setFromPointIndex = t.setFromPointIndex), t.getTo && (e.getTo = t.getTo), t.setTo && (e.setTo = t.setTo), t.getToPointIndex && (e.getToPointIndex = t.getToPointIndex), t.setToPointIndex && (e.setToPointIndex = t.setToPointIndex), t.getPoints && (e.getPoints = t.getPoints), t.setPoints && (e.setPoints = t.setPoints), t.getText && (e.getText = t.getText), t.setText && (e.setText = t.setText), t.getLineOption && (e.getLineOption = t.getLineOption), t.setLineOption && (e.setLineOption = t.setLineOption), t.getStartLineEnding && (e.getStartLineEnding = t.getStartLineEnding), t.setStartLineEnding && (e.setStartLineEnding = t.setStartLineEnding), t.getEndLineEnding && (e.getEndLineEnding = t.getEndLineEnding), t.setEndLineEnding && (e.setEndLineEnding = t.setEndLineEnding);\n      }, t.prototype.fetchData = function () {\n        var t = this;\n        if (this.nodes = [], this.edges = [], this.autoGeneratedDataKeys = {}, this.useNodeParentId = void 0 !== this.nodeDataImporter.getParentKey, this.useNodeContainerId = void 0 !== this.nodeDataImporter.getContainerKey, this.useNodeItems = void 0 !== this.nodeDataImporter.getItems, this.useNodeChildren = void 0 !== this.nodeDataImporter.getChildren, this.canUseAutoSize = void 0 === this.nodeDataImporter.getWidth && void 0 !== this.nodeDataImporter.getText, this.useEdgesArray() && this.useNodeParentId) throw new Error(\"You cannot use edges array and parentKey simultaneously.\");\n        if (this.useEdgesArray() && this.useNodeItems) throw new Error(\"You cannot use edges array and items array simultaneously.\");\n        if (this.useNodeParentId && this.useNodeItems) throw new Error(\"You cannot use parentKey and items array simultaneously.\");\n        if (this.useNodeContainerId && this.useNodeChildren) throw new Error(\"You cannot use containerKey and children array simultaneously.\");\n        this.nodeDataSource.forEach(function (e) {\n          t.addNode(e);\n        }), this.useEdgesArray() ? this.edgeDataSource.forEach(function (e) {\n          t.addEdge(e);\n        }) : this.nodes.forEach(function (e) {\n          t.addNodeEdgesByParentId(e);\n        });\n      }, t.prototype.isContainer = function (t) {\n        var e = this;\n        return !this.containers && this.useNodeContainerId && (this.containers = this.nodeDataSource.map(function (t) {\n          return e.nodeDataImporter.getContainerKey(t);\n        }).filter(function (t) {\n          return null != t;\n        }).reduce(function (t, e) {\n          return t[e] = !0, t;\n        }, {})), this.containers && this.containers[t];\n      }, t.prototype.refetchData = function (t, e) {\n        var n = this;\n        this.nodeDataSource = t || this.nodeDataSource, this.edgeDataSource = e || this.edgeDataSource;\n        var o = this.nodes.slice(),\n            i = this.edges.slice();\n        return this.fetchData(), {\n          nodes: this.getItemChanges(o, this.nodes, function (t, e) {\n            return t.key === e.key || t.dataObj === e.dataObj;\n          }),\n          edges: this.getItemChanges(i, this.edges, function (t, e) {\n            return n.useNodeParentId || n.useNodeItems ? t.key === e.key || t.from === e.from && t.to === e.to : t.key === e.key || t.dataObj === e.dataObj;\n          })\n        };\n      }, t.prototype.getItemChanges = function (t, e, n) {\n        var o = this,\n            i = t.filter(function (t) {\n          return o.containsItem(e, t, n);\n        }),\n            r = e.filter(function (e) {\n          return o.containsItem(t, e, n);\n        }),\n            s = t.filter(function (t) {\n          return !o.containsItem(e, t, n);\n        }),\n            a = e.filter(function (e) {\n          return !o.containsItem(t, e, n);\n        });\n        return {\n          remained: i.map(function (t) {\n            return t.key;\n          }),\n          remainedNew: r.map(function (t) {\n            return t.key;\n          }),\n          removed: s.map(function (t) {\n            return t.key;\n          }),\n          added: a.map(function (t) {\n            return t.key;\n          })\n        };\n      }, t.prototype.containsItem = function (t, e, n) {\n        var o = !1;\n        return t.forEach(function (t) {\n          !o && n(t, e) && (o = !0);\n        }), o;\n      }, t.prototype.useEdgesArray = function () {\n        return Array.isArray(this.edgeDataSource) && (this.edgeDataSource.length || !(this.useNodeParentId || this.useNodeItems));\n      }, t.prototype.addNode = function (t, e, n, o) {\n        var i = this,\n            r = this.nodeDataImporter.getChildren && this.nodeDataImporter.getChildren(t),\n            s = r && Array.isArray(r) && r.length,\n            a = s || this.isContainer(this.nodeDataImporter.getKey(t)),\n            c = this.nodeDataImporter.getType && this.nodeDataImporter.getType(t) || a && b.ShapeTypes.VerticalContainer || b.ShapeTypes.Rectangle,\n            u = this.nodeDataImporter.getText && (this.nodeDataImporter.getText(t) || \"\"),\n            h = this.addNodeInternal(t, c, u, e, n, o);\n\n        if (this.assignNodeProperties(h, t), s && r.forEach(function (e) {\n          i.addNode(e, void 0, h.key, t);\n        }), this.useNodeItems) {\n          var p = this.nodeDataImporter.getItems(t);\n          Array.isArray(p) && p.length && p.forEach(function (e) {\n            var r = i.addNode(e, t, n, o);\n            i.addEdgeInternal(void 0, h.key, r.key);\n          });\n        }\n\n        return h;\n      }, t.prototype.addNodeEdgesByParentId = function (t) {\n        if (this.useNodeParentId) {\n          var e = this.nodeDataImporter.getParentKey(t.dataObj);\n          if (null != e) this.findNode(e) && this.addEdgeInternal(void 0, this.getNodeKey(t.dataObj, this.nodeDataImporter.getParentKey), this.getNodeKey(t.dataObj, this.nodeDataImporter.getKey));\n        }\n      }, t.prototype.addNodeInternal = function (t, e, n, o, i, r) {\n        var s = this.nodeDataImporter.getKey(t),\n            a = null != s ? s : S.ModelUtils.getGuidItemKey(),\n            c = new M.DataSourceNodeItem(this.key, a, t, e, n, o, i, r);\n        return this.nodes.push(c), null == s && (s = a, this.autoGeneratedDataKeys[a] = !0), c;\n      }, t.prototype.addEdge = function (t) {\n        var e = this.addEdgeInternal(t, this.getNodeKey(t, this.edgeDataImporter.getFrom), this.getNodeKey(t, this.edgeDataImporter.getTo));\n        return this.assignEdgeProperties(e, t), e;\n      }, t.prototype.addEdgeInternal = function (t, e, n) {\n        var o = t && this.edgeDataImporter.getKey(t),\n            i = null != o ? o : S.ModelUtils.getGuidItemKey(),\n            r = new M.DataSourceEdgeItem(this.key, i, t, e, n);\n        return this.edges.push(r), null == o && (o = i, this.autoGeneratedDataKeys[i] = !0), r;\n      }, t.prototype.assignItemProperties = function (t, e, n) {\n        if (n.getCustomData && (t.customData = I.ObjectUtils.cloneObject(n.getCustomData(e))), n.getLocked && (t.locked = n.getLocked(e)), n.getStyle) {\n          var o = n.getStyle(e);\n          t.style = \"string\" == typeof o ? w.Data.cssTextToObject(o) : o;\n        }\n\n        if (n.getStyleText) {\n          o = n.getStyleText(e);\n          t.styleText = \"string\" == typeof o ? w.Data.cssTextToObject(o) : o;\n        }\n\n        n.getZIndex && (t.zIndex = n.getZIndex(e));\n      }, t.prototype.assignNodeProperties = function (t, e) {\n        this.assignItemProperties(t, e, this.nodeDataImporter), this.nodeDataImporter.getImage && (t.image = this.nodeDataImporter.getImage(e)), this.nodeDataImporter.getLeft && (t.left = this.nodeDataImporter.getLeft(e)), this.nodeDataImporter.getTop && (t.top = this.nodeDataImporter.getTop(e)), this.nodeDataImporter.getWidth && (t.width = this.nodeDataImporter.getWidth(e)), this.nodeDataImporter.getHeight && (t.height = this.nodeDataImporter.getHeight(e)), this.nodeDataImporter.getContainerKey && (t.containerKey = this.nodeDataImporter.getContainerKey(e));\n      }, t.prototype.assignEdgeProperties = function (t, e) {\n        if (this.assignItemProperties(t, e, this.edgeDataImporter), this.edgeDataImporter.getFromPointIndex && (t.fromPointIndex = this.edgeDataImporter.getFromPointIndex(e)), this.edgeDataImporter.getToPointIndex && (t.toPointIndex = this.edgeDataImporter.getToPointIndex(e)), this.edgeDataImporter.getPoints && (t.points = this.edgeDataImporter.getPoints(e)), this.edgeDataImporter.getText) {\n          var n = this.edgeDataImporter.getText(e);\n\n          if (t.texts = {}, \"object\" == typeof n) {\n            for (var o in n) if (Object.prototype.hasOwnProperty.call(n, o)) {\n              var i = parseFloat(o),\n                  r = n[o];\n              isNaN(i) || \"string\" != typeof r || \"\" === r || (i = Math.min(1, Math.max(0, i)), t.texts[i] = r);\n            }\n          } else \"string\" == typeof n && \"\" !== n && (t.texts[C.CONNECTOR_DEFAULT_TEXT_POSITION] = n);\n        }\n\n        this.edgeDataImporter.getLineOption && (t.lineOption = this.edgeDataImporter.getLineOption(e)), this.edgeDataImporter.getStartLineEnding && (t.startLineEnding = this.edgeDataImporter.getStartLineEnding(e)), this.edgeDataImporter.getEndLineEnding && (t.endLineEnding = this.edgeDataImporter.getEndLineEnding(e));\n      }, t.prototype.findNode = function (t) {\n        return this.nodes.filter(function (e) {\n          return void 0 !== t && e.key === t;\n        })[0];\n      }, t.prototype.findEdge = function (t) {\n        return this.edges.filter(function (e) {\n          return void 0 !== t && e.key === t;\n        })[0];\n      }, t.prototype.getNodeKey = function (t, e) {\n        return e(t);\n      }, t.prototype.createModelItems = function (t, e, n, o, r, s, a, c) {\n        var u = this;\n        this.beginChangesNotification(), t.clear(), t.beginTransaction(), S.ModelUtils.deleteAllItems(t, e, o), e.initializeKeyCounter();\n        var h = 0,\n            p = 0,\n            l = {},\n            d = [],\n            f = [];\n        this.nodes.forEach(function (f) {\n          var y = new i.Point(2e3 * p++, 2e3 * h),\n              g = u.createShapeByNode(t, e, o, n, f, y, r, s, a, c);\n          void 0 !== f.key && (l[f.key] = g.key), p > 4 && (p = 0, h++), d.push(g);\n        }), this.nodes.forEach(function (n) {\n          if (void 0 !== n.containerKey && null !== n.containerKey) {\n            var o = l[n.key],\n                i = e.findShape(o),\n                r = l[n.containerKey],\n                s = e.findShape(r);\n            s && S.ModelUtils.insertToContainer(t, e, i, s);\n          }\n        }), this.edges.forEach(function (n) {\n          var i = e.findShape(l[n.to]),\n              r = e.findShape(l[n.from]),\n              s = u.createConnectorByEdge(t, e, o, n, r, i);\n          s && (f.push(s), S.ModelUtils.updateConnectorContainer(t, e, s));\n        }), r.needAutoLayout && this.applyLayout(t, e, d, f, r, s, a), S.ModelUtils.tryUpdateModelRectangle(t), t.endTransaction(!0), this.endChangesNotification(!0);\n      }, t.prototype.updateModelItems = function (t, e, n, o, r, s, a, c, u, h, p, l) {\n        var d = this;\n        this.beginChangesNotification(), t.beginTransaction();\n        var f = [],\n            y = [],\n            g = [],\n            m = u.nodes.removed.map(function (t) {\n          return e.findShapeByDataKey(t);\n        }).filter(function (t) {\n          return t;\n        });\n        m.forEach(function (t) {\n          t.attachedConnectors.forEach(function (e) {\n            e.beginItem && e.beginItem !== t && y.push(e.beginItem), e.endItem && e.endItem !== t && y.push(e.endItem);\n          });\n        }), S.ModelUtils.deleteItems(t, e, o, m, !0);\n        var v = u.edges.removed.map(function (t) {\n          return e.findConnectorByDataKey(t);\n        }).filter(function (t) {\n          return t;\n        });\n        v.forEach(function (t) {\n          t.beginItem && y.push(t.beginItem), t.endItem && y.push(t.endItem);\n        }), S.ModelUtils.deleteItems(t, e, o, v, !0), y = this.purgeLayoutShapes(y, m), (a || []).forEach(function (s) {\n          if (-1 !== u.nodes.remained.indexOf(s)) {\n            var a = d.findNode(s);\n\n            if (a) {\n              var c = e.findShapeByDataKey(s);\n\n              if (c) {\n                var g = c.position.clone();\n                d.changeShapeByDataItem(t, e, c, a, g), d.changeItemByDataItem(t, c, a);\n              } else c = d.createShapeByNode(t, e, o, n, a, new i.Point(0, 0), r, h, p, l);\n\n              d.updateShapeContainer(t, e, c, a), y.push(c), f.push(c);\n            }\n          }\n        }), u.nodes.remained.forEach(function (t, n) {\n          var o = e.findShapeByDataKey(t);\n          o && (o.dataKey = u.nodes.remainedNew[n]);\n        }), u.nodes.added.forEach(function (s) {\n          var a = d.findNode(s),\n              c = d.createShapeByNode(t, e, o, n, a, new i.Point(0, 0), r, h, p, l);\n          d.updateShapeContainer(t, e, c, a), y.push(c);\n        }), u.edges.added.forEach(function (n) {\n          var i = d.findEdge(n),\n              r = e.findShapeByDataKey(i.from),\n              s = e.findShapeByDataKey(i.to),\n              a = d.createConnectorByEdge(t, e, o, i, r, s);\n          a && (S.ModelUtils.updateConnectorContainer(t, e, a), g.push(a));\n        });\n        var P = a || [];\n        u.edges.remained.forEach(function (t) {\n          var e = d.findEdge(t);\n          !e || -1 === u.nodes.added.indexOf(e.from) && -1 === u.nodes.added.indexOf(e.to) || P.push(t);\n        }), P.forEach(function (n) {\n          if (-1 !== u.edges.remained.indexOf(n)) {\n            var i = d.findEdge(n);\n\n            if (i) {\n              var r = e.findShapeByDataKey(i.from),\n                  s = e.findShapeByDataKey(i.to),\n                  a = e.findConnectorByDataKey(n);\n              a ? (d.changeConnectorPointsByDataItem(t, a, d.getConnectorPointsByEdge(e, i, r, s)), d.changeConnectorByDataItem(t, e, a, r, s, i), d.changeItemByDataItem(t, a, i)) : a = d.createConnectorByEdge(t, e, o, i, r, s), a && (S.ModelUtils.updateConnectorContainer(t, e, a), g.push(a), f.push(a));\n            }\n          }\n        }), u.edges.remained.forEach(function (t, n) {\n          var o = e.findConnectorByDataKey(t);\n          o && (o.dataKey = u.edges.remainedNew[n]);\n        }), f.length && c && f.forEach(function (t) {\n          t.hasTemplate && c(t);\n        }), r.needAutoLayout && (y.length || g.length) && this.applyLayout(t, e, y, g, r, h, p), S.ModelUtils.tryUpdateModelRectangle(t), t.endTransaction(!s), this.endChangesNotification(!1);\n      }, t.prototype.purgeLayoutShapes = function (t, e) {\n        var n = e.reduce(function (t, e) {\n          return (t[e.key] = !0) && t;\n        }, {});\n        return t.reduce(function (t, e) {\n          return void 0 === t.keySet[e.key] && void 0 === n[e.key] && (t.uniqueShapes.push(e), t.keySet[e.key] = !0), t;\n        }, {\n          uniqueShapes: [],\n          keySet: {}\n        }).uniqueShapes;\n      }, t.prototype.applyShapeAutoSize = function (t, e, n, i, s, a) {\n        if (i.description.enableText) {\n          var c = i.textRectangle.createSize(),\n              u = i.size,\n              p = c.width - u.width,\n              l = c.height - u.height,\n              d = i.getMaxWidth(n.shapeMaxWidth),\n              f = i.getMaxHeight(n.shapeMaxHeight),\n              y = function y(t, e) {\n            return \"number\" == typeof t ? o.UnitConverter.twipsToPixelsF(t + (e ? p : l)) : void 0;\n          },\n              g = O.getOptimalTextRectangle(i.text, i.styleText, x.TextOwner.Shape, e, c.clone().applyConverter(o.UnitConverter.twipsToPixelsF), i.description.keepRatioOnAutoSize, y(i.getMinWidth(n.shapeMinWidth), !0), y(d, !0), y(i.getMinHeight(n.shapeMinHeight), !1), y(f, !1)).clone().applyConverter(o.UnitConverter.pixelsToTwips);\n\n          if (!g.equals(c)) {\n            var m = i.description.getSizeByText(g, i);\n            s && a && (m = new r.Size(Math.min(a * Math.ceil(m.width / a), d || Number.MAX_VALUE), Math.min(a * Math.ceil(m.height / a), f || Number.MAX_VALUE))), t.addAndRedo(new h.ResizeShapeHistoryItem(i.key, i.position, m));\n          }\n        }\n      }, t.prototype.applyLayout = function (t, e, n, o, i, r, s) {\n        S.ModelUtils.getGraphInfoByItems(e, n, o).forEach(function (a) {\n          var c = i.getLayoutBuilder(a.graph).build(),\n              u = S.ModelUtils.getNonGraphItems(e, a.container, c.nodeToLayout, n, o);\n          S.ModelUtils.applyLayout(t, e, a.container, a.graph, c, u, i.layoutSettings, r, s, i.skipPointIndices);\n        });\n      }, t.prototype.changeItemByDataItem = function (t, e, n) {\n        if (void 0 === n.customData || I.ObjectUtils.compareObjects(n.customData, e.customData) || t.addAndRedo(new d.ChangeCustomDataHistoryItem(e, n.customData)), void 0 !== n.zIndex && n.zIndex !== e.zIndex && t.addAndRedo(new m.ChangeZindexHistoryItem(e, n.zIndex)), void 0 !== n.style) for (var o in n.style) {\n          if (Object.prototype.hasOwnProperty.call(n.style, o)) (r = this.getPreparedStyleValue(n.style[o], T.isColorProperty(o))) !== e.style[o] && t.addAndRedo(new v.ChangeStyleHistoryItem(e.key, o, r));\n        }\n        var i = e.style.getDefaultInstance();\n        if (e.style.forEach(function (o) {\n          n.style && void 0 === n.style[o] && e.style[o] !== i[o] && t.addAndRedo(new v.ChangeStyleHistoryItem(e.key, o, i[o]));\n        }), void 0 !== n.styleText) for (var o in n.styleText) {\n          var r;\n          if (Object.prototype.hasOwnProperty.call(n.styleText, o)) (r = this.getPreparedStyleValue(n.styleText[o], T.isColorProperty(o))) !== e.styleText[o] && t.addAndRedo(new P.ChangeStyleTextHistoryItem(e.key, o, r));\n        }\n        var s = e.styleText.getDefaultInstance();\n        e.styleText.forEach(function (o) {\n          n.styleText && void 0 === n.styleText[o] && e.styleText[o] !== s[o] && t.addAndRedo(new P.ChangeStyleTextHistoryItem(e.key, o, s[o]));\n        }), void 0 !== n.locked && n.locked !== e.locked && t.addAndRedo(new f.ChangeLockedHistoryItem(e, n.locked));\n      }, t.prototype.getPreparedStyleValue = function (t, e) {\n        if (e) {\n          var n = _.ColorUtils.stringToHash(t);\n\n          null !== n && (t = n);\n        }\n\n        return t;\n      }, t.prototype.createShapeByNode = function (t, e, n, o, i, r, s, a, u, h) {\n        var p = new c.AddShapeHistoryItem(o.get(i.type), r, \"\", i.key);\n        t.addAndRedo(p);\n        var l = e.findShape(p.shapeKey);\n        return S.ModelUtils.updateNewShapeProperties(t, n, p.shapeKey), this.changeShapeByDataItem(t, e, l, i, r), this.changeItemByDataItem(t, l, i), h && this.canUseAutoSize && s.autoSizeEnabled && this.applyShapeAutoSize(t, h, s.sizeSettings, l, a, u), l;\n      }, t.prototype.changeShapeByDataItem = function (t, e, n, o, i) {\n        void 0 !== o.left && (i.x = S.ModelUtils.getTwipsValue(e.units, o.left)), void 0 !== o.top && (i.y = S.ModelUtils.getTwipsValue(e.units, o.top)), S.ModelUtils.setShapePosition(t, e, n, i, !1);\n        var r = n.size.clone();\n        void 0 !== o.width && (r.width = S.ModelUtils.getTwipsValue(e.units, o.width)), void 0 !== o.height && (r.height = S.ModelUtils.getTwipsValue(e.units, o.height)), S.ModelUtils.setShapeSize(t, e, n, i, r), S.ModelUtils.updateShapeAttachedConnectors(t, e, n), void 0 !== o.text && o.text !== n.text && t.addAndRedo(new g.ChangeShapeTextHistoryItem(n, o.text)), void 0 !== o.image && o.image !== n.image.actualUrl && t.addAndRedo(new y.ChangeShapeImageHistoryItem(n, o.image));\n      }, t.prototype.updateShapeContainer = function (t, e, n, o) {\n        var i = void 0 !== o.containerKey ? e.findShapeByDataKey(o.containerKey) : void 0;\n        i !== n.container && (i ? S.ModelUtils.insertToContainer(t, e, n, i) : S.ModelUtils.removeFromContainer(t, e, n));\n      }, t.prototype.getConnectorPointsByEdge = function (t, e, n, o) {\n        var i = [],\n            r = this.createModelPointFromDataSourceEdgeItemPoints(t.units, e);\n\n        if (!r || r.length <= 1) {\n          if (!n || !o) return;\n          return i.push(n.position.clone()), i.push(o.position.clone()), i;\n        }\n\n        for (var s = r.length - 1, a = 0; a <= s; a++) {\n          var c = r[a];\n          if (null !== c) i.push(c);else {\n            if (!n && !o) return;\n            0 === a && n ? i.push(n.position.clone()) : a === s && o && i.push(o.position.clone());\n          }\n        }\n\n        return i;\n      }, t.prototype.createModelPointFromDataSourceEdgeItemPoints = function (t, e) {\n        var n = this,\n            o = [];\n        if (Array.isArray(e.points)) return e.points.forEach(function (e) {\n          return o.push(n.isValidDataSourceEdgeItemPoint(e) ? n.createModelPoint(t, e) : null);\n        }), o;\n      }, t.prototype.createModelPoint = function (t, e) {\n        return new i.Point(S.ModelUtils.getTwipsValue(t, e.x), S.ModelUtils.getTwipsValue(t, e.y));\n      }, t.prototype.isValidDataSourceEdgeItemPoint = function (t) {\n        return null != t && void 0 !== t.x && void 0 !== t.y && null !== t.x && null !== t.y;\n      }, t.prototype.createConnectorByEdge = function (t, e, n, o, i, r) {\n        var s,\n            c = o.key,\n            u = this.getConnectorPointsByEdge(e, o, i, r);\n\n        if (u && u.length > 1) {\n          var h = new a.AddConnectorHistoryItem(u, c);\n          t.addAndRedo(h), s = e.findConnector(h.connectorKey), S.ModelUtils.updateNewConnectorProperties(t, n, h.connectorKey), this.changeConnectorByDataItem(t, e, s, i, r, o), this.changeItemByDataItem(t, s, o);\n        }\n\n        return s;\n      }, t.prototype.changeConnectorByDataItem = function (t, e, n, o, i, r) {\n        var a = void 0 !== r.fromPointIndex ? r.fromPointIndex : n.beginConnectionPointIndex;\n        n.beginItem === o && n.beginConnectionPointIndex === a || (n.beginItem && t.addAndRedo(new u.DeleteConnectionHistoryItem(n, C.ConnectorPosition.Begin)), o && t.addAndRedo(new s.AddConnectionHistoryItem(n, o, a, C.ConnectorPosition.Begin)));\n        var c = void 0 !== r.toPointIndex ? r.toPointIndex : n.endConnectionPointIndex;\n        if (n.endItem === i && n.endConnectionPointIndex === c || (n.endItem && t.addAndRedo(new u.DeleteConnectionHistoryItem(n, C.ConnectorPosition.End)), i && t.addAndRedo(new s.AddConnectionHistoryItem(n, i, c, C.ConnectorPosition.End))), S.ModelUtils.updateConnectorAttachedPoints(t, e, n), void 0 !== r.texts && !this.compareTexts(r, n)) for (var h in n.texts.forEach(function (e) {\n          t.addAndRedo(new l.ChangeConnectorTextHistoryItem(n, e.position, void 0));\n        }), r.texts) if (Object.prototype.hasOwnProperty.call(r.texts, h)) {\n          var d = parseFloat(h);\n          t.addAndRedo(new l.ChangeConnectorTextHistoryItem(n, d, r.texts[h]));\n        }\n        void 0 !== r.lineOption && r.lineOption !== n.properties.lineOption && t.addAndRedo(new p.ChangeConnectorPropertyHistoryItem(n.key, \"lineOption\", r.lineOption)), void 0 !== r.startLineEnding && r.startLineEnding !== n.properties.startLineEnding && t.addAndRedo(new p.ChangeConnectorPropertyHistoryItem(n.key, \"startLineEnding\", r.startLineEnding)), void 0 !== r.endLineEnding && r.endLineEnding !== n.properties.endLineEnding && t.addAndRedo(new p.ChangeConnectorPropertyHistoryItem(n.key, \"endLineEnding\", r.endLineEnding));\n      }, t.prototype.changeConnectorPointsByDataItem = function (t, e, n) {\n        n && n.length > 1 && n.join(\",\") !== e.points.join(\",\") && t.addAndRedo(new D.ReplaceConnectorPointsHistoryItem(e.key, n));\n      }, t.prototype.compareTexts = function (t, e) {\n        var n = t.texts || {},\n            o = Object.keys(n).length === e.getTextCount();\n        if (o) for (var i in n) if (Object.prototype.hasOwnProperty.call(n, i)) {\n          var r = parseFloat(i);\n          this.compareStrings(e.getText(r), n[i]) || (o = !1);\n        }\n        return o;\n      }, t.prototype.compareStrings = function (t, e) {\n        return \"string\" == typeof t && \"string\" == typeof e ? t === e : this.isEmptyString(t) && this.isEmptyString(e);\n      }, t.prototype.isEmptyString = function (t) {\n        return \"\" === t || null == t;\n      }, t;\n    }();\n\n    e.DataSource = A;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o237,\n        i = this && this.__extends || (_o237 = function o(t, e) {\n      return (_o237 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o237(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeCustomDataHistoryItem = void 0;\n\n    var r = n(8),\n        s = n(3),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.itemKey = e.key, o.customData = s.ObjectUtils.cloneObject(n), o;\n      }\n\n      return i(e, t), e.prototype.redo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        this.oldCustomData = s.ObjectUtils.cloneObject(e.customData), t.changeCustomData(e, this.customData);\n      }, e.prototype.undo = function (t) {\n        var e = t.model.findItem(this.itemKey);\n        t.changeCustomData(e, this.oldCustomData);\n      }, e;\n    }(r.HistoryItem);\n\n    e.ChangeCustomDataHistoryItem = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o238,\n        i = this && this.__extends || (_o238 = function o(t, e) {\n      return (_o238 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o238(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DataSourceEdgeDataImporter = e.DataSourceNodeDataImporter = e.DataSourceItemDataImporter = void 0;\n\n    var r = function () {\n      return function () {\n        this.getKey = function (t) {\n          return t.id;\n        }, this.setKey = function (t, e) {\n          t.id = e;\n        }, this.getCustomData = void 0, this.setCustomData = void 0, this.getLocked = void 0, this.setLocked = void 0, this.getStyle = void 0, this.setStyle = void 0, this.getStyleText = void 0, this.setStyleText = void 0, this.getZIndex = void 0, this.setZIndex = void 0;\n      };\n    }();\n\n    e.DataSourceItemDataImporter = r;\n\n    var s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.getType = void 0, e.setType = void 0, e.getText = void 0, e.setText = void 0, e.getImage = void 0, e.setImage = void 0, e.getLeft = void 0, e.setLeft = void 0, e.getTop = void 0, e.setTop = void 0, e.getWidth = void 0, e.setWidth = void 0, e.getHeight = void 0, e.setHeight = void 0, e.getChildren = void 0, e.setChildren = void 0, e.getParentKey = void 0, e.setParentKey = void 0, e.getItems = void 0, e.setItems = void 0, e.getContainerKey = void 0, e.setContainerKey = void 0, e;\n      }\n\n      return i(e, t), e;\n    }(r);\n\n    e.DataSourceNodeDataImporter = s;\n\n    var a = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.getFrom = function (t) {\n          return t.from;\n        }, e.setFrom = function (t, e) {\n          t.from = e;\n        }, e.getFromPointIndex = void 0, e.setFromPointIndex = void 0, e.getTo = function (t) {\n          return t.to;\n        }, e.setTo = function (t, e) {\n          t.to = e;\n        }, e.getToPointIndex = void 0, e.setToPointIndex = void 0, e.getPoints = void 0, e.setPoints = void 0, e.getText = void 0, e.setText = void 0, e.getLineOption = void 0, e.setLineOption = void 0, e.getStartLineEnding = void 0, e.setStartLineEnding = void 0, e.getEndLineEnding = void 0, e.setEndLineEnding = void 0, e;\n      }\n\n      return i(e, t), e;\n    }(r);\n\n    e.DataSourceEdgeDataImporter = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o239,\n        i = this && this.__extends || (_o239 = function o(t, e) {\n      return (_o239 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o239(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DataSourceEdgeItem = e.DataSourceNodeItem = e.DataSourceItem = void 0;\n\n    var r = n(6),\n        s = function () {\n      return function (t, e, n) {\n        this.sourceKey = t, this.key = e, this.dataObj = n;\n      };\n    }();\n\n    e.DataSourceItem = s;\n\n    var a = function (t) {\n      function e(e, n, o, i, r, s, a, c) {\n        var u = t.call(this, e, n, o) || this;\n        return u.type = i, u.text = r, u.parentDataObj = s, u.containerKey = a, u.containerDataObj = c, u;\n      }\n\n      return i(e, t), e;\n    }(s);\n\n    e.DataSourceNodeItem = a;\n\n    var c = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this, e, n, o) || this;\n        return s.sourceKey = e, s.from = i, s.to = r, s;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"text\", {\n        get: function get() {\n          return this.texts && this.texts[r.CONNECTOR_DEFAULT_TEXT_POSITION];\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e;\n    }(s);\n\n    e.DataSourceEdgeItem = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ViewController = void 0;\n\n    var o = n(82),\n        i = Math.log(.05),\n        r = Math.log(3),\n        s = 40,\n        a = p(1),\n        c = [o.DiagramCommand.ZoomLevel, o.DiagramCommand.ZoomLevelInPercentage, o.DiagramCommand.Zoom100, o.DiagramCommand.Zoom125, o.DiagramCommand.Zoom200, o.DiagramCommand.Zoom25, o.DiagramCommand.Zoom50, o.DiagramCommand.Zoom75],\n        u = [o.DiagramCommand.SwitchAutoZoom, o.DiagramCommand.ToggleAutoZoom, o.DiagramCommand.AutoZoomToContent, o.DiagramCommand.AutoZoomToWidth],\n        h = function () {\n      function t(t, e) {\n        this.settings = t, this.bars = e, t.onZoomChanged.add(this), this.autoZoom = t.autoZoom;\n      }\n\n      return t.prototype.initialize = function (t) {\n        this.view = t, this.view.onViewChanged.add(this);\n      }, t.prototype.scrollTo = function (t, e) {\n        this.view && this.view.setScrollTo(t, e);\n      }, t.prototype.scrollBy = function (t) {\n        return !this.view || 0 === t.x && 0 === t.y ? t : this.view.scrollBy(t);\n      }, t.prototype.scrollIntoView = function (t) {\n        this.view && this.view.scrollIntoView(t);\n      }, t.prototype.normalize = function () {\n        this.view.tryNormalizePaddings();\n      }, t.prototype.getNextStepZoom = function (t) {\n        var e = this.getNearestCurrentZoomStep(),\n            n = t ? 1 : -1,\n            o = Math.min(s - 1, Math.max(0, e + n));\n\n        if (o !== a) {\n          var c = i + (r - i) * o / (s - 1);\n          return Math.exp(c);\n        }\n\n        return 1;\n      }, t.prototype.getNearestCurrentZoomStep = function () {\n        return p(this.getZoom());\n      }, t.prototype.getZoom = function () {\n        return this.view ? this.view.actualZoom : this.settings.zoomLevel;\n      }, t.prototype.resetScroll = function () {\n        this.view.adjust({\n          horizontal: !0,\n          vertical: !0\n        });\n      }, t.prototype.notifyViewAdjusted = function (t) {}, t.prototype.notifyActualZoomChanged = function (t) {\n        this.bars.updateItemsState(c);\n      }, t.prototype.notifyZoomChanged = function (t, e) {\n        this.autoZoom !== e && (this.autoZoom = e, this.bars.updateItemsState(u));\n      }, t;\n    }();\n\n    function p(t) {\n      var e = Math.log(t);\n      return Math.round((e - i) * (s - 1) / (r - i));\n    }\n\n    e.ViewController = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToolboxManager = void 0;\n\n    var o = n(352),\n        i = n(353),\n        r = n(78),\n        s = n(33),\n        a = function () {\n      function t(t) {\n        this.shapeDescriptionManager = t, this.toolboxes = [], this.measurers = {};\n      }\n\n      return t.prototype.create = function (t, e, n, r, s, a, c, u) {\n        var h = Array.isArray(s) ? s : this.shapeDescriptionManager.getTypesByCategory(s),\n            p = r ? new o.TextToolbox(t, e, n, this.shapeDescriptionManager, h, a, c, u) : new i.IconToolbox(t, e, n, this.shapeDescriptionManager, h, a, this.getOrCreateMeasurer(t), c, u);\n        return p.render(), this.toolboxes.push(p), p;\n      }, t.prototype.clean = function (t, e) {\n        var n = this;\n        if (e) e.clean(t), this.toolboxes.splice(this.toolboxes.indexOf(e), 1), Object.keys(this.measurers).forEach(function (t) {\n          n.measurers[t] === e.measurer && delete n.measurers[t];\n        });else {\n          for (var o = 0; o < this.toolboxes.length; o++) this.toolboxes[o].clean(t);\n\n          this.toolboxes = [], this.measurers = {};\n        }\n      }, t.prototype.refresh = function (t) {\n        this.toolboxes.forEach(function (e, n) {\n          (!t || Array.isArray(t) && t.indexOf(n) > -1 || n === t) && e.render();\n        });\n      }, t.prototype.applyFilter = function (t, e) {\n        var n = this;\n        return this.toolboxes.reduce(function (o, i, r) {\n          return (!e || Array.isArray(e) && e.indexOf(r) > -1 || r === e) && i.render(function (e) {\n            return n.searchFilter(e, t, r);\n          }) && o.push(r), o;\n        }, []);\n      }, t.prototype.searchFilter = function (t, e, n, o) {\n        if (!e || o && -1 === o.indexOf(n)) return !0;\n        e = e.toLowerCase();\n        var i = this.shapeDescriptionManager.get(t);\n        return i.getTitle().toLowerCase().indexOf(e) > -1 || i.getDefaultText().toLowerCase().indexOf(e) > -1;\n      }, t.prototype.getOrCreateMeasurer = function (t) {\n        var e = t.getAttribute(\"data-dxdiMeasurerID\");\n        return e && this.measurers[e] || (e = s.MathUtils.generateGuid(), this.measurers[e] = new r.TextMeasurer(t), t.setAttribute(\"data-dxdiMeasurerID\", e)), this.measurers[e];\n      }, t;\n    }();\n\n    e.ToolboxManager = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o240,\n        i = this && this.__extends || (_o240 = function o(t, e) {\n      return (_o240 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o240(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.TextToolbox = void 0;\n\n    var r = function (t) {\n      function e(e, n, o, i, r, s, a, c) {\n        return t.call(this, e, n, o, i, r, s, a, c) || this;\n      }\n\n      return i(e, t), e.prototype.createElements = function (t, e) {\n        var n = this;\n        e.forEach(function (e) {\n          var o = n.shapeDescriptionManager.get(e),\n              i = document.createElement(\"div\");\n          i.setAttribute(\"class\", \"toolbox-text-item\"), i.setAttribute(\"data-tb-type\", e), i.textContent = o.getDefaultText() || o.getTitle(), t.appendChild(i);\n        });\n      }, e.prototype.createDraggingElement = function (t) {\n        var e = document.createElement(\"DIV\");\n        return e.setAttribute(\"class\", \"dxdi-toolbox-drag-text-item\"), e.textContent = t.getDefaultText() || t.getTitle(), document.body.appendChild(e), e;\n      }, e;\n    }(n(158).Toolbox);\n\n    e.TextToolbox = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o241,\n        i = this && this.__extends || (_o241 = function o(t, e) {\n      return (_o241 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o241(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.IconToolbox = void 0;\n\n    var r = n(158),\n        s = n(15),\n        a = n(13),\n        c = n(12),\n        u = n(1),\n        h = n(122),\n        p = n(28),\n        l = n(127),\n        d = n(21),\n        f = function (t) {\n      function e(e, n, o, i, r, s, a, c, u) {\n        var h = t.call(this, e, n, o, i, r, s, c, u) || this;\n        return h.measurer = a, h;\n      }\n\n      return i(e, t), e.prototype.createElements = function (t, e) {\n        var n = document.createElementNS(s.svgNS, \"svg\");\n        n.className.baseVal = \"dxdi-canvas\", t.appendChild(n), this.drawShapeIcons(n, e, this.options.toolboxWidth || n.getBoundingClientRect().width);\n      }, e.prototype.drawShapeIcons = function (t, e, n) {\n        var o = this,\n            i = p.DEFAULT_STROKE_WIDTH,\n            r = n - 2 * i,\n            s = this.options.shapeIconSize;\n        !s && this.options.shapeIconSpacing && this.options.shapeIconCountInRow && (s = Math.floor((r - (this.options.shapeIconCountInRow - 1) * this.options.shapeIconSpacing) / this.options.shapeIconCountInRow)), s || (s = 32);\n        var a = s = Math.max(s, this.options.shapeIconSpacing / 2),\n            u = this.options.shapeIconCountInRow;\n        if (!u) for (u = 1; a < r;) (a += this.options.shapeIconSpacing + s) < r && u++;\n        var h = u > 1 ? (r - s * u) / (u - 1) : 0,\n            l = i,\n            d = i,\n            f = c.UnitConverter.pixelsToTwips(s);\n        e.forEach(function (e, n) {\n          n > 0 && n % u == 0 && (l = i, d += s + h);\n          var r = o.shapeDescriptionManager.get(e),\n              a = o.createShape(r, l, d, s < 26);\n          o.updateShapeIconBounds(a, s);\n          var p = o.drawShape(t, a);\n          o.drawSelector(p, c.UnitConverter.pixelsToTwips(l), c.UnitConverter.pixelsToTwips(d), f), l += s + h;\n        }), t.style.height = d + s + i + \"px\", t.style.width = n + \"px\";\n      }, e.prototype.drawShape = function (t, e) {\n        var n = this,\n            o = e.description.createPrimitives(e, !0),\n            i = document.createElementNS(s.svgNS, \"g\");\n        if (i.setAttribute(\"data-tb-type\", e.description.key.toString()), i.setAttribute(\"class\", \"toolbox-item\"), i.setAttribute(\"title\", e.description.getTitle()), this.options.shapeIconAttributes) for (var r in this.options.shapeIconAttributes) Object.prototype.hasOwnProperty.call(this.options.shapeIconAttributes, r) && i.setAttribute(r, this.options.shapeIconAttributes[r]);\n        return t.appendChild(i), o.forEach(function (t) {\n          var e = t.createElement(function (t) {\n            return i.appendChild(t);\n          });\n          t.applyElementProperties(e, n.measurer);\n        }), i;\n      }, e.prototype.drawSelector = function (t, e, n, o) {\n        var i = this,\n            r = new d.RectanglePrimitive(e, n, o, o, void 0, \"selector\");\n        r.createElement(function (e) {\n          r.applyElementProperties(e, i.measurer), t.appendChild(e);\n        });\n      }, e.prototype.createShape = function (t, e, n, o) {\n        var i = c.UnitConverter.pixelsToTwips(e),\n            r = c.UnitConverter.pixelsToTwips(n),\n            s = new a.Shape(t, new u.Point(i, r), !0);\n        return this.needResetShapeText(t) ? s.text = \"\" : o && (s.text = \"T\"), s;\n      }, e.prototype.needResetShapeText = function (t) {\n        return !(t instanceof h.TextShapeDescription) && !(t instanceof l.CustomShapeDescription && t.baseDescription instanceof h.TextShapeDescription);\n      }, e.prototype.updateShapeIconBounds = function (t, e) {\n        var n = c.UnitConverter.pixelsToTwips(e);\n\n        if (t.size.height = t.size.width * t.getToolboxHeightToWidthRatio(), t.size.width > t.size.height) {\n          var o = t.size.height / t.size.width;\n          t.size.width = n, t.size.height = n * o, t.position.y = t.position.y + (n - t.size.height) / 2, t.parameters.forEach(function (e) {\n            e.value = e.value * n / t.description.defaultSize.width;\n          });\n        } else if (t.size.width < t.size.height) {\n          o = t.size.width / t.size.height;\n          t.size.height = n, t.size.width = n * o, t.position.x = t.position.x + (n - t.size.width) / 2, t.parameters.forEach(function (e) {\n            e.value = e.value * n / t.description.defaultSize.height;\n          });\n        } else t.size.width = n, t.size.height = n, t.parameters.forEach(function (e) {\n          e.value = e.value * n / t.description.defaultSize.width;\n        });\n      }, e.prototype.createDraggingElement = function (t) {\n        var e = document.createElement(\"DIV\");\n        e.setAttribute(\"class\", \"dxdi-toolbox-drag-item\"), document.body.appendChild(e);\n        var n = document.createElementNS(s.svgNS, \"svg\");\n        n.className.baseVal = \"dxdi-canvas\", e.appendChild(n);\n        var o = this.createShape(t, p.DEFAULT_STROKE_WIDTH, p.DEFAULT_STROKE_WIDTH);\n        return this.drawShape(n, o), e.style.width = c.UnitConverter.twipsToPixels(o.size.width) + 2 * p.DEFAULT_STROKE_WIDTH + \"px\", e.style.height = c.UnitConverter.twipsToPixels(o.size.height) + 2 * p.DEFAULT_STROKE_WIDTH + \"px\", e;\n      }, e;\n    }(r.Toolbox);\n\n    e.IconToolbox = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o242,\n        i = this && this.__extends || (_o242 = function o(t, e) {\n      return (_o242 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o242(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ApiController = void 0;\n\n    var r,\n        s = n(80),\n        a = n(14),\n        c = n(4),\n        u = n(81),\n        h = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.events = e, i.model = o, i.selection = n, i;\n      }\n\n      return i(e, t), e.prototype.notifySelectionChanged = function (t) {\n        this.isUpdateLocked() ? this.registerOccurredEvent(r.SelectionChanged) : this.raiseSelectionChanged();\n      }, e.prototype.notifyToolboxDragStart = function () {\n        this.events.raise(\"notifyToolboxItemDragStart\");\n      }, e.prototype.notifyToolboxDragEnd = function () {\n        this.events.raise(\"notifyToolboxItemDragEnd\");\n      }, e.prototype.notifyClick = function (t) {\n        var e = this;\n        this.tryRaiseUserAction(t, function (t) {\n          return e.events.raise(\"notifyItemClick\", t);\n        });\n      }, e.prototype.notifyDblClick = function (t) {\n        var e = this;\n        this.tryRaiseUserAction(t, function (t) {\n          return e.events.raise(\"notifyItemDblClick\", t);\n        });\n      }, e.prototype.createNativeItem = function (t) {\n        return t && this.cleanupNativeItem(t.toNative(this.model.units));\n      }, e.prototype.createNativeShape = function (t) {\n        return this.createNativeItem(t);\n      }, e.prototype.createNativeConnector = function (t) {\n        return this.createNativeItem(t);\n      }, e.prototype.convertUnit = function (t) {\n        return c.ModelUtils.getlUnitValue(this.model.units, t);\n      }, e.prototype.convertPoint = function (t) {\n        return new u.Point(this.convertUnit(t.x), this.convertUnit(t.y));\n      }, e.prototype.convertSize = function (t) {\n        return new u.Size(this.convertUnit(t.width), this.convertUnit(t.height));\n      }, e.prototype.cleanupNativeItem = function (t) {\n        var e = this.dataSource;\n        return e && (e.isAutoGeneratedKey(t.fromKey) && (t.fromKey = void 0), e.isAutoGeneratedKey(t.key) && (t.key = void 0), e.isAutoGeneratedKey(t.toKey) && (t.toKey = void 0)), t;\n      }, e.prototype.setDataSource = function (t) {\n        this.dataSource = t;\n      }, e.prototype.tryRaiseUserAction = function (t, e) {\n        var n = this;\n\n        if (this.isUserAction(t)) {\n          var o = this.model.findItem(t.source.key);\n          o && this.events.raise1(function (t) {\n            return e(n.createNativeItem(o));\n          });\n        }\n      }, e.prototype.isUserAction = function (t) {\n        return t.source && (t.source.type === a.MouseEventElementType.Shape || t.source.type === a.MouseEventElementType.ShapeExpandButton || t.source.type === a.MouseEventElementType.ShapeParameterBox || t.source.type === a.MouseEventElementType.ShapeResizeBox || t.source.type === a.MouseEventElementType.ShapeConnectionPoint || t.source.type === a.MouseEventElementType.Connector || t.source.type === a.MouseEventElementType.ConnectorPoint || t.source.type === a.MouseEventElementType.ConnectorSide || t.source.type === a.MouseEventElementType.ConnectorOrthogonalSide || t.source.type === a.MouseEventElementType.ConnectorText);\n      }, e.prototype.onUpdateUnlocked = function (t) {\n        t & r.SelectionChanged && this.raiseSelectionChanged();\n      }, e.prototype.raiseSelectionChanged = function () {\n        var t = this,\n            e = this.selection.getKeys().map(function (e) {\n          return t.createNativeItem(t.model.findItem(e));\n        });\n        this.events.raise1(function (t) {\n          return t.notifySelectionChanged(e);\n        });\n      }, e;\n    }(s.BatchUpdatableObject);\n\n    e.ApiController = h, function (t) {\n      t[t.SelectionChanged = 1] = \"SelectionChanged\";\n    }(r || (r = {}));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PermissionsProvider = void 0;\n\n    var o = n(13),\n        i = n(3),\n        r = n(16),\n        s = n(6),\n        a = n(356),\n        c = n(357),\n        u = n(358),\n        h = n(359),\n        p = n(360),\n        l = n(361),\n        d = n(362),\n        f = n(363),\n        y = n(364),\n        g = n(365),\n        m = n(366),\n        v = n(367),\n        P = n(368),\n        C = function () {\n      function t(t) {\n        this.onRequestOperation = new i.EventDispatcher(), this.cache = [], this.permissionsLockCount = 0, this.requestDeleteItems = {}, this.updateUICount = 0, this.apiController = t, this.operationSettings = new r.ModelOperationSettings(), this.storage = new m.PermissionsProviderStorage();\n      }\n\n      return t.prototype.notifySelectionChanged = function (t) {\n        this.clearCache();\n      }, t.prototype.notifyModelChanged = function (t) {\n        this.clearCache();\n      }, t.prototype.notifyPageColorChanged = function (t) {}, t.prototype.notifyPageSizeChanged = function (t, e) {}, t.prototype.clearCache = function (t) {\n        this.cache = void 0 !== t ? this.cache.filter(function (e) {\n          return e.operation !== t;\n        }) : [];\n      }, t.prototype.canDeleteItems = function (t) {\n        var e = this,\n            n = !0;\n        return t.forEach(function (t) {\n          var i;\n          t instanceof o.Shape && (i = new c.DeleteShapeRequestedEntity(e.apiController, t)), t instanceof s.Connector && (i = new u.DeleteConnectorRequestedEntity(e.apiController, t)), n = n && e.requestOperation(i);\n        }), n;\n      }, t.prototype.canAddItems = function (t) {\n        var e = this,\n            n = !0;\n        return t.forEach(function (t) {\n          t instanceof o.Shape && (n = n && e.requestOperation(new a.AddShapeRequestedEntity(e.apiController, t))), t instanceof s.Connector && (n = (n = n && e.canChangeConnection(t, t.beginItem, void 0, s.ConnectorPosition.Begin, t.beginConnectionPointIndex)) && e.canChangeConnection(t, t.endItem, void 0, s.ConnectorPosition.End, t.endConnectionPointIndex));\n        }), n;\n      }, t.prototype.canAddShapeFromToolbox = function (t) {\n        return this.requestOperation(new h.AddShapeFromToolboxRequestedEntity(this.apiController, t));\n      }, t.prototype.canChangeConnection = function (t, e, n, i, r) {\n        return !(!t || !this.requestDeleteItems[t.key]) || !(null == e || e instanceof o.Shape) || this.requestOperation(new p.ChangeConnectionRequestedEntity(this.apiController, t, e, n, i, r));\n      }, t.prototype.canChangeConnectorPoints = function (t, e, n) {\n        return !(!t || !this.requestDeleteItems[t.key]) || this.requestOperation(new l.ChangeConnectorPointsRequestedEntity(this.apiController, t, e, n));\n      }, t.prototype.canChangeShapeText = function (t) {\n        return this.requestOperation(new d.BeforeChangeShapeTextRequestedEntity(this.apiController, t));\n      }, t.prototype.canChangeConnectorText = function (t, e) {\n        return this.requestOperation(new f.BeforeChangeConnectorTextRequestedEntity(this.apiController, t, e));\n      }, t.prototype.canApplyShapeTextChange = function (t, e) {\n        return this.requestOperation(new y.ChangeShapeTextRequestedEntity(this.apiController, t, e));\n      }, t.prototype.canApplyConnectorTextChange = function (t, e, n) {\n        return this.requestOperation(new g.ChangeConnectorTextRequestedEntity(this.apiController, t, e, n));\n      }, t.prototype.canResizeShapes = function (t) {\n        var e = this,\n            n = !0;\n        return t.forEach(function (t) {\n          n = n && e.requestOperation(new v.ResizeShapeRequestedEntity(e.apiController, t.shape, t.oldSize, t.size));\n        }), n;\n      }, t.prototype.canMoveShapes = function (t) {\n        var e = this,\n            n = !0;\n        return t.forEach(function (t) {\n          n = n && e.requestOperation(new P.MoveShapeRequestedEntity(e.apiController, t.shape, t.oldPosition, t.position));\n        }), n;\n      }, t.prototype.requestOperation = function (t) {\n        var e,\n            n = !0;\n        if (!this.permissionsLockCount && (this.updateUICount > 0 && this.cache.forEach(function (n) {\n          n.equals(t) && (e = n);\n        }), e ? n = e.allowed : (this.requestOperationCore(t), this.updateUICount > 0 && this.cache.push(t), n = t.allowed), 0 === this.updateUICount && this.storage.needStorePermissions())) return this.storage.storePermission(t.storageKey, n), this.storage.isStoredPermissionsGranted();\n        return n;\n      }, t.prototype.requestOperationCore = function (t) {\n        t.eventArgs.allowed = this.operationSettings[t.settingsKey], t.eventArgs.updateUI = this.updateUICount > 0, t.allowed && this.onRequestOperation.raise(\"notifyRequestOperation\", t.operation, t.eventArgs);\n      }, t.prototype.lockPermissions = function () {\n        this.permissionsLockCount++;\n      }, t.prototype.unlockPermissions = function () {\n        this.permissionsLockCount--;\n      }, t.prototype.beginDeleteItems = function (t) {\n        var e = this;\n        t.forEach(function (t) {\n          return e.requestDeleteItems[t.key] = t;\n        });\n      }, t.prototype.endDeleteItems = function () {\n        this.requestDeleteItems = {};\n      }, t.prototype.beginUpdateUI = function () {\n        this.updateUICount++;\n      }, t.prototype.endUpdateUI = function () {\n        this.updateUICount--;\n      }, t.prototype.addInteractingItem = function (t, e) {\n        this.storage.addInteractingItem(t, e);\n      }, t.prototype.getInteractingItem = function (t, e) {\n        return this.storage.getInteractingItem(t, e);\n      }, t.prototype.getInteractingItemCount = function () {\n        return this.storage.getInteractingItemCount();\n      }, t.prototype.clearInteractingItems = function () {\n        this.storage.clearInteractingItems();\n      }, t.prototype.beginStorePermissions = function () {\n        this.storage.beginStorePermissions();\n      }, t.prototype.endStorePermissions = function () {\n        this.storage.endStorePermissions();\n      }, t.prototype.isStoredPermissionsGranted = function () {\n        return this.permissionsLockCount > 0 || this.storage.isStoredPermissionsGranted();\n      }, t;\n    }();\n\n    e.PermissionsProvider = C;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o243,\n        i = this && this.__extends || (_o243 = function o(t, e) {\n      return (_o243 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o243(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AddShapeEventArgs = e.AddShapeRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.shape = n, o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.AddShape;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeShape(this.shape), this.apiController.convertPoint(this.shape.position));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"addShape\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.shape && this.shape.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shape === t.shape && this.shape.position.equals(t.shape.position);\n      }, e;\n    }(s.RequestedEntity);\n\n    e.AddShapeRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.shape = e, o.position = n, o;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.AddShapeEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o244,\n        i = this && this.__extends || (_o244 = function o(t, e) {\n      return (_o244 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o244(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteShapeEventArgs = e.DeleteShapeRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.shape = n, o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.DeleteShape;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeShape(this.shape));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"deleteShape\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.shape && this.shape.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shape === t.shape;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.DeleteShapeRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.shape = e, n;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.DeleteShapeEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o245,\n        i = this && this.__extends || (_o245 = function o(t, e) {\n      return (_o245 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o245(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.DeleteConnectorEventArgs = e.DeleteConnectorRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.connector = n, o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.DeleteConnector;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeConnector(this.connector));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"deleteConnector\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.connector && this.connector.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.connector === t.connector;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.DeleteConnectorRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.connector = e, n;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.DeleteConnectorEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o246,\n        i = this && this.__extends || (_o246 = function o(t, e) {\n      return (_o246 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o246(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AddShapeFromToolboxEventArgs = e.AddShapeFromToolboxRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.shapeType = n, o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.AddShapeFromToolbox;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.shapeType);\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"addShapeFromToolbox\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + this.shapeType;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shapeType === t.shapeType;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.AddShapeFromToolboxRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.shapeType = e, n;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.AddShapeFromToolboxEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o247,\n        i = this && this.__extends || (_o247 = function o(t, e) {\n      return (_o247 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o247(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectionEventArgs = e.ChangeConnectionRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, e) || this;\n        return a.connector = n, a.shape = o, a.oldShape = i, a.position = r, a.connectionPointIndex = s, a;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.ChangeConnection;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeConnector(this.connector), this.apiController.createNativeShape(this.shape), this.apiController.createNativeShape(this.oldShape), this.position, this.connectionPointIndex);\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"changeConnection\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.connector && this.connector.key) + \"_\" + this.position;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        if (t instanceof e) {\n          var n = !this.connector && !t.connector || this.connector && t.connector && this.connector === t.connector,\n              o = !this.shape && !t.shape || this.shape && t.shape && this.shape === t.shape,\n              i = !this.oldShape && !t.oldShape || this.oldShape && t.oldShape && this.oldShape === t.oldShape;\n          return o && i && n && this.position === t.position && this.connectionPointIndex === t.connectionPointIndex;\n        }\n\n        return !1;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.ChangeConnectionRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n, o, i, r) {\n        var s = t.call(this) || this;\n        return s.connector = e, s.shape = n, s.oldShape = o, s.position = i, s.connectionPointIndex = r, s;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.ChangeConnectionEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o248,\n        i = this && this.__extends || (_o248 = function o(t, e) {\n      return (_o248 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o248(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorPointsEventArgs = e.ChangeConnectorPointsRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = n(3),\n        c = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.connector = n, r.oldPoints = o, r.points = i, r;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.ChangeConnectorPoints;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        var t = this;\n        return new u(this.apiController.createNativeConnector(this.connector), this.oldPoints.map(function (e) {\n          return t.apiController.convertPoint(e);\n        }), this.points.map(function (e) {\n          return t.apiController.convertPoint(e);\n        }));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"changeConnectorPoints\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.connector && this.connector.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.connector === t.connector && a.GeometryUtils.arePointsEqual(this.oldPoints, t.oldPoints) && a.GeometryUtils.arePointsEqual(this.points, t.points);\n      }, e;\n    }(s.RequestedEntity);\n\n    e.ChangeConnectorPointsRequestedEntity = c;\n\n    var u = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connector = e, i.oldPoints = n, i.points = o, i;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.ChangeConnectorPointsEventArgs = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o249,\n        i = this && this.__extends || (_o249 = function o(t, e) {\n      return (_o249 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o249(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.BeforeChangeShapeTextEventArgs = e.BeforeChangeShapeTextRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n) {\n        var o = t.call(this, e) || this;\n        return o.shape = n, o;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.BeforeChangeShapeText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeShape(this.shape));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"changeShapeText\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return \"before\" + this.settingsKey + \"_\" + (this.shape && this.shape.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shape === t.shape && this.shape.text === t.shape.text;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.BeforeChangeShapeTextRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e) {\n        var n = t.call(this) || this;\n        return n.shape = e, n;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.BeforeChangeShapeTextEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o250,\n        i = this && this.__extends || (_o250 = function o(t, e) {\n      return (_o250 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o250(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.BeforeChangeConnectorTextEventArgs = e.BeforeChangeConnectorTextRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.connector = n, i.position = o, i;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.BeforeChangeConnectorText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeConnector(this.connector), this.position, this.connector.texts.map(function (t) {\n          return t;\n        }).sort(function (t, e) {\n          return t.position - e.position;\n        }).indexOf(this.connector.texts.get(this.position)));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"changeConnectorText\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return \"before\" + this.settingsKey + \"_\" + (this.connector && this.connector.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.connector === t.connector && this.position === t.position && this.connector.texts.get(this.position) === t.connector.texts.get(t.position);\n      }, e;\n    }(s.RequestedEntity);\n\n    e.BeforeChangeConnectorTextRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.connector = e, i.position = n, i.index = o, i;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.BeforeChangeConnectorTextEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o251,\n        i = this && this.__extends || (_o251 = function o(t, e) {\n      return (_o251 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o251(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeShapeTextEventArgs = e.ChangeShapeTextRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this, e) || this;\n        return i.shape = n, i.text = o, i;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.ChangeShapeText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeShape(this.shape), this.text);\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"changeShapeText\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.shape && this.shape.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shape === t.shape && this.text === t.text;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.ChangeShapeTextRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n) {\n        var o = t.call(this) || this;\n        return o.shape = e, o.text = n, o;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.ChangeShapeTextEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o252,\n        i = this && this.__extends || (_o252 = function o(t, e) {\n      return (_o252 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o252(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ChangeConnectorTextEventArgs = e.ChangeConnectorTextRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.connector = n, r.position = o, r.text = i, r;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.ChangeConnectorText;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeConnector(this.connector), this.position, this.connector.texts.map(function (t) {\n          return t;\n        }).sort(function (t, e) {\n          return t.position - e.position;\n        }).indexOf(this.connector.texts.get(this.position)), this.text);\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"changeConnectorText\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.connector && this.connector.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.connector === t.connector && this.position === t.position && this.text === t.text;\n      }, e;\n    }(s.RequestedEntity);\n\n    e.ChangeConnectorTextRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this) || this;\n        return r.connector = e, r.position = n, r.index = o, r.text = i, r;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.ChangeConnectorTextEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.PermissionsProviderStorage = void 0;\n\n    var o = n(13),\n        i = n(6),\n        r = function () {\n      function t() {\n        this.interactingItems = {}, this.storedPermissions = {};\n      }\n\n      return t.prototype.addInteractingItem = function (t, e) {\n        var n = this.getInteractingItemKey(t, e);\n        void 0 === this.interactingItems[n] && (t instanceof o.Shape || t instanceof i.Connector) && (this.interactingItems[n] = t.clone());\n      }, t.prototype.getInteractingItem = function (t, e) {\n        var n = this.getInteractingItemKey(t, e);\n        return this.interactingItems[n];\n      }, t.prototype.getInteractingItemCount = function () {\n        return Object.keys(this.interactingItems).length;\n      }, t.prototype.clearInteractingItems = function () {\n        this.interactingItems = {};\n      }, t.prototype.getInteractingItemKey = function (t, e) {\n        return t.key + (void 0 !== e ? \"_\" + e.toString() : \"\");\n      }, t.prototype.needStorePermissions = function () {\n        return this.storePermissions;\n      }, t.prototype.beginStorePermissions = function () {\n        this.storePermissions = !0;\n      }, t.prototype.endStorePermissions = function () {\n        this.storePermissions = !1, this.storedPermissions = {};\n      }, t.prototype.isStoredPermissionsGranted = function () {\n        for (var t = Object.keys(this.storedPermissions), e = !0, n = 0; n < t.length; n++) e = e && this.storedPermissions[t[n]];\n\n        return e;\n      }, t.prototype.storePermission = function (t, e) {\n        this.storedPermissions[t] = e;\n      }, t;\n    }();\n\n    e.PermissionsProviderStorage = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o253,\n        i = this && this.__extends || (_o253 = function o(t, e) {\n      return (_o253 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o253(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ResizeShapeEventArgs = e.ResizeShapeRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.shape = n, r.oldSize = o, r.size = i, r;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.ResizeShape;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeShape(this.shape), this.apiController.convertSize(this.oldSize), this.apiController.convertSize(this.size));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"resizeShape\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.shape && this.shape.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shape === t.shape && this.oldSize.equals(t.oldSize) && this.size.equals(t.size);\n      }, e;\n    }(s.RequestedEntity);\n\n    e.ResizeShapeRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.shape = e, i.oldSize = n, i.size = o, i;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.ResizeShapeEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o254,\n        i = this && this.__extends || (_o254 = function o(t, e) {\n      return (_o254 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o254(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.MoveShapeEventArgs = e.MoveShapeRequestedEntity = void 0;\n\n    var r = n(16),\n        s = n(23),\n        a = function (t) {\n      function e(e, n, o, i) {\n        var r = t.call(this, e) || this;\n        return r.shape = n, r.oldPosition = o, r.position = i, r;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"operation\", {\n        get: function get() {\n          return r.DiagramModelOperation.MoveShape;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.createEventArgs = function () {\n        return new c(this.apiController.createNativeShape(this.shape), this.apiController.convertPoint(this.oldPosition), this.apiController.convertPoint(this.position));\n      }, Object.defineProperty(e.prototype, \"settingsKey\", {\n        get: function get() {\n          return \"moveShape\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"storageKey\", {\n        get: function get() {\n          return this.settingsKey + \"_\" + (this.shape && this.shape.key);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.equals = function (t) {\n        return t instanceof e && this.shape === t.shape && this.oldPosition.equals(t.oldPosition) && this.position.equals(t.position);\n      }, e;\n    }(s.RequestedEntity);\n\n    e.MoveShapeRequestedEntity = a;\n\n    var c = function (t) {\n      function e(e, n, o) {\n        var i = t.call(this) || this;\n        return i.shape = e, i.oldPosition = n, i.position = o, i;\n      }\n\n      return i(e, t), e;\n    }(s.PermissionRequestEventArgs);\n\n    e.MoveShapeEventArgs = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorRoutingModel = e.ConnectorRoutingPenaltyDescription = void 0;\n\n    var o = n(29),\n        i = n(13),\n        r = n(6),\n        s = n(31),\n        a = n(370),\n        c = function () {\n      return function () {\n        this.shape = 20, this.margin = 2, this.turnBack = 20, this.turnLeft = 3.1, this.turnRight = 3;\n      };\n    }();\n\n    e.ConnectorRoutingPenaltyDescription = c;\n\n    var u = function () {\n      function t() {\n        this.connectorRoutingMode = o.ConnectorRoutingMode.AllShapesOnly, this.shapeMargins = r.Connector.minOffset, this.shouldReverseConnections = !0, this.shouldResizeConnections = !0, this.penaltyDescription = new c();\n      }\n\n      return t.prototype.initialize = function (t) {\n        this.model = t;\n      }, t.prototype.createStrategy = function (t) {\n        if (void 0 !== this.model && this.connectorRoutingMode !== o.ConnectorRoutingMode.None && t === s.ConnectorLineOption.Orthogonal) return new a.RightAngleConnectorRoutingStrategy(this);\n      }, t.prototype.getItems = function (t, e) {\n        return this.getShapes(t, e);\n      }, t.prototype.notifyConnectorRoutingModeChanged = function (t) {\n        this.connectorRoutingMode = t;\n      }, t.prototype.getShapes = function (t, e) {\n        return void 0 === this.model || void 0 === this.connectorRoutingMode || this.connectorRoutingMode === o.ConnectorRoutingMode.None ? [] : this.connectorRoutingMode === o.ConnectorRoutingMode.AllShapesOnly ? this.model.items.filter(function (t) {\n          return t instanceof i.Shape;\n        }) : this.getConnectorShapes(t, e);\n      }, t.prototype.getConnectorShapes = function (t, e) {\n        var n = [];\n        return t && n.push(t), e && t !== e && n.push(e), n;\n      }, t;\n    }();\n\n    e.ConnectorRoutingModel = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RightAngleConnectorRoutingStrategy = void 0;\n\n    var o = n(34),\n        i = n(30),\n        r = n(371),\n        s = n(4),\n        a = function () {\n      function t(t) {\n        this.model = t;\n      }\n\n      return t.prototype.createRenderPoints = function (t, e, n, o, i, s, a) {\n        if (e.length > 1) {\n          var c = new r.RightAngleConnectorRoutingContext(this.model, t, e, n, o, i, s);\n          if (c.initialize(a), c.shouldCreateRenderPoints) return this.createRenderPointsCore(c);\n        }\n      }, t.prototype.clone = function () {\n        return new t(this.model);\n      }, t.prototype.onAddPoint = function (t, e, n, r) {\n        var a = r.map(function (t) {\n          return new i.ConnectorRenderPoint(t.x, t.y, t.pointIndex);\n        }),\n            c = s.ModelUtils.findFirstPointIndex(a, function (t) {\n          return t.equals(n);\n        });\n        if (0 === c) return a.splice(1, 0, new i.ConnectorRenderPoint(n.x, n.y, e)), s.ModelUtils.validateRenderPointIndexes(t, a, 2);\n        var u = a.length - 1;\n        if (c === u) return a.splice(u, 0, new i.ConnectorRenderPoint(n.x, n.y, e)), a[u + 1].pointIndex = e + 1, a;\n\n        if (c > 0) {\n          var h = a[c];\n          return a[c] = new i.ConnectorRenderPoint(h.x, h.y, e, h.skipped), s.ModelUtils.validateRenderPointIndexes(t, a, c + 1);\n        }\n\n        var p = new o.Segment(a[0], a[1]),\n            l = new i.ConnectorRenderPoint(n.x, n.y);\n        return p.containsPoint(l) ? (a.splice(1, 0, new i.ConnectorRenderPoint(l.x, l.y, -1)), a.splice(2, 0, new i.ConnectorRenderPoint(l.x, l.y, e)), s.ModelUtils.validateRenderPointIndexes(t, a, 3)) : new o.Segment(a[u - 1], a[u]).containsPoint(l) ? (a.splice(u, 0, new i.ConnectorRenderPoint(l.x, l.y, e)), a.splice(u + 1, 0, new i.ConnectorRenderPoint(l.x, l.y, -1)), a[u + 2].pointIndex = e + 1, a) : r;\n      }, t.prototype.onDeletePoint = function (t, e, n) {\n        var o = n.map(function (t) {\n          return new i.ConnectorRenderPoint(t.x, t.y, t.pointIndex);\n        }),\n            r = this.getRenderPointIndexByPointIndex(o, e);\n\n        if (1 === r) {\n          var a = o[0],\n              c = o[1];\n          return a.equals(c) ? (o.splice(1, 1), s.ModelUtils.validateRenderPointIndexes(t, o, 1)) : (o[1] = new i.ConnectorRenderPoint(c.x, c.y, -1, c.skipped), s.ModelUtils.validateRenderPointIndexes(t, o, 2));\n        }\n\n        if (2 === r) {\n          a = o[1];\n          var u = o[2];\n          return a.equals(u) ? (o.splice(1, 2), s.ModelUtils.validateRenderPointIndexes(t, o, 1)) : (o[2] = new i.ConnectorRenderPoint(u.x, u.y, -1, u.skipped), s.ModelUtils.validateRenderPointIndexes(t, o, 3));\n        }\n\n        var h = o.length - 1;\n\n        if (r === h - 1) {\n          var p = o[h - 1],\n              l = o[h];\n          return p.equals(l) ? (o.splice(h - 1, 1), s.ModelUtils.validateRenderPointIndexes(t, o, h - 1)) : (o[h - 1] = new i.ConnectorRenderPoint(p.x, p.y, -1, p.skipped), s.ModelUtils.validateRenderPointIndexes(t, o, h));\n        }\n\n        if (r === h - 2) {\n          var d = o[h - 2];\n          l = o[h - 1];\n          return d.equals(l) ? (o.splice(h - 2, 2), s.ModelUtils.validateRenderPointIndexes(t, o, h - 2)) : (o[h - 2] = new i.ConnectorRenderPoint(d.x, d.y, -1, d.skipped), s.ModelUtils.validateRenderPointIndexes(t, o, h - 1));\n        }\n\n        var f = o[r];\n        return o[r] = new i.ConnectorRenderPoint(f.x, f.y, -1, f.skipped), s.ModelUtils.validateRenderPointIndexes(t, o, r + 1);\n      }, t.prototype.onMovePoint = function (t, e, n, o) {\n        if (0 === e || e === t.length - 1) return o;\n        var r = o.map(function (t) {\n          return new i.ConnectorRenderPoint(t.x, t.y, t.pointIndex);\n        });\n        return this.onMovePointCore(r, e, n), s.ModelUtils.skipUnnecessaryRightAngleRenderPoints(r), r;\n      }, t.prototype.onMovePoints = function (t, e, n, o, r, a) {\n        if (0 === e || o === t.length - 1) return a;\n        var c = a.map(function (t) {\n          return new i.ConnectorRenderPoint(t.x, t.y, t.pointIndex);\n        });\n        return this.onMovePointCore(c, e, n), this.onMovePointCore(c, o, r), s.ModelUtils.skipUnnecessaryRightAngleRenderPoints(c), c;\n      }, t.prototype.onMovePointCore = function (t, e, n) {\n        var o = this.getRenderPointIndexByPointIndex(t, e);\n\n        if (o >= 0) {\n          var r = t[o];\n          t[o] = new i.ConnectorRenderPoint(n.x, n.y, e, r.skipped);\n        }\n      }, t.prototype.createRenderPointsCore = function (t) {\n        var e,\n            n = [],\n            o = -1,\n            i = -1;\n        t.setup();\n        var r = t.renderSegments,\n            s = r[r.length - 1].endPoint,\n            a = t.points;\n\n        do {\n          this.registerCustomPoints(n, a, i + 2, r[o + 1].startPointIndex - 1), i = (e = r[++o]).startPointIndex, this.registerRenderPoints(n, t.createRoutedPoints(e.startInfo, e.endInfo, e.createProhibitedSegments()), i);\n        } while (!e.endPoint.equals(s));\n\n        return t.validateRenderPoints(n), n;\n      }, t.prototype.getRenderPointIndexByPointIndex = function (t, e) {\n        return s.ModelUtils.findFirstPointIndex(t, function (t) {\n          return t.pointIndex === e;\n        });\n      }, t.prototype.registerRenderPoints = function (t, e, n) {\n        var o = this;\n        e.forEach(function (i, r) {\n          var s = 0 === r ? n : r === e.length - 1 ? n + 1 : -1;\n          o.registerPoint(t, i, s);\n        });\n      }, t.prototype.registerCustomPoints = function (t, e, n, o) {\n        for (var i = n; i <= o; i++) this.registerPoint(t, e[i], i);\n      }, t.prototype.registerPoint = function (t, e, n) {\n        t.push(new i.ConnectorRenderPoint(e.x, e.y, n));\n      }, t;\n    }();\n\n    e.RightAngleConnectorRoutingStrategy = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RightAngleConnectorRoutingContext = e.IntersectingItemsByPointsContext = e.CuttingItemsContext = void 0;\n\n    var o = n(1),\n        i = n(34),\n        r = n(58),\n        s = n(9),\n        a = n(159),\n        c = n(372),\n        u = n(374),\n        h = n(4),\n        p = n(160),\n        l = n(375),\n        d = n(379),\n        f = n(3),\n        y = function () {\n      function t() {\n        this.cuttingItemKeys = [];\n      }\n\n      return Object.defineProperty(t.prototype, \"isEmpty\", {\n        get: function get() {\n          return 0 === this.cuttingItemKeys.length;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.registerShape = function (t, e, n) {\n        return !!f.GeometryUtils.areSegmentsCutRectangle(n, e) && (this.cuttingItemKeys.push(t), !0);\n      }, t;\n    }();\n\n    e.CuttingItemsContext = y;\n\n    var g = function () {\n      function t() {\n        this.items = {};\n      }\n\n      return t.prototype.getOrAddItems = function (t, e) {\n        if (t) {\n          var n = t.toString(),\n              o = this.items[n];\n          if (void 0 !== o) return o.items;\n\n          if (e) {\n            var i = e(t);\n            return this.items[n] = {\n              point: t,\n              items: i\n            }, i;\n          }\n        }\n      }, t;\n    }();\n\n    e.IntersectingItemsByPointsContext = g;\n\n    var m = function () {\n      function t(t, e, n, o, i, r, s) {\n        this.routingModel = t, this.points = e, this.supportRenderPoints = n, this.beginConnectionShape = o, this.endConnectionShape = i, this.beginConnectionSide = this.getConnectionSide(this.beginConnectionShape, r, this.beginPoint), this.endConnectionSide = this.getConnectionSide(this.endConnectionShape, s, this.endPoint), this.ignorableItemKeys = {}, this.cuttingShapesContext = new y(), this.intersectedItemsByPointsContext = new g(), this.isInvalidRenderSegments = !0;\n      }\n\n      return Object.defineProperty(t.prototype, \"shapeMargins\", {\n        get: function get() {\n          return this.routingModel.shapeMargins;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"beginPoint\", {\n        get: function get() {\n          return this.points[0];\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"endPoint\", {\n        get: function get() {\n          return this.points[this.points.length - 1];\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"hasIntersecting\", {\n        get: function get() {\n          return !this.cuttingShapesContext.isEmpty;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"shouldCreateRenderPoints\", {\n        get: function get() {\n          return this.isInvalidRenderSegments || !this.isSmallPath && (this.hasIntersecting || this.isReversedStartConnection || this.isReversedEndConnection);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"beginPathPoint\", {\n        get: function get() {\n          return this.beginConnectionSegment instanceof i.Segment ? this.beginConnectionSegment.startPoint : this.beginConnectionSegment;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"endPathPoint\", {\n        get: function get() {\n          return this.endConnectionSegment instanceof i.Segment ? this.endConnectionSegment.endPoint : this.endConnectionSegment;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"isReversedStartConnection\", {\n        get: function get() {\n          if (!this.beginConnectionShape || this.beginConnectionSide === s.ConnectionPointSide.Undefined) return !1;\n          var t = this.beginConnectionSegment;\n          return !(t instanceof o.Point) && this.isReversedConnectionSegment(this.supportSegments[0], t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"isReversedEndConnection\", {\n        get: function get() {\n          if (!this.endConnectionShape || this.endConnectionSide === s.ConnectionPointSide.Undefined) return !1;\n          var t = this.endConnectionSegment;\n          return !(t instanceof o.Point) && this.isReversedConnectionSegment(this.supportSegments[this.supportSegments.length - 1], t);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.isReversedConnectionSegment = function (t, e) {\n        return r.Vector.scalarProduct(r.Vector.fromSegment(t), r.Vector.fromPoints(e.startPoint, e.endPoint)) <= 0;\n      }, Object.defineProperty(t.prototype, \"isSmallPath\", {\n        get: function get() {\n          var t = 2 * this.routingModel.shapeMargins;\n          return Math.abs(this.beginPathPoint.x - this.endPathPoint.x) < t && Math.abs(this.beginPathPoint.y - this.endPathPoint.y) < t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.initialize = function (t) {\n        this.processContainers(t), this.processSupportSegments(), this.processIntersection(), this.processConnections(), this.processRenderSegments();\n      }, t.prototype.setup = function () {\n        this.processRoutingGrid(), this.processRoutingMetrics();\n      }, t.prototype.createRoutedPoints = function (t, e, n) {\n        var i = t instanceof o.Point ? t : t.endPoint,\n            r = e instanceof o.Point ? e : e.startPoint,\n            s = this.createAStarContext(i, r, n);\n        d.AStarCalculator.calculate(s);\n        var c = s.path;\n        return this.addConnectionRoutedPoints(c, t, e), a.RightAngleConnectorRoutingMathOperations.unionPoints(c), c;\n      }, t.prototype.getIntersectedItems = function (t, e) {\n        var n = this;\n        return this.intersectedItemsByPointsContext.getOrAddItems(t, function (t) {\n          return n.routingModel.getItems(n.beginConnectionShape, n.endConnectionShape).filter(function (o) {\n            return !n.isIgnorableItem(o) && e(t, o);\n          });\n        });\n      }, t.prototype.validateRenderPoints = function (t) {\n        this.isInvalidRenderSegments && (a.RightAngleConnectorRoutingMathOperations.unionPoints(t), h.ModelUtils.validateRenderPointIndexes(this.points, t, 0)), h.ModelUtils.skipUnnecessaryRightAngleRenderPoints(t);\n      }, t.prototype.processContainers = function (t) {\n        if (t && this.registerIgnorableShape(t), this.beginConnectionShape) {\n          var e = this.beginConnectionShape.container;\n          e && this.registerIgnorableShape(e);\n        }\n\n        if (this.endConnectionShape) {\n          var n = this.endConnectionShape.container;\n          n && this.registerIgnorableShape(n);\n        }\n      }, t.prototype.processSupportSegments = function () {\n        this.supportSegments = this.createSupportSegments();\n      }, t.prototype.processIntersection = function () {\n        var t = this,\n            e = this.routingModel.getItems(this.beginConnectionShape, this.endConnectionShape);\n        e && e.forEach(function (e) {\n          var n = e.key,\n              o = e.rectangle;\n          t.cuttingShapesContext.registerShape(n, o, t.supportSegments) ? void 0 !== t.ignorableItemKeys[n] && delete t.ignorableItemKeys[n] : (!t.isConnectedByStart(e) && o.containsPoint(t.beginPoint) || !t.isConnectedByEnd(e) && o.containsPoint(t.endPoint)) && t.registerIgnorableShape(e);\n        });\n      }, t.prototype.processConnections = function () {\n        var t = !1,\n            e = !1;\n        this.beginConnectionShape !== this.endConnectionShape && (t = this.shapeContainsOtherConnection(this.beginConnectionShape, this.endConnectionShape, this.endPoint), e = this.shapeContainsOtherConnection(this.endConnectionShape, this.beginConnectionShape, this.beginPoint), t && this.registerIgnorableShape(this.beginConnectionShape), e && this.registerIgnorableShape(this.endConnectionShape));\n        var n = this.routingModel.shapeMargins;\n        this.beginConnectionSegment = this.createBeginConnectionSegment(n, t), this.endConnectionSegment = this.createEndConnectionSegment(n, e);\n      }, t.prototype.processRenderSegments = function () {\n        this.isInvalidRenderSegments = !1, this.renderSegments = this.createRenderSegments();\n\n        for (var t = 0; t < this.renderSegments.length - 1; t++) {\n          var e = this.renderSegments[t],\n              n = this.renderSegments[t + 1];\n          if (e.endPoint.equals(n.startPoint)) return void (this.isInvalidRenderSegments = !0);\n        }\n      }, t.prototype.createGridPoints = function () {\n        var t = [];\n        return this.renderSegments.forEach(function (e) {\n          return e.createGridPoints().forEach(function (e) {\n            return t.push(e);\n          });\n        }), t;\n      }, t.prototype.processRoutingGrid = function () {\n        this.routingGrid = this.createGrid();\n      }, t.prototype.processRoutingMetrics = function () {\n        this.metrics = this.createAStarMetrics();\n      }, t.prototype.createAStarMetrics = function () {\n        return new p.AStarMetrics(new p.TurnDirectionMetrics(this.routingModel.penaltyDescription), new p.IntersectedShapesMetrics(new p.IntersectedShapeMetrics(this.routingModel.penaltyDescription, this.routingModel.shapeMargins)));\n      }, t.prototype.createAStarContext = function (t, e, n) {\n        return new l.AStarContext(this, t, e, n, this.routingGrid, this.metrics);\n      }, t.prototype.addConnectionRoutedPoints = function (t, e, n) {\n        e instanceof i.Segment && t.splice(0, 0, e.startPoint), n instanceof i.Segment && t.push(n.endPoint);\n      }, t.prototype.createSupportSegments = function () {\n        var t = this;\n        return this.supportRenderPoints.length <= 1 ? [] : f.GeometryUtils.createSegments(this.supportRenderPoints).filter(function (e) {\n          return !t.isCustomSegment(e, t.supportRenderPoints[0], t.supportRenderPoints[t.supportRenderPoints.length - 1]);\n        });\n      }, t.prototype.isCustomSegment = function (t, e, n) {\n        var o = t.startPoint;\n        if (o.equals(e)) return !1;\n        var i = t.endPoint;\n        return !i.equals(n) && i.pointIndex - o.pointIndex == 1;\n      }, t.prototype.createRenderSegments = function () {\n        var t = this,\n            e = a.RightAngleConnectorRoutingMathOperations.createUnionSegments(this.supportSegments, function (e, n) {\n          return t.shouldCreateSegment(e, n);\n        }),\n            n = e.length - 1;\n        return e.map(function (e, i) {\n          return new c.ConnectorRenderSegment(i > 0 ? new o.Point(e.startPoint.x, e.startPoint.y) : t.beginConnectionSegment, i < n ? new o.Point(e.endPoint.x, e.endPoint.y) : t.endConnectionSegment, e.startPoint.pointIndex, t.createPreviousCustomSegment(e.startPoint));\n        });\n      }, t.prototype.createPreviousCustomSegment = function (t) {\n        var e = t.pointIndex - 1;\n        return e >= 0 ? new i.Segment(this.points[e].clone(), new o.Point(t.x, t.y)) : void 0;\n      }, t.prototype.shouldCreateSegment = function (t, e) {\n        return !t.equals(e) || e.pointIndex > 0;\n      }, t.prototype.isPathNormal = function (t) {\n        return t === s.ConnectionPointSide.Undefined || a.RightAngleConnectorRoutingMathOperations.isSegmentNormal(new i.Segment(this.beginPoint, this.endPoint), t === s.ConnectionPointSide.East || t === s.ConnectionPointSide.West);\n      }, t.prototype.registerIgnorableShape = function (t) {\n        this.ignorableItemKeys[t.key] = !0;\n      }, t.prototype.isConnectedByStart = function (t) {\n        return this.beginConnectionShape && this.beginConnectionShape.key === t.key && this.beginConnectionSide !== s.ConnectionPointSide.Undefined;\n      }, t.prototype.isConnectedByEnd = function (t) {\n        return this.endConnectionShape && this.endConnectionShape.key === t.key && this.endConnectionSide !== s.ConnectionPointSide.Undefined;\n      }, t.prototype.getConnectionSide = function (t, e, n) {\n        return t ? t.getConnectionPointSideByIndex(e, n) : s.ConnectionPointSide.Undefined;\n      }, t.prototype.shapeContainsOtherConnection = function (t, e, n) {\n        if (!t) return !1;\n        var o = t.rectangle;\n        return o.containsPoint(n) && (!e || !e.rectangle.equals(o));\n      }, t.prototype.createBeginConnectionSegment = function (t, e) {\n        if (this.beginConnectionSide === s.ConnectionPointSide.Undefined) return this.createBeginConnectionSegmentCore(t);\n\n        if (!e || !this.routingModel.shouldReverseConnections) {\n          var n = this.createBeginConnectionSegmentCore(t);\n          if (n instanceof o.Point || !this.routingModel.shouldResizeConnections) return n;\n\n          for (var i = n.startPoint, r = n.endPoint, a = t; this.hasIntersectedItemsByPoint(r, i, this.beginConnectionShape);) a /= 2, r = (n = this.createBeginConnectionSegmentCore(a)).endPoint;\n\n          return n;\n        }\n\n        if (!this.endConnectionShape) return this.createBeginConnectionSegmentCore(-t);\n        if (this.isPathNormal(this.endConnectionSide)) return this.createBeginConnectionSegmentCore(-t);\n        var c = this.createBeginConnectionSegmentCore(-2 * t);\n        return this.isEndConnectionRectanleLineIntersected(c, !1, !0) ? this.createBeginConnectionSegmentCore(t) : this.createBeginConnectionSegmentCore(-t);\n      }, t.prototype.hasIntersectedItemsByPoint = function (t, e, n) {\n        var o = this.getIntersectedItems(t, function (t, o) {\n          return o.rectangle.containsPoint(t) && !o.rectangle.containsPoint(e) && o.key !== n.key;\n        });\n        return void 0 !== o && o.length > 0;\n      }, t.prototype.createEndConnectionSegment = function (t, e) {\n        if (this.endConnectionSide === s.ConnectionPointSide.Undefined) return this.createEndConnectionSegmentCore(t);\n\n        if (!e || !this.routingModel.shouldReverseConnections) {\n          var n = this.createEndConnectionSegmentCore(t);\n          if (n instanceof o.Point || !this.routingModel.shouldResizeConnections) return n;\n\n          for (var i = n.endPoint, r = n.startPoint, a = t; this.hasIntersectedItemsByPoint(r, i, this.endConnectionShape);) a /= 2, r = (n = this.createEndConnectionSegmentCore(a)).startPoint;\n\n          return n;\n        }\n\n        if (!this.beginConnectionShape) return this.createEndConnectionSegmentCore(-t);\n        if (this.isPathNormal(this.beginConnectionSide)) return this.createEndConnectionSegmentCore(-t);\n        var c = this.createEndConnectionSegmentCore(-2 * t);\n        return this.isBeginConnectionRectanleLineIntersected(c, !0, !1) ? this.createEndConnectionSegmentCore(t) : this.createEndConnectionSegmentCore(-t);\n      }, t.prototype.createBeginConnectionSegmentCore = function (t) {\n        return a.RightAngleConnectorRoutingMathOperations.createBeginConnectionSegment(this.beginConnectionSide, this.beginPoint, t, function (t, e) {\n          return new o.Point(t, e);\n        });\n      }, t.prototype.createEndConnectionSegmentCore = function (t) {\n        return a.RightAngleConnectorRoutingMathOperations.createEndConnectionSegment(this.endConnectionSide, this.endPoint, t, function (t, e) {\n          return new o.Point(t, e);\n        });\n      }, t.prototype.isBeginConnectionRectanleLineIntersected = function (t, e, n) {\n        return a.RightAngleConnectorRoutingMathOperations.isConnectionRectanleLineIntersected(this.beginConnectionShape.rectangle, t, this.beginConnectionSide, e, n, function (t, e) {\n          return new o.Point(t, e);\n        });\n      }, t.prototype.isEndConnectionRectanleLineIntersected = function (t, e, n) {\n        return a.RightAngleConnectorRoutingMathOperations.isConnectionRectanleLineIntersected(this.endConnectionShape.rectangle, t, this.endConnectionSide, e, n, function (t, e) {\n          return new o.Point(t, e);\n        });\n      }, t.prototype.isIgnorableItem = function (t) {\n        return void 0 !== this.ignorableItemKeys[t.key];\n      }, t.prototype.createExtendedShapesBounds = function () {\n        var t = this;\n        return this.routingModel.getItems(this.beginConnectionShape, this.endConnectionShape).map(function (e) {\n          return e.rectangle.clone().inflate(t.routingModel.shapeMargins);\n        });\n      }, t.prototype.createGrid = function () {\n        return u.RoutingGrid.create(this.createGridPoints(), this.createExtendedShapesBounds(), function (t, e) {\n          return new o.Point(t, e);\n        });\n      }, t;\n    }();\n\n    e.RightAngleConnectorRoutingContext = m;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorRenderSegment = void 0;\n\n    var o = n(34),\n        i = n(373),\n        r = function () {\n      function t(t, e, n, o) {\n        this.startInfo = t, this.endInfo = e, this.startPointIndex = n, this.previousCustomSegment = o;\n      }\n\n      return Object.defineProperty(t.prototype, \"startPathPoint\", {\n        get: function get() {\n          return this.startInfo instanceof o.Segment ? this.startInfo.endPoint : this.startInfo;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"endPathPoint\", {\n        get: function get() {\n          return this.endInfo instanceof o.Segment ? this.endInfo.startPoint : this.endInfo;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"startPoint\", {\n        get: function get() {\n          return this.startInfo instanceof o.Segment ? this.startInfo.startPoint : this.startInfo;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"endPoint\", {\n        get: function get() {\n          return this.endInfo instanceof o.Segment ? this.endInfo.endPoint : this.endInfo;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.createGridPoints = function () {\n        var t = [];\n        return this.endInfo instanceof o.Segment ? (t.push(this.endInfo.startPoint), t.push(this.endInfo.endPoint)) : t.push(this.endInfo), t;\n      }, t.prototype.createProhibitedSegments = function () {\n        if (this.startInfo instanceof o.Segment) {\n          var t = this.createProhibitedSegmentsCore(this.startInfo);\n          return this.endInfo instanceof o.Segment && (t.addSegment(this.endInfo), t.addExludedPoint(this.endInfo.startPoint)), this.previousCustomSegment && t.addSegment(this.previousCustomSegment), t;\n        }\n\n        return this.endInfo instanceof o.Segment ? ((t = this.createProhibitedSegmentsCore(this.endInfo)).addExludedPoint(this.endInfo.startPoint), this.previousCustomSegment && t.addSegment(this.previousCustomSegment), t) : this.previousCustomSegment ? this.createProhibitedSegmentsCore(this.previousCustomSegment) : void 0;\n      }, t.prototype.createProhibitedSegmentsCore = function (t) {\n        var e = new i.ConnectorProhibitedSegments();\n        return e.addSegment(t), e;\n      }, t;\n    }();\n\n    e.ConnectorRenderSegment = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ConnectorProhibitedSegments = void 0;\n\n    var o = function () {\n      function t() {\n        this.segments = [], this.exludedPoints = {};\n      }\n\n      return t.prototype.addSegment = function (t) {\n        this.segments.push(t);\n      }, t.prototype.addExludedPoint = function (t) {\n        this.exludedPoints[t.toString()] = t;\n      }, t.prototype.allowPoint = function (t) {\n        if (void 0 === this.exludedPoints[t.toString()]) for (var e = 0; e < this.segments.length; e++) if (this.segments[e].containsPoint(t)) return !1;\n        return !0;\n      }, t;\n    }();\n\n    e.ConnectorProhibitedSegments = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RoutingGrid = void 0;\n\n    var o = n(42),\n        i = function () {\n      function t(t, e, n) {\n        this.verticalGridLines = t, this.horizontalGridLines = e, this.createPoint = n;\n      }\n\n      return t.create = function (e, n, o) {\n        var i = this,\n            r = [],\n            s = [],\n            a = {},\n            c = {};\n        return n.forEach(function (t) {\n          i.addLine(t.x, r, a), i.addLine(t.right, r, a), i.addLine(t.y, s, c), i.addLine(t.bottom, s, c);\n        }), e.forEach(function (t) {\n          i.addLine(t.x, r, a), i.addLine(t.y, s, c);\n        }), r.sort(function (t, e) {\n          return t - e;\n        }), s.sort(function (t, e) {\n          return t - e;\n        }), new t(r, s, o);\n      }, t.addLine = function (t, e, n) {\n        n[t] || (e.push(t), n[t] = !0);\n      }, t.prototype.getNeighborPoints = function (t) {\n        var e = [];\n        if (!(this.horizontalGridLines && this.horizontalGridLines.length && this.verticalGridLines && this.verticalGridLines.length)) return e;\n        var n = o.SearchUtils.binaryIndexOf(this.verticalGridLines, function (e) {\n          return e - t.x;\n        });\n        n < 0 ? (n = ~n, this.isValidArrayIndex(this.verticalGridLines, n) && e.push(this.createPoint(this.verticalGridLines[n], t.y))) : this.isValidArrayIndex(this.verticalGridLines, n + 1) && e.push(this.createPoint(this.verticalGridLines[n + 1], t.y)), this.isValidArrayIndex(this.verticalGridLines, n - 1) && e.push(this.createPoint(this.verticalGridLines[n - 1], t.y));\n        var i = o.SearchUtils.binaryIndexOf(this.horizontalGridLines, function (e) {\n          return e - t.y;\n        });\n        return i < 0 ? (i = ~i, this.isValidArrayIndex(this.horizontalGridLines, i) && e.push(this.createPoint(t.x, this.horizontalGridLines[i]))) : this.isValidArrayIndex(this.horizontalGridLines, i + 1) && e.push(this.createPoint(t.x, this.horizontalGridLines[i + 1])), this.isValidArrayIndex(this.horizontalGridLines, i - 1) && e.push(this.createPoint(t.x, this.horizontalGridLines[i - 1])), e;\n      }, t.prototype.isValidArrayIndex = function (t, e) {\n        return t && e >= 0 && e < t.length;\n      }, t;\n    }();\n\n    e.RoutingGrid = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o255,\n        i = this && this.__extends || (_o255 = function o(t, e) {\n      return (_o255 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o255(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AStarContext = e.AStarContextBase = void 0;\n\n    var r = n(376),\n        s = n(377),\n        a = n(378),\n        c = n(34),\n        u = n(159),\n        h = n(3),\n        p = function () {\n      function t(t, e, n) {\n        this.startPosition = t, this.targetPosition = e, this.maxStepsCount = n, this.prohibitedPoints = {};\n      }\n\n      return Object.defineProperty(t.prototype, \"shouldStartContinue\", {\n        get: function get() {\n          return this.updatableSet.count > 0 && this.stepsCount < this.maxStepsCount;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"shouldFinish\", {\n        get: function get() {\n          return this.currentNode.position.equals(this.targetPosition);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.start = function () {\n        this.generalSet = new r.SortedQueues(function (t) {\n          return t.key;\n        }), this.updatableSet = new s.UniqueAStarNodePositions();\n        var t = new a.AStarNode(this.startPosition, this.getDistance(this.startPosition, this.targetPosition));\n        this.currentNode = t, this.generalSet.enqueue(t), this.updatableSet.add(t.position, t), this.stepsCount = 0, this.openNode = void 0;\n      }, t.prototype.startContinue = function () {\n        this.currentNode = this.generalSet.dequeueMin();\n      }, t.prototype.endContinue = function () {\n        var t = this,\n            e = this.currentNode.position;\n        this.updatableSet.remove(e), this.addProhibitedPoint(e), this.getNeighborPoints(e).forEach(function (e) {\n          var n = t.getPenalty(t.currentNode, e),\n              o = t.updatableSet.getNode(e);\n          if (void 0 === o) (o = new a.AStarNode(e, t.getDistance(e, t.targetPosition))).parent = t.currentNode, o.penalty = n, t.generalSet.enqueue(o), t.updatableSet.add(e, o);else if (o.penalty > n) {\n            var i = t.generalSet;\n            i.remove(o), o.parent = t.currentNode, o.penalty = n, i.enqueue(o);\n          }\n          t.openNode = o;\n        }), this.stepsCount++;\n      }, t.prototype.finishWithPath = function () {\n        this.path = this.currentNode.getPath();\n      }, t.prototype.finishWithoutPath = function () {\n        this.path = [];\n      }, t;\n    }();\n\n    e.AStarContextBase = p;\n\n    var l = function (t) {\n      function e(e, n, o, i, r, s) {\n        var a = t.call(this, n, o, 1e4) || this;\n        return a.routingContext = e, a.startPosition = n, a.targetPosition = o, a.prohibitedSegments = i, a.grid = r, a.metrics = s, a;\n      }\n\n      return i(e, t), e.prototype.addProhibitedPoint = function (t) {\n        this.prohibitedPoints[t.toString()] = t;\n      }, e.prototype.getNeighborPoints = function (t) {\n        var e = this;\n        return this.grid.getNeighborPoints(t).filter(function (t) {\n          return e.allowPoint(t);\n        });\n      }, e.prototype.getDistance = function (t, e) {\n        return this.metrics.distance(t, e);\n      }, e.prototype.getPenalty = function (t, e) {\n        var n = t.parent,\n            o = t.position,\n            i = this.getTurnDirection(n ? h.GeometryUtils.createAngle(n.position, o, e) : 0),\n            r = this.getDistance(o, e),\n            s = new c.Segment(o, e).center;\n        return t.penalty + this.metrics.penalty(r, s, i, this.getIntersectedItems(s));\n      }, e.prototype.allowPoint = function (t) {\n        return void 0 === this.prohibitedPoints[t.toString()] && (!this.prohibitedSegments || this.prohibitedSegments.allowPoint(t));\n      }, e.prototype.getTurnDirection = function (t) {\n        return u.RightAngleConnectorRoutingMathOperations.getTurnDirection(t);\n      }, e.prototype.getIntersectedItems = function (t) {\n        var e = this,\n            n = this.routingContext.shapeMargins;\n        return this.routingContext.getIntersectedItems(t, function (t, o) {\n          return e.hasIntersectedItem(t, o, n);\n        });\n      }, e.prototype.hasIntersectedItem = function (t, e, n) {\n        return !!this.isIntersectedWithExtendedRectangle(t, e, n) && (!!this.hasOneShapeConnection(e) || !this.itemContainsConnectionPoints(e));\n      }, e.prototype.isIntersectedWithExtendedRectangle = function (t, e, n) {\n        return e.rectangle.clone().inflate(n).containsPoint(t);\n      }, e.prototype.itemContainsConnectionPoints = function (t) {\n        var e = t.rectangle;\n        return e.containsPoint(this.routingContext.beginPoint) && e.containsPoint(this.routingContext.endPoint);\n      }, e.prototype.hasOneShapeConnection = function (t) {\n        var e = t.getConnectionPoints();\n        return this.isConnectionPoint(e, this.routingContext.beginPoint) && this.isConnectionPoint(e, this.routingContext.endPoint);\n      }, e.prototype.isConnectionPoint = function (t, e) {\n        return t.filter(function (t) {\n          return t.equals(e);\n        }).length > 0;\n      }, e;\n    }(p);\n\n    e.AStarContext = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.SortedQueues = void 0;\n\n    var o = n(42),\n        i = function () {\n      function t(t) {\n        this.getKey = t, this._itemsArrays = {}, this._sortedKeys = [];\n      }\n\n      return Object.defineProperty(t.prototype, \"sortedKeys\", {\n        get: function get() {\n          return this._sortedKeys;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getQueue = function (t) {\n        return this._itemsArrays[t];\n      }, t.prototype.enqueue = function (t) {\n        var e = this.getKey(t);\n        void 0 === this._itemsArrays[e] ? (this._itemsArrays[e] = [t], this.addSortedKey(e)) : this._itemsArrays[e].push(t);\n      }, t.prototype.remove = function (t) {\n        var e = this.getKey(t),\n            n = this._itemsArrays[e];\n        void 0 !== n && (n.length ? n[0] === t ? (n.shift(), n.length || this.removeCore(e)) : this._itemsArrays[e] = n.filter(function (e) {\n          return e !== t;\n        }) : this.removeCore(e));\n      }, t.prototype.dequeueMin = function () {\n        if (this._sortedKeys.length) {\n          var t = this._sortedKeys[0],\n              e = this._itemsArrays[t],\n              n = e.shift();\n          return e.length || this.removeCore(t), n;\n        }\n      }, t.prototype.removeCore = function (t) {\n        delete this._itemsArrays[t], this.removeSortedKey(t);\n      }, t.prototype.removeSortedKey = function (t) {\n        var e = o.SearchUtils.binaryIndexOf(this._sortedKeys, function (e) {\n          return e - t;\n        });\n        e >= 0 && this.sortedKeys.splice(e, 1);\n      }, t.prototype.addSortedKey = function (t) {\n        var e = o.SearchUtils.binaryIndexOf(this._sortedKeys, function (e) {\n          return e - t;\n        });\n        e < 0 && this._sortedKeys.splice(-(e + 1), 0, t);\n      }, t;\n    }();\n\n    e.SortedQueues = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.UniqueAStarNodePositions = void 0;\n\n    var o = function () {\n      function t(t) {\n        void 0 === t && (t = function t(_t) {\n          return _t.toString();\n        }), this.getKey = t, this.items = {};\n      }\n\n      return Object.defineProperty(t.prototype, \"count\", {\n        get: function get() {\n          return Object.keys(this.items).length;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getNode = function (t) {\n        var e = this.items[this.getKey(t)];\n        return void 0 !== e ? e.node : void 0;\n      }, t.prototype.add = function (t, e) {\n        var n = this.getKey(t);\n        void 0 === this.items[n] && (this.items[n] = {\n          position: t,\n          node: e\n        });\n      }, t.prototype.remove = function (t) {\n        var e = this.getKey(t);\n        void 0 !== this.items[e] && delete this.items[e];\n      }, t;\n    }();\n\n    e.UniqueAStarNodePositions = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AStarNode = void 0;\n\n    var o = function () {\n      function t(t, e) {\n        this.position = t, this.distance = e, this.penalty = 0;\n      }\n\n      return Object.defineProperty(t.prototype, \"key\", {\n        get: function get() {\n          return this.distance + this.penalty;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.getPath = function () {\n        for (var t = [], e = this; void 0 !== e;) t.splice(0, 0, e.position), e = e.parent;\n\n        return t;\n      }, t;\n    }();\n\n    e.AStarNode = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.AStarCalculator = void 0;\n\n    var o = function () {\n      function t() {}\n\n      return t.calculate = function (t) {\n        if (t) for (var e = this.start(t); e;) e = e(t);\n      }, t.start = function (e) {\n        return e.start(), e.shouldStartContinue ? t.startContinue : t.finishWithPath;\n      }, t.startContinue = function (e) {\n        return e.startContinue(), e.shouldFinish ? t.finishWithPath : t.endContinue;\n      }, t.endContinue = function (e) {\n        return e.endContinue(), e.shouldStartContinue ? t.startContinue : t.finishWithoutPath;\n      }, t.finishWithPath = function (t) {\n        t.finishWithPath();\n      }, t.finishWithoutPath = function (t) {\n        t.finishWithoutPath();\n      }, t;\n    }();\n\n    e.AStarCalculator = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ReloadContentParameters = void 0;\n\n    var o = function () {\n      function t() {\n        this.isEmpty = !0;\n      }\n\n      return t.prototype.add = function (t, e, n) {\n        void 0 !== t && (void 0 === this._dataKeys && (this._dataKeys = []), Array.isArray(t) ? this._dataKeys = this._dataKeys.concat(t) : this._dataKeys.push(t)), this._getData = this._getData || e, this._layoutParameters = this._layoutParameters || n, this.isEmpty = !1;\n      }, t.prototype.clear = function () {\n        this.isEmpty = !0, this._dataKeys = void 0, this._getData = void 0, this._layoutParameters = void 0;\n      }, Object.defineProperty(t.prototype, \"empty\", {\n        get: function get() {\n          return this.isEmpty;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"dataKeys\", {\n        get: function get() {\n          return this._dataKeys;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"getData\", {\n        get: function get() {\n          return this._getData;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"layoutParameters\", {\n        get: function get() {\n          return this._layoutParameters;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t;\n    }();\n\n    e.ReloadContentParameters = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o256,\n        i = this && this.__extends || (_o256 = function o(t, e) {\n      return (_o256 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o256(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToolboxTouchDragEventsHandler = void 0;\n\n    var r = n(3),\n        s = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"downEventName\", {\n        get: function get() {\n          return \"touchstart\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"moveEventName\", {\n        get: function get() {\n          return \"touchmove\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"upEventName\", {\n        get: function get() {\n          return \"touchend\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.attach = function (e) {\n        t.prototype.attach.call(this, e), this.onElementTouchMoveHandler = this.onElementTouchMove.bind(this), this.onSelectionChangeHandler = this.onSelectionChange.bind(this), e.mainElement.addEventListener(this.moveEventName, this.onElementTouchMoveHandler), e.mainElement.addEventListener(\"selectionchange\", this.onSelectionChangeHandler);\n      }, e.prototype.detach = function () {\n        this.manager.mainElement.removeEventListener(this.moveEventName, this.onElementTouchMoveHandler), this.manager.mainElement.removeEventListener(\"selectionchange\", this.onSelectionChangeHandler), t.prototype.detach.call(this);\n      }, e.prototype.onDownCore = function (t) {\n        r.HtmlFocusUtils.focusWithPreventScroll(this.manager.mainElement), this.manager.startTouchDragging();\n      }, e.prototype.onElementTouchMove = function (t) {\n        this.manager.draggingObject && t.preventDefault();\n      }, e.prototype.onSelectionChange = function () {}, e;\n    }(n(105).ToolboxDragEventsHandlerBase);\n\n    e.ToolboxTouchDragEventsHandler = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o257,\n        i = this && this.__extends || (_o257 = function o(t, e) {\n      return (_o257 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o257(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToolboxPointerDragEventsHandler = void 0;\n\n    var r = n(24),\n        s = n(105),\n        a = n(161),\n        c = n(3),\n        u = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"downEventName\", {\n        get: function get() {\n          return \"pointerdown\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"moveEventName\", {\n        get: function get() {\n          return \"pointermove\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"upEventName\", {\n        get: function get() {\n          return \"pointerup\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.isTouchEvent = function (t) {\n        return this.isTouchUIEnabled || \"mouse\" !== t.pointerType;\n      }, e.prototype.attach = function (e) {\n        t.prototype.attach.call(this, e), this.onDragStartHandler = this.onDragStart.bind(this), e.mainElement.addEventListener(\"dragstart\", this.onDragStartHandler), r.DomUtils.addClassName(e.mainElement, a.TOUCH_ACTION_NONE);\n      }, e.prototype.detach = function () {\n        this.manager.mainElement.removeEventListener(\"dragstart\", this.onDragStartHandler), r.DomUtils.removeClassName(this.manager.mainElement, a.TOUCH_ACTION_NONE), t.prototype.detach.call(this);\n      }, e.prototype.onDownCore = function (t) {\n        c.HtmlFocusUtils.focusWithPreventScroll(this.manager.mainElement), this.isTouchEvent(t) && this.manager.startTouchDragging();\n      }, e.prototype.onDragStart = function (t) {\n        this.manager.startDragging(), t.preventDefault();\n      }, e;\n    }(s.ToolboxDragEventsHandlerBase);\n\n    e.ToolboxPointerDragEventsHandler = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o258,\n        i = this && this.__extends || (_o258 = function o(t, e) {\n      return (_o258 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o258(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.ToolboxMouseDragEventsHandler = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"downEventName\", {\n        get: function get() {\n          return \"mousedown\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"moveEventName\", {\n        get: function get() {\n          return \"mousemove\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"upEventName\", {\n        get: function get() {\n          return \"mouseup\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.isTouchEvent = function (t) {\n        return this.isTouchUIEnabled;\n      }, e.prototype.attach = function (e) {\n        t.prototype.attach.call(this, e), this.onDragStartHandler = this.onDragStart.bind(this), e.mainElement.addEventListener(\"dragstart\", this.onDragStartHandler);\n      }, e.prototype.detach = function () {\n        this.manager.mainElement.removeEventListener(\"dragstart\", this.onDragStartHandler), t.prototype.detach.call(this);\n      }, e.prototype.onDownCore = function (t) {}, e.prototype.onDragStart = function (t) {\n        this.manager.startDragging(), t.preventDefault();\n      }, e;\n    }(n(105).ToolboxDragEventsHandlerBase);\n\n    e.ToolboxMouseDragEventsHandler = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o259,\n        i = this && this.__extends || (_o259 = function o(t, e) {\n      return (_o259 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o259(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RenderManagerTouchDragEventsHandler = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"enterEventName\", {\n        get: function get() {\n          return \"mouseenter\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"leaveEventName\", {\n        get: function get() {\n          return \"mouseleave\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"downEventName\", {\n        get: function get() {\n          return \"touchstart\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"moveEventName\", {\n        get: function get() {\n          return \"touchmove\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"upEventName\", {\n        get: function get() {\n          return \"touchend\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.onDownCore = function (t) {\n        this.manager.onTouchDown(t);\n      }, e.prototype.onMoveCore = function (t) {\n        this.manager.onTouchMove(t);\n      }, e.prototype.onUpCore = function (t) {\n        this.manager.onTouchUp(t);\n      }, e;\n    }(n(106).RenderManagerDragEventsHandlerBase);\n\n    e.RenderManagerTouchDragEventsHandler = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o260,\n        i = this && this.__extends || (_o260 = function o(t, e) {\n      return (_o260 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o260(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RenderManagerPointerDragEventsHandler = void 0;\n\n    var r = n(24),\n        s = n(161),\n        a = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"enterEventName\", {\n        get: function get() {\n          return \"pointerenter\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"leaveEventName\", {\n        get: function get() {\n          return \"pointerleave\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"downEventName\", {\n        get: function get() {\n          return \"pointerdown\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"moveEventName\", {\n        get: function get() {\n          return \"pointermove\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"upEventName\", {\n        get: function get() {\n          return \"pointerup\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.attach = function (e) {\n        t.prototype.attach.call(this, e);\n        var n = e.svgElement;\n        n.ondragstart = function () {\n          return !1;\n        }, r.DomUtils.addClassName(n, s.TOUCH_ACTION_NONE);\n      }, e.prototype.detach = function () {\n        var e = this.manager.svgElement;\n        e.ondragstart = void 0, r.DomUtils.removeClassName(e, s.TOUCH_ACTION_NONE), t.prototype.detach.call(this);\n      }, e.prototype.onDownCore = function (t) {\n        \"mouse\" !== t.pointerType ? this.manager.onTouchDown(t) : this.manager.onMouseDown(t);\n      }, e.prototype.onMoveCore = function (t) {\n        \"mouse\" !== t.pointerType ? this.manager.onTouchMove(t) : this.manager.onMouseMove(t);\n      }, e.prototype.onUpCore = function (t) {\n        \"mouse\" !== t.pointerType ? this.manager.onTouchUp(t) : this.manager.onMouseUp(t);\n      }, e;\n    }(n(106).RenderManagerDragEventsHandlerBase);\n\n    e.RenderManagerPointerDragEventsHandler = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    var _o261,\n        i = this && this.__extends || (_o261 = function o(t, e) {\n      return (_o261 = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n      })(t, e);\n    }, function (t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _o261(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    });\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.RenderManagerMouseDragEventsHandler = void 0;\n\n    var r = function (t) {\n      function e() {\n        return null !== t && t.apply(this, arguments) || this;\n      }\n\n      return i(e, t), Object.defineProperty(e.prototype, \"enterEventName\", {\n        get: function get() {\n          return \"mouseenter\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"leaveEventName\", {\n        get: function get() {\n          return \"mouseleave\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"downEventName\", {\n        get: function get() {\n          return \"mousedown\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"moveEventName\", {\n        get: function get() {\n          return \"mousemove\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"upEventName\", {\n        get: function get() {\n          return \"mouseup\";\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.onDownCore = function (t) {\n        this.manager.onMouseDown(t);\n      }, e.prototype.onMoveCore = function (t) {\n        this.manager.onMouseMove(t);\n      }, e.prototype.onUpCore = function (t) {\n        this.manager.onMouseUp(t);\n      }, e;\n    }(n(106).RenderManagerDragEventsHandlerBase);\n\n    e.RenderManagerMouseDragEventsHandler = r;\n  }, function (t, e, n) {}]);\n});","map":null,"metadata":{},"sourceType":"script"}