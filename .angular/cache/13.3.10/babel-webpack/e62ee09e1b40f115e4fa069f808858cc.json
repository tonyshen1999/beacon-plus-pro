{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_state_mixin.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { noop } from \"../../core/utils/common\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getDefaultAlignment } from \"../../core/utils/position\";\nvar COLUMN_INDICATORS_CLASS = \"dx-column-indicators\";\nvar GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\nexport default {\n  _applyColumnState: function _applyColumnState(options) {\n    var _that$component;\n\n    var rtlEnabled = this.option(\"rtlEnabled\");\n\n    var columnAlignment = this._getColumnAlignment(options.column.alignment, rtlEnabled);\n\n    var parameters = extend(true, {\n      columnAlignment: columnAlignment\n    }, options);\n    var isGroupPanelItem = parameters.rootElement.hasClass(GROUP_PANEL_ITEM_CLASS);\n\n    var $indicatorsContainer = this._createIndicatorContainer(parameters, isGroupPanelItem);\n\n    var $span = $(\"<span>\").addClass(this._getIndicatorClassName(options.name));\n    var columnsController = null === (_that$component = this.component) || void 0 === _that$component ? void 0 : _that$component.getController(\"columns\");\n    var indicatorAlignment = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getHeaderContentAlignment(columnAlignment)) || columnAlignment;\n    parameters.container = $indicatorsContainer;\n    parameters.indicator = $span;\n\n    this._renderIndicator(parameters);\n\n    $indicatorsContainer[(isGroupPanelItem || !options.showColumnLines) && \"left\" === indicatorAlignment ? \"appendTo\" : \"prependTo\"](options.rootElement);\n    return $span;\n  },\n  _getIndicatorClassName: noop,\n  _getColumnAlignment: function _getColumnAlignment(alignment, rtlEnabled) {\n    rtlEnabled = rtlEnabled || this.option(\"rtlEnabled\");\n    return alignment && \"center\" !== alignment ? alignment : getDefaultAlignment(rtlEnabled);\n  },\n  _createIndicatorContainer: function _createIndicatorContainer(options, ignoreIndicatorAlignment) {\n    var $indicatorsContainer = this._getIndicatorContainer(options.rootElement);\n\n    var indicatorAlignment = \"left\" === options.columnAlignment ? \"right\" : \"left\";\n\n    if (!$indicatorsContainer.length) {\n      $indicatorsContainer = $(\"<div>\").addClass(COLUMN_INDICATORS_CLASS);\n    }\n\n    this.setAria(\"role\", \"presentation\", $indicatorsContainer);\n    return $indicatorsContainer.css(\"float\", options.showColumnLines && !ignoreIndicatorAlignment ? indicatorAlignment : null);\n  },\n  _getIndicatorContainer: function _getIndicatorContainer($cell) {\n    return $cell && $cell.find(\".\" + COLUMN_INDICATORS_CLASS);\n  },\n  _getIndicatorElements: function _getIndicatorElements($cell) {\n    var $indicatorContainer = this._getIndicatorContainer($cell);\n\n    return $indicatorContainer && $indicatorContainer.children();\n  },\n  _renderIndicator: function _renderIndicator(options) {\n    var $container = options.container;\n    var $indicator = options.indicator;\n    $container && $indicator && $container.append($indicator);\n  },\n  _updateIndicators: function _updateIndicators(indicatorName) {\n    var columns = this.getColumns();\n    var $cells = this.getColumnElements();\n    var $cell;\n\n    if (!$cells || columns.length !== $cells.length) {\n      return;\n    }\n\n    for (var i = 0; i < columns.length; i++) {\n      $cell = $cells.eq(i);\n\n      this._updateIndicator($cell, columns[i], indicatorName);\n\n      var rowOptions = $cell.parent().data(\"options\");\n\n      if (rowOptions && rowOptions.cells) {\n        rowOptions.cells[$cell.index()].column = columns[i];\n      }\n    }\n  },\n  _updateIndicator: function _updateIndicator($cell, column, indicatorName) {\n    if (!column.command) {\n      return this._applyColumnState({\n        name: indicatorName,\n        rootElement: $cell,\n        column: column,\n        showColumnLines: this.option(\"showColumnLines\")\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}