{"ast":null,"code":"import _classCallCheck from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.size_helper.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getHeight, setHeight, setWidth } from \"../../core/utils/size\";\nimport { hasWindow } from \"../../core/utils/window\";\nexport var GanttSizeHelper = /*#__PURE__*/function () {\n  function GanttSizeHelper(gantt) {\n    _classCallCheck(this, GanttSizeHelper);\n\n    this._gantt = gantt;\n  }\n\n  _createClass(GanttSizeHelper, [{\n    key: \"_setTreeListDimension\",\n    value: function _setTreeListDimension(dimension, value) {\n      var _this$_gantt$_ganttTr;\n\n      var setter = \"width\" === dimension ? setWidth : setHeight;\n      var getter = \"width\" === dimension ? getWidth : getHeight;\n      setter(this._gantt._$treeListWrapper, value);\n      null === (_this$_gantt$_ganttTr = this._gantt._ganttTreeList) || void 0 === _this$_gantt$_ganttTr ? void 0 : _this$_gantt$_ganttTr.setOption(dimension, getter(this._gantt._$treeListWrapper));\n    }\n  }, {\n    key: \"_setGanttViewDimension\",\n    value: function _setGanttViewDimension(dimension, value) {\n      var setter = \"width\" === dimension ? setWidth : setHeight;\n      var getter = \"width\" === dimension ? getWidth : getHeight;\n      setter(this._gantt._$ganttView, value);\n\n      this._gantt._setGanttViewOption(dimension, getter(this._gantt._$ganttView));\n    }\n  }, {\n    key: \"_getPanelsWidthByOption\",\n    value: function _getPanelsWidthByOption() {\n      return {\n        leftPanelWidth: this._gantt.option(\"taskListWidth\"),\n        rightPanelWidth: getWidth(this._gantt._$element) - this._gantt.option(\"taskListWidth\")\n      };\n    }\n  }, {\n    key: \"onAdjustControl\",\n    value: function onAdjustControl() {\n      var elementHeight = getHeight(this._gantt._$element);\n      this.updateGanttWidth();\n      this.setGanttHeight(elementHeight);\n    }\n  }, {\n    key: \"onApplyPanelSize\",\n    value: function onApplyPanelSize(e) {\n      this.setInnerElementsWidth(e);\n      this.updateGanttRowHeights();\n    }\n  }, {\n    key: \"updateGanttRowHeights\",\n    value: function updateGanttRowHeights() {\n      var rowHeight = this._gantt._ganttTreeList.getRowHeight();\n\n      if (this._gantt._getGanttViewOption(\"rowHeight\") !== rowHeight) {\n        var _this$_gantt$_ganttVi;\n\n        this._gantt._setGanttViewOption(\"rowHeight\", rowHeight);\n\n        null === (_this$_gantt$_ganttVi = this._gantt._ganttView) || void 0 === _this$_gantt$_ganttVi ? void 0 : _this$_gantt$_ganttVi._ganttViewCore.updateRowHeights(rowHeight);\n      }\n    }\n  }, {\n    key: \"adjustHeight\",\n    value: function adjustHeight() {\n      if (!this._gantt._hasHeight) {\n        this._gantt._setGanttViewOption(\"height\", 0);\n\n        this._gantt._setGanttViewOption(\"height\", this._gantt._ganttTreeList.getOffsetHeight());\n      }\n    }\n  }, {\n    key: \"setInnerElementsWidth\",\n    value: function setInnerElementsWidth(widths) {\n      if (!hasWindow()) {\n        return;\n      }\n\n      if (!widths) {\n        widths = this._getPanelsWidthByOption();\n      }\n\n      this._setTreeListDimension(\"width\", widths.leftPanelWidth);\n\n      this._setGanttViewDimension(\"width\", widths.rightPanelWidth);\n    }\n  }, {\n    key: \"updateGanttWidth\",\n    value: function updateGanttWidth() {\n      this._gantt._splitter._dimensionChanged();\n    }\n  }, {\n    key: \"setGanttHeight\",\n    value: function setGanttHeight(height) {\n      var _this$_gantt$_ganttVi2;\n\n      var toolbarHeightOffset = this._gantt._$toolbarWrapper.get(0).offsetHeight;\n\n      var mainWrapperHeight = height - toolbarHeightOffset;\n\n      this._setTreeListDimension(\"height\", mainWrapperHeight);\n\n      this._setGanttViewDimension(\"height\", mainWrapperHeight);\n\n      null === (_this$_gantt$_ganttVi2 = this._gantt._ganttView) || void 0 === _this$_gantt$_ganttVi2 ? void 0 : _this$_gantt$_ganttVi2._ganttViewCore.resetAndUpdate();\n    }\n  }]);\n\n  return GanttSizeHelper;\n}();","map":null,"metadata":{},"sourceType":"module"}