{"ast":null,"code":"import _classCallCheck from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tonyshen/beacon-pro/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { ScenarioListService } from './scenario-list.service';\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./scenario-list.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\n\nvar _c0 = function _c0() {\n  return [\"dashboard\"];\n};\n\nfunction ScenarioListComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 16)(6, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ScenarioListComponent_tr_27_Template_button_click_6_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r5);\n      var scn_r3 = restoredCtx.$implicit;\n      var ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.viewScn(scn_r3.scn_id, scn_r3.version, scn_r3.name);\n    });\n    i0.ɵɵtext(7, \"View\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var scn_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", scn_r3.scn_id, \".\", scn_r3.version, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(scn_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n  }\n}\n\nfunction ScenarioListComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"h4\", 19);\n    i0.ɵɵtext(2, \"Create Scenario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ScenarioListComponent_ng_template_28_Template_button_click_3_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r10);\n      var modal_r6 = restoredCtx.$implicit;\n      return modal_r6.dismiss(\"Cross click\");\n    });\n    i0.ɵɵtext(4, \"X\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 21)(6, \"form\", 22, 23);\n    i0.ɵɵlistener(\"ngSubmit\", function ScenarioListComponent_ng_template_28_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r10);\n\n      var _r7 = i0.ɵɵreference(7);\n\n      var ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.onSubmit(_r7);\n    });\n    i0.ɵɵelementStart(8, \"div\", 24);\n    i0.ɵɵelement(9, \"label\", 25)(10, \"input\", 26, 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 24);\n    i0.ɵɵelement(13, \"label\", 28)(14, \"input\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 24)(16, \"button\");\n    i0.ɵɵtext(17, \"Submit\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nexport var ScenarioListComponent = /*#__PURE__*/(function () {\n  var ScenarioListComponent = /*#__PURE__*/function () {\n    function ScenarioListComponent(scnList, modalService) {\n      var _this = this;\n\n      _classCallCheck(this, ScenarioListComponent);\n\n      this.scnList = scnList;\n      this.modalService = modalService;\n      this.scenarioList = [];\n\n      this.getScenarios = function () {\n        _this.scnList.getAllScenarios().subscribe(function (data) {\n          _this.scenarios = data; // for(let scn of this.scenarios.scenarios){\n          //   let scnToAdd:Scenario = new Scenario();\n          //   scnToAdd.scenario_id = scn.scn_id;\n          //   scnToAdd.scenario = scn.name;\n          //   scnToAdd.description = scn.description;\n          //   scnToAdd.currentVersion =scn.version;\n          //   this.scenarioList.push(scnToAdd);\n          // }\n        }, function (error) {\n          console.log(error);\n        });\n      };\n\n      this.createScenario = function (f) {\n        console.log(f.id);\n\n        _this.scnList.createScenario(f).subscribe(function (data) {\n          // this.scenarios.push(data);\n          _this.getScenarios();\n        }, function (error) {\n          console.log(error);\n        });\n      };\n    }\n\n    _createClass(ScenarioListComponent, [{\n      key: \"viewScn\",\n      value: function viewScn(scnID, version, scnName) {\n        sessionStorage.setItem(\"scnID\", scnID);\n        sessionStorage.setItem(\"scnVersion\", version);\n        sessionStorage.setItem(\"scnName\", scnName);\n      }\n    }, {\n      key: \"onSubmit\",\n      value: function onSubmit(f) {\n        // console.log(f.value)\n        this.createScenario(f.value);\n        this.ngOnInit();\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.getScenarios();\n      }\n    }, {\n      key: \"open\",\n      value: function open(content) {\n        var _this2 = this;\n\n        this.modalService.open(content, {\n          ariaLabelledBy: 'modal-basic-title'\n        }).result.then(function (result) {\n          _this2.closeResult = \"Closed with: \".concat(result);\n        }, function (reason) {\n          _this2.closeResult = \"Dismissed \".concat(_this2.getDismissReason(reason));\n        });\n      }\n    }, {\n      key: \"getDismissReason\",\n      value: function getDismissReason(reason) {\n        if (reason === ModalDismissReasons.ESC) {\n          return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n          return 'by clicking on a backdrop';\n        } else {\n          return \"with: \".concat(reason);\n        }\n      }\n    }]);\n\n    return ScenarioListComponent;\n  }();\n\n  ScenarioListComponent.ɵfac = function ScenarioListComponent_Factory(t) {\n    return new (t || ScenarioListComponent)(i0.ɵɵdirectiveInject(i1.ScenarioListService), i0.ɵɵdirectiveInject(i2.NgbModal));\n  };\n\n  ScenarioListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ScenarioListComponent,\n    selectors: [[\"app-scenario-list\"]],\n    features: [i0.ɵɵProvidersFeature([ScenarioListService])],\n    decls: 33,\n    vars: 2,\n    consts: [[1, \"main-panel\"], [1, \"container\"], [1, \"row\"], [1, \"col-sm-6\", \"text-left\"], [1, \"card-title\"], [1, \"content\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\"], [1, \"btn\", \"btn-light\", 3, \"click\"], [1, \"card-body\"], [1, \"table-responsive\"], [\"id\", \"\", 1, \"table\", \"tablesorter\"], [1, \"text-primary\"], [4, \"ngFor\", \"ngForOf\"], [\"content\", \"\"], [1, \"text-center\"], [1, \"btn\", \"btn-light\", 3, \"routerLink\", \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"modal-body\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [\"clas\", \"input-group\"], [\"for\", \"id\"], [\"name\", \"id\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"first\", \"ngModel\"], [\"for\", \"name\"], [\"name\", \"name\", \"ngModel\", \"\"]],\n    template: function ScenarioListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r12 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h2\", 4);\n        i0.ɵɵtext(6, \"SCENARIO LIST\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"div\", 1)(8, \"div\", 5)(9, \"div\", 2)(10, \"div\", 6)(11, \"div\", 7)(12, \"div\", 8)(13, \"h4\", 4);\n        i0.ɵɵtext(14, \"Scenarios\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function ScenarioListComponent_Template_button_click_15_listener() {\n          i0.ɵɵrestoreView(_r12);\n\n          var _r1 = i0.ɵɵreference(29);\n\n          return ctx.open(_r1);\n        });\n        i0.ɵɵtext(16, \"Add Scenario\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"div\", 11)(19, \"table\", 12)(20, \"thead\", 13)(21, \"tr\")(22, \"th\");\n        i0.ɵɵtext(23, \"Scenario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Name\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"tbody\");\n        i0.ɵɵtemplate(27, ScenarioListComponent_tr_27_Template, 8, 5, \"tr\", 14);\n        i0.ɵɵelementEnd()()()()()()()()()();\n        i0.ɵɵtemplate(28, ScenarioListComponent_ng_template_28_Template, 18, 0, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelement(30, \"hr\");\n        i0.ɵɵelementStart(31, \"pre\");\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"ngForOf\", ctx.scenarios.scenarios);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.closeResult);\n      }\n    },\n    directives: [i3.NgForOf, i4.RouterLink, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i5.RequiredValidator],\n    styles: [\"\"]\n  });\n  return ScenarioListComponent;\n})();\nexport var Scenario = /*#__PURE__*/_createClass(function Scenario() {\n  _classCallCheck(this, Scenario);\n\n  this.scenario_id = 0;\n  this.scenario = \"\";\n  this.description = \"\";\n  this.periods = \"\";\n  this.currentVersion = 0;\n});","map":null,"metadata":{},"sourceType":"module"}