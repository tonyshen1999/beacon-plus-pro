{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.swipe.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth } from \"../../core/utils/size\";\nimport { move } from \"../../animation/translator\";\nimport fx from \"../../animation/fx\";\nimport { register as registerDecorator } from \"./ui.list.edit.decorator_registry\";\nimport EditDecorator from \"./ui.list.edit.decorator\";\nimport { Deferred } from \"../../core/utils/deferred\";\nregisterDecorator(\"delete\", \"swipe\", EditDecorator.inherit({\n  _shouldHandleSwipe: true,\n  _renderItemPosition: function _renderItemPosition($itemElement, offset, animate) {\n    var deferred = new Deferred();\n    var itemOffset = offset * this._itemElementWidth;\n\n    if (animate) {\n      fx.animate($itemElement, {\n        to: {\n          left: itemOffset\n        },\n        type: \"slide\",\n        complete: function complete() {\n          deferred.resolve($itemElement, offset);\n        }\n      });\n    } else {\n      move($itemElement, {\n        left: itemOffset\n      });\n      deferred.resolve();\n    }\n\n    return deferred.promise();\n  },\n  _swipeStartHandler: function _swipeStartHandler($itemElement) {\n    this._itemElementWidth = getWidth($itemElement);\n    return true;\n  },\n  _swipeUpdateHandler: function _swipeUpdateHandler($itemElement, args) {\n    this._renderItemPosition($itemElement, args.offset);\n\n    return true;\n  },\n  _swipeEndHandler: function _swipeEndHandler($itemElement, args) {\n    var offset = args.targetOffset;\n\n    this._renderItemPosition($itemElement, offset, true).done(function ($itemElement, offset) {\n      if (Math.abs(offset)) {\n        this._list.deleteItem($itemElement).fail(function () {\n          this._renderItemPosition($itemElement, 0, true);\n        }.bind(this));\n      }\n    }.bind(this));\n\n    return true;\n  }\n}));","map":null,"metadata":{},"sourceType":"module"}